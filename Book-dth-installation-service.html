<!doctype html>
<html lang="hi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DTH Installation Service - Sonipat Home Service</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        .plan-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .plan-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        .toast.show {
            transform: translateX(0);
        }
        .toast.success {
            background-color: #10b981;
        }
        .toast.error {
            background-color: #ef4444;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }
        .payment-modal {
            z-index: 2000 !important;
        }
        .razorpay-container {
            z-index: 2100 !important;
        }
        /* Global Razorpay z-index fixes */
        .razorpay-backdrop {
            z-index: 2050 !important;
        }
        .razorpay-checkout-frame {
            z-index: 2100 !important;
        }
        .razorpay-container iframe {
            z-index: 2100 !important;
        }
        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 100%;
            max-height: 80%;
            overflow-y: auto;
            position: relative;
        }
        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }
        .channel-item {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            text-align: center;
            font-size: 14px;
            border: 1px solid #e9ecef;
        }
        .channel-category {
            background: #e3f2fd;
            color: #1565c0;
            font-weight: 600;
            grid-column: 1 / -1;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gradient-to-br from-blue-50 to-indigo-100"><!-- Header -->
  <header class="bg-white shadow-lg">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <div class="flex flex-col sm:flex-row justify-between items-center">
     <div class="mb-4 sm:mb-0">
      <h1 id="company-name" class="text-2xl sm:text-3xl font-bold text-indigo-600">Sonipat Home Service.com</h1>
      <p class="text-gray-600 text-sm sm:text-base">Professional DTH Installation Services</p>
     </div>
     <div class="text-center sm:text-right">
      <p class="text-gray-700 font-semibold">Customer Care</p>
      <p id="customer-care" class="text-indigo-600 font-bold text-lg">8816014071</p>
      <p id="email-address" class="text-gray-600 text-sm">care@sonipathomeservice.com</p>
     </div>
    </div>
   </div>
  </header>
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!-- Plans Section -->
   <section class="mb-12">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">DTH Plans &amp; Packages</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="plans-container"><!-- DD Free Dish -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-green-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-green-600">DD Free Dish</h3>
       <div class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        Lifetime Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ HD+ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ 10 Mtr Wire Included</p>
       <p class="text-gray-700">âœ“ 250+ Free HD + SD Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-green-600">â‚¹1,599</span>
       <p class="text-gray-500 text-sm">One-time payment</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('DD Free Dish')" class="w-full bg-green-100 hover:bg-green-200 text-green-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-green-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('DD Free Dish', 'DD Free Dish-HD+ Set Top Box+Installation+ 10 Mtr Wire+ 10 Mtr Wire', 1599)" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- Dish TV 1 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-orange-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-orange-600">Dish TV</h3>
       <div class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        1 Month Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-orange-600">â‚¹1,899</span>
       <p class="text-gray-500 text-sm">1 Month Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('Dish TV')" class="w-full bg-orange-100 hover:bg-orange-200 text-orange-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-orange-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('Dish TV', 'Dish TV+ Set Top Box+Installation+ A1810 Mtr Wire , 1 Month Free, 250+ Paid Channel', 1899)" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- Dish TV 12 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-orange-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-orange-600">Dish TV</h3>
       <div class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        12 Months Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-orange-600">â‚¹3,520</span>
       <p class="text-gray-500 text-sm">12 Months Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('Dish TV')" class="w-full bg-orange-100 hover:bg-orange-200 text-orange-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-orange-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('Dish TV', 'Dish TV+ Set Top Box+Installation+ A1810 Mtr Wire , 12 Month Free, 250+ Paid Channel', 3520)" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- TATA SKY 1 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-red-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-red-600">TATA SKY</h3>
       <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        1 Month Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-red-600">â‚¹1,999</span>
       <p class="text-gray-500 text-sm">1 Month Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('TATA SKY')" class="w-full bg-red-100 hover:bg-red-200 text-red-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-red-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('TATA SKY', 'TATA SKY+ Set Top Box+Installation+ A1810 Mtr Wire , 1 Month Free, 250+ Paid Channel', 1999)" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- TATA SKY 12 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-red-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-red-600">TATA SKY</h3>
       <div class="bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        12 Months Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-red-600">â‚¹3,600</span>
       <p class="text-gray-500 text-sm">12 Months Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('TATA SKY')" class="w-full bg-red-100 hover:bg-red-200 text-red-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-red-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('TATA SKY', 'TATA SKY+ Set Top Box+Installation+ A1810 Mtr Wire , 12 Month Free, 250+ Paid Channel', 3600)" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- Airtel TV 1 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-purple-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-purple-600">Airtel TV</h3>
       <div class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        1 Month Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-purple-600">â‚¹1,999</span>
       <p class="text-gray-500 text-sm">1 Month Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('Airtel TV')" class="w-full bg-purple-100 hover:bg-purple-200 text-purple-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-purple-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('Airtel TV', 'Airtel tv+ Set Top Box+Installation+ A1810 Mtr Wire , 1 Month Free, 250+ Paid Channel', 1999)" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div><!-- Airtel TV 12 Month -->
     <div class="plan-card bg-white rounded-xl shadow-md p-6 border-2 border-purple-200">
      <div class="text-center mb-4">
       <h3 class="text-xl font-bold text-purple-600">Airtel TV</h3>
       <div class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-semibold inline-block mt-2">
        12 Months Free
       </div>
      </div>
      <div class="space-y-2 mb-6">
       <p class="text-gray-700">âœ“ Set Top Box</p>
       <p class="text-gray-700">âœ“ Professional Installation</p>
       <p class="text-gray-700">âœ“ A1810 Mtr Wire</p>
       <p class="text-gray-700">âœ“ 250+ Paid Channels</p>
      </div>
      <div class="text-center mb-4"><span class="text-3xl font-bold text-purple-600">â‚¹3,600</span>
       <p class="text-gray-500 text-sm">12 Months Free</p>
      </div>
      <div class="space-y-2"><button onclick="showChannelList('Airtel TV')" class="w-full bg-purple-100 hover:bg-purple-200 text-purple-700 font-semibold py-2 px-4 rounded-lg transition duration-200 border border-purple-300"> ðŸ“º See Channel List </button> <button onclick="addToCart('Airtel TV', 'Airtel tv+ Set Top Box+Installation+ A1810 Mtr Wire , 12 Month Free, 250+ Paid Channel', 3600)" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Add to Cart </button>
      </div>
     </div>
    </div>
   </section><!-- Cart Section -->
   <section id="cart-section" class="mb-12 hidden">
    <div class="bg-white rounded-xl shadow-lg p-6">
     <h3 class="text-2xl font-bold text-gray-800 mb-6">Your Cart</h3>
     <div id="cart-items" class="space-y-4 mb-6"></div>
     <div class="border-t pt-4">
      <div class="space-y-2">
       <div class="flex justify-between items-center text-lg"><span>Total Amount:</span> <span id="cart-total" class="text-gray-800 font-semibold">â‚¹0</span>
       </div>
       <div class="flex justify-between items-center text-lg text-green-600"><span>Booking Charge (Pay Now):</span> <span class="font-bold">â‚¹99</span>
       </div>
       <div class="flex justify-between items-center text-lg text-blue-600"><span>Remaining (Pay on Installation):</span> <span id="remaining-amount" class="font-bold">â‚¹0</span>
       </div>
      </div>
     </div><button onclick="proceedToCheckout()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded-lg mt-4 transition duration-200"> Book Now - Pay â‚¹99 Only </button>
    </div>
   </section><!-- Customer Details Form Modal -->
   <div id="checkout-modal" class="modal hidden">
    <div class="modal-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4">
       <h3 class="text-2xl font-bold text-gray-800">Customer Details</h3><button onclick="closeCheckoutModal()" class="text-gray-500 hover:text-gray-700 text-3xl font-bold"> Ã— </button>
      </div>
      <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
       <div class="flex items-center mb-2"><span class="text-blue-600 text-xl mr-2">ðŸ’°</span>
        <h4 class="font-semibold text-blue-800">Payment Information</h4>
       </div>
       <div class="space-y-1 text-sm">
        <p><strong>Total Amount:</strong> <span id="modal-total">â‚¹0</span></p>
        <p class="text-green-600"><strong>Pay Now (Booking):</strong> â‚¹99</p>
        <p class="text-blue-600"><strong>Pay on Installation:</strong> <span id="modal-remaining">â‚¹0</span></p>
       </div>
      </div>
      <form id="customer-form" class="space-y-4">
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div><label for="customer-name" class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label> <input type="text" id="customer-name" name="customer-name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>
        <div><label for="mobile" class="block text-sm font-medium text-gray-700 mb-2">Mobile Number *</label> <input type="tel" id="mobile" name="mobile" required pattern="[0-9]{10}" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>
       </div>
       <div><label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label> <input type="email" id="email" name="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
       </div>
       <div><label for="address" class="block text-sm font-medium text-gray-700 mb-2">Full Address *</label> <textarea id="address" name="address" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
       </div>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div><label for="landmark" class="block text-sm font-medium text-gray-700 mb-2">Landmark</label> <input type="text" id="landmark" name="landmark" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>
        <div><label for="pincode" class="block text-sm font-medium text-gray-700 mb-2">Pincode *</label> <input type="text" id="pincode" name="pincode" required pattern="[0-9]{6}" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>
       </div>
       <div class="flex space-x-4 pt-4"><button type="button" onclick="closeCheckoutModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Cancel </button> <button type="submit" id="payment-btn" class="flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200"> Pay Booking Charge â‚¹99 (Razorpay) </button>
       </div>
      </form>
     </div>
    </div>
   </div>
  </main><!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 mt-12">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-lg font-semibold mb-4">Contact Information</h4>
      <p class="mb-2">ðŸ“ž Customer Care: <span id="footer-phone">8816014071</span></p>
      <p class="mb-2">ðŸ“§ Email: <span id="footer-email">care@sonipathomeservice.com</span></p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">Office Address</h4>
      <p id="office-address">128/1, Sainipura, Sonipat</p>
     </div>
     <div>
      <h4 class="text-lg font-semibold mb-4">Services</h4>
      <p>Professional DTH Installation</p>
      <p>All Major Providers Supported</p>
      <p>Same Day Installation Available</p>
     </div>
    </div>
    <div class="border-t border-gray-700 mt-8 pt-8 text-center">
     <p>Â© 2024 Sonipat Home Service. All rights reserved.</p>
    </div>
   </div>
  </footer>
  <script>
        // Configuration
        const defaultConfig = {
            company_name: "Sonipat Home Service.com",
            customer_care: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };

        let cart = [];
        let currentRecordCount = 0;

        // Channel Lists Data
        const channelLists = {
            'DD Free Dish': {
                title: 'DD Free Dish - 163 Free Channels (Latest 2024 Update)',
                channels: {
                    'Movies': [
                        'Action Cinema', 'All Time Movies', 'B4U Movies', 'B4U Bhojpuri', 'Bhojpuri Cinema',
                        'Colors Cineplex Bollywood', 'Colors Cineplex Superhits', 'Goldmines', 'Goldmines Movies', 'Goldmines Bollywood',
                        'Manoranjan Movies', 'Manoranjan Grand', 'Oscar Movies Bhojpuri', 'Show Box', 'Shemaroo TV',
                        'Star Utsav Movies', 'Sony Wah', 'Zee Anmol Cinema', 'Zee Anmol Cinema 2', 'Zee Biskope',
                        'Zee Chitramandir'
                    ],
                    'General Entertainment': [
                        'Big Magic', 'Colors Rishtey', 'Dangal', 'Dangal2', 'DD National', 'DD Bharati',
                        'Fakt Marathi', 'Manoranjan TV', 'Nazara', 'Shemaroo Umang', 'Sony Pal',
                        'Star Utsav', 'SUN Marathi', 'SUN Neo', 'THE Q', 'Unique TV', 'Zee Anmol',
                        'B4U Kadak', 'Filmachi Bhojpuri', 'Shemaroo Josh', 'Shemaroo Marathibana'
                    ],
                    'News': [
                        'DD News', 'DD News (HD)', 'Aaj Tak', 'ABP News', 'Good News Today', 'India News',
                        'India TV', 'News 24 Think First', 'News Nation', 'News 18 India', 'NDTV India',
                        'RT', 'Times Navbharat', 'TV 9 Bharatvarsh', 'TV9 Marathi', 'TV9 Telugu', 'TV9 Gujtathi',
                        'Zee News', 'Zee 24 Kalak', 'Republic Bharat', 'Bharat Express', 'Bharat 24 Vision',
                        'Bansal News', 'Sudarshan News', 'MH One News', 'V TV News', 'TNP News', 'Live Times',
                        'Prag News', 'Sandesh News', 'Argus News', 'Jai Maharashtra'
                    ],
                    'Songs & Music': [
                        'B4U Music', 'Punjabi Hits', 'Chardikla Time', 'Tabbar Hits'
                    ],
                    'Religious & Spiritual': [
                        'Aastha', 'Aastha Bhajan', 'Aastha Gujrathi', 'Aastha Kannada', 'Aastha Telugu',
                        'Sanskar TV', 'Satsang', 'Sadhna Gold'
                    ],
                    'Regional Channels': [
                        'DD Tamil', 'DD Tamil HD', 'DD Punjabi', 'DD Sahyadri', 'DD Sahyadri HD', 'DD Girnar', 'DD Girnar HD',
                        'DD Odia', 'DD Odia HD', 'DD Yadagiri', 'DD U P', 'DD H P', 'DD Rajasthan', 'DD Bihar',
                        'DD Jharkhand', 'DD MP', 'DD Tripura', 'DD Chhatisgarh', 'DD Kashir', 'DD Chandana',
                        'DD Uttrakhand', 'DD Saptagiri', 'DD Malayalam', 'DD Assam', 'DD Arun Prabha', 'DD Bangla',
                        'DD Goa', 'DD Haryana', 'DD Meghalaya', 'DD Manipur', 'DD Nagaland', 'DD Mizoram', 'DD Urdu'
                    ],
                    'Sports & Others': [
                        'DD Sports', 'DD Sports(HD)', 'DD Kisan', 'DD Kisan (HD)', 'DD India', 'DD India (HD)',
                        'DD National (HD)', 'Sansad TV1', 'Sansad TV1 (HD)', 'Sansad TV 2', 'Sansad TV 2 (HD)',
                        'KBS World', 'Captain', 'Pasand', 'MH One', 'MH One Dil se', 'Rengoni'
                    ]
                }
            },
            'Dish TV': {
                title: 'Dish TV - 250+ Premium Channels',
                channels: {
                    'Entertainment': [
                        'Star Plus', 'Colors', 'Sony TV', 'Zee TV', 'Star Bharat',
                        'Colors Rishtey', 'Sony SAB', 'Zee Anmol', '&TV', 'Star Utsav',
                        'Sony Pal', 'Zee Bollywood', 'B4U Movies', 'UTV Movies',
                        'Sony MAX', 'Zee Cinema', 'Star Gold', 'Colors Cineplex'
                    ],
                    'News': [
                        'Aaj Tak', 'India TV', 'Zee News', 'ABP News', 'Times Now',
                        'Republic TV', 'CNN News18', 'India Today', 'NDTV 24x7',
                        'News18 India', 'Zee Business', 'CNBC TV18', 'ET Now'
                    ],
                    'Sports': [
                        'Star Sports 1', 'Star Sports 2', 'Sony Ten 1', 'Sony Ten 2',
                        'Sony Ten 3', 'Eurosport', 'Neo Sports', 'Neo Prime',
                        'DD Sports', 'Star Sports Select 1', 'Star Sports Select 2'
                    ],
                    'Movies': [
                        'Sony MAX', 'Zee Cinema', 'Star Gold', 'Colors Cineplex',
                        'Sony MAX 2', 'Zee Action', 'Star Gold Select', 'UTV Action',
                        'B4U Movies', 'Rishtey Cineplex', 'Sony WAH', 'Zee Bollywood'
                    ],
                    'Regional': [
                        'Star Jalsha', 'Zee Bangla', 'Colors Bangla', 'Sony Aath',
                        'Sun TV', 'Colors Tamil', 'Vijay TV', 'Zee Tamil',
                        'ETV Telugu', 'Gemini TV', 'Star Maa', 'Zee Telugu'
                    ],
                    'Kids': [
                        'Disney Channel', 'Cartoon Network', 'Pogo', 'Nick',
                        'Discovery Kids', 'Sony YAY!', 'Hungama TV', 'Super Hungama'
                    ],
                    'Music': [
                        'MTV', '9XM', 'Music India', 'Mastiii', 'B4U Music',
                        'Zoom', 'E24', 'VH1', 'Channel V', 'Zing'
                    ],
                    'Lifestyle': [
                        'TLC', 'Food Food', 'NDTV Good Times', 'Zee Cafe',
                        'Comedy Central', 'Colors Infinity', 'AXN', 'Star World'
                    ]
                }
            },
            'TATA SKY': {
                title: 'TATA SKY - 250+ Premium Channels',
                channels: {
                    'Entertainment': [
                        'Star Plus', 'Colors', 'Sony TV', 'Zee TV', 'Star Bharat',
                        'Colors Rishtey', 'Sony SAB', 'Zee Anmol', '&TV', 'Star Utsav',
                        'Sony Pal', 'Zee Bollywood', 'B4U Movies', 'UTV Movies'
                    ],
                    'News': [
                        'Aaj Tak', 'India TV', 'Zee News', 'ABP News', 'Times Now',
                        'Republic TV', 'CNN News18', 'India Today', 'NDTV 24x7',
                        'News18 India', 'Zee Business', 'CNBC TV18', 'ET Now'
                    ],
                    'Sports': [
                        'Star Sports 1 HD', 'Star Sports 2 HD', 'Sony Ten 1 HD',
                        'Sony Ten 2 HD', 'Sony Ten 3 HD', 'Eurosport HD',
                        'Neo Sports', 'Neo Prime', 'DD Sports'
                    ],
                    'Movies': [
                        'Sony MAX HD', 'Zee Cinema HD', 'Star Gold HD', 'Colors Cineplex HD',
                        'Sony MAX 2', 'Zee Action', 'Star Gold Select', 'UTV Action',
                        'B4U Movies', 'Rishtey Cineplex', 'Sony WAH'
                    ],
                    'Premium': [
                        'HBO', 'Star Movies', 'Movies Now', 'MN+', 'Star Movies Select',
                        'Sony PIX', 'Zee Studio', 'Comedy Central HD', 'Colors Infinity HD'
                    ],
                    'Regional': [
                        'Star Jalsha HD', 'Zee Bangla HD', 'Colors Bangla HD',
                        'Sun TV HD', 'Colors Tamil HD', 'Vijay TV HD',
                        'ETV Telugu HD', 'Gemini TV HD', 'Star Maa HD'
                    ],
                    'Kids': [
                        'Disney Channel', 'Cartoon Network HD', 'Pogo', 'Nick HD',
                        'Discovery Kids', 'Sony YAY!', 'Hungama TV'
                    ],
                    'Music': [
                        'MTV HD', '9XM', 'Music India', 'Mastiii', 'B4U Music',
                        'Zoom', 'E24', 'VH1', 'Channel V'
                    ]
                }
            },
            'Airtel TV': {
                title: 'Airtel Digital TV - 250+ Premium Channels',
                channels: {
                    'Entertainment': [
                        'Star Plus HD', 'Colors HD', 'Sony TV HD', 'Zee TV HD',
                        'Star Bharat', 'Colors Rishtey', 'Sony SAB', 'Zee Anmol',
                        '&TV', 'Star Utsav', 'Sony Pal', 'Zee Bollywood'
                    ],
                    'News': [
                        'Aaj Tak HD', 'India TV', 'Zee News', 'ABP News',
                        'Times Now', 'Republic TV', 'CNN News18', 'India Today',
                        'NDTV 24x7', 'News18 India', 'Zee Business'
                    ],
                    'Sports': [
                        'Star Sports 1 HD', 'Star Sports 2 HD', 'Sony Ten 1 HD',
                        'Sony Ten 2 HD', 'Sony Ten 3 HD', 'Eurosport HD',
                        'Neo Sports', 'Neo Prime', 'DD Sports'
                    ],
                    'Movies': [
                        'Sony MAX HD', 'Zee Cinema HD', 'Star Gold HD',
                        'Colors Cineplex HD', 'Sony MAX 2', 'Zee Action',
                        'Star Gold Select', 'UTV Action', 'B4U Movies'
                    ],
                    'Premium English': [
                        'HBO HD', 'Star Movies HD', 'Movies Now HD', 'MN+ HD',
                        'Sony PIX HD', 'Zee Studio HD', 'Comedy Central HD',
                        'Colors Infinity HD', 'AXN HD', 'Star World HD'
                    ],
                    'Regional': [
                        'Star Jalsha HD', 'Zee Bangla HD', 'Colors Bangla HD',
                        'Sun TV HD', 'Colors Tamil HD', 'Vijay TV HD',
                        'ETV Telugu HD', 'Gemini TV HD', 'Star Maa HD'
                    ],
                    'Kids': [
                        'Disney Channel HD', 'Cartoon Network HD', 'Pogo',
                        'Nick HD', 'Discovery Kids', 'Sony YAY!', 'Hungama TV'
                    ],
                    'Music & Lifestyle': [
                        'MTV HD', '9XM', 'Music India', 'Mastiii', 'B4U Music',
                        'TLC HD', 'Food Food', 'NDTV Good Times', 'Zee Cafe'
                    ]
                }
            }
        };

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                currentRecordCount = data.length;
                // Update UI if needed for order history
            }
        };

        // Element SDK Implementation
        async function onConfigChange(config) {
            const companyName = config.company_name || defaultConfig.company_name;
            const customerCare = config.customer_care || defaultConfig.customer_care;
            const emailAddress = config.email_address || defaultConfig.email_address;
            const officeAddress = config.office_address || defaultConfig.office_address;

            document.getElementById('company-name').textContent = companyName;
            document.getElementById('customer-care').textContent = customerCare;
            document.getElementById('email-address').textContent = emailAddress;
            document.getElementById('footer-phone').textContent = customerCare;
            document.getElementById('footer-email').textContent = emailAddress;
            document.getElementById('office-address').textContent = officeAddress;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["customer_care", config.customer_care || defaultConfig.customer_care],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ]);
        }

        // Initialize SDKs
        async function initializeApp() {
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }

            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    showToast("Failed to initialize data storage", "error");
                }
            }
        }

        // Cart Functions
        function addToCart(provider, planName, price) {
            const item = {
                id: Date.now().toString(),
                provider: provider,
                plan: planName,
                price: price
            };
            
            cart.push(item);
            updateCartDisplay();
            showToast("Plan added to cart!", "success");
        }

        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            updateCartDisplay();
            showToast("Item removed from cart", "success");
        }

        function updateCartDisplay() {
            const cartSection = document.getElementById('cart-section');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            
            if (cart.length === 0) {
                cartSection.classList.add('hidden');
                return;
            }
            
            cartSection.classList.remove('hidden');
            
            cartItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center p-4 border border-gray-200 rounded-lg">
                    <div>
                        <h4 class="font-semibold text-gray-800">${item.provider}</h4>
                        <p class="text-sm text-gray-600">${item.plan}</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="font-bold text-lg">â‚¹${item.price}</span>
                        <button onclick="removeFromCart('${item.id}')" 
                                class="text-red-600 hover:text-red-800 font-semibold">
                            Remove
                        </button>
                    </div>
                </div>
            `).join('');
            
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            const remainingAmount = Math.max(0, total - 99);
            
            cartTotal.textContent = `â‚¹${total}`;
            document.getElementById('remaining-amount').textContent = `â‚¹${remainingAmount}`;
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showToast("Please add items to cart first", "error");
                return;
            }
            
            // Update modal payment info
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            const remainingAmount = Math.max(0, total - 99);
            
            document.getElementById('modal-total').textContent = `â‚¹${total}`;
            document.getElementById('modal-remaining').textContent = `â‚¹${remainingAmount}`;
            
            document.getElementById('checkout-modal').classList.remove('hidden');
        }

        // Google Apps Script URL for your sheet
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec';

        // Function to send data to Google Sheet
        async function sendToGoogleSheet(orderData, paymentId = '', status = 'Pending') {
            try {
                const sheetData = {
                    timestamp: new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }),
                    customerName: orderData.customer_name,
                    mobile: orderData.mobile,
                    email: orderData.email,
                    address: orderData.address + (orderData.landmark ? `, ${orderData.landmark}` : ''),
                    landmark: orderData.landmark || '',
                    pincode: orderData.pincode,
                    orderItems: orderData.plan_name,
                    totalAmount: orderData.price,
                    paymentId: paymentId,
                    status: status
                };

                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(sheetData)
                });

                console.log('Data sent to Google Sheet successfully');
                return true;
            } catch (error) {
                console.error('Error sending to Google Sheet:', error);
                return false;
            }
        }

        // Form Submission
        document.getElementById('customer-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (cart.length === 0) {
                showToast("No items in cart", "error");
                return;
            }

            if (currentRecordCount >= 999) {
                showToast("Order limit reached. Please contact customer care.", "error");
                return;
            }
            
            const formData = new FormData(e.target);
            const customerData = {
                id: Date.now().toString(),
                plan_name: cart.map(item => item.plan).join(', '),
                provider: cart.map(item => item.provider).join(', '),
                price: cart.reduce((sum, item) => sum + item.price, 0),
                customer_name: formData.get('customer-name'),
                mobile: formData.get('mobile'),
                email: formData.get('email'),
                address: formData.get('address'),
                landmark: formData.get('landmark') || '',
                pincode: formData.get('pincode'),
                order_date: new Date().toISOString()
            };
            
            // Show loading state
            const submitBtn = document.getElementById('payment-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Processing...';
            submitBtn.disabled = true;
            
            try {
                // Save order data to Canva Sheet
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(customerData);
                    if (!result.isOk) {
                        throw new Error('Failed to save order data');
                    }
                }
                
                // Send initial data to Google Sheet with pending status
                await sendToGoogleSheet(customerData, '', 'Booking Initiated');
                
                // Simulate Razorpay payment (Demo)
                setTimeout(() => {
                    showPaymentModal(customerData);
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }, 1000);
                
            } catch (error) {
                showToast("Failed to process order. Please try again.", "error");
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        function showPaymentModal(orderData) {
            // Directly process Razorpay payment
            processRazorpayPayment(orderData);
        }

        function showDemoPaymentModal(orderData) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full">
                    <div class="text-center">
                        <div class="text-6xl mb-4">ðŸ’³</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Payment Gateway (Demo Mode)</h3>
                        <p class="text-gray-600 mb-4">Razorpay integration is ready. This demo mode is shown because the Razorpay script couldn't load.</p>
                        <div class="bg-gray-100 p-4 rounded-lg mb-4">
                            <p class="font-semibold">Booking Charge: â‚¹99</p>
                            <p class="text-sm text-gray-600">Total Order: â‚¹${orderData.price}</p>
                            <p class="text-sm text-gray-600">Customer: ${orderData.customer_name}</p>
                            <p class="text-xs text-gray-500 mt-2">Remaining â‚¹${orderData.price - 99} to pay on installation</p>
                        </div>
                        <div class="space-y-3">
                            <button onclick="simulatePayment(true)" 
                                    class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">
                                Simulate Successful Payment
                            </button>
                            <button onclick="simulatePayment(false)" 
                                    class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg">
                                Simulate Failed Payment
                            </button>
                            <button onclick="closeModal()" 
                                    class="w-full bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg">
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            window.currentModal = modal;
        }

        function showSuccessModal(paymentResponse, orderData) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full">
                    <div class="text-center">
                        <div class="text-6xl mb-4">âœ…</div>
                        <h3 class="text-xl font-bold text-green-600 mb-4">Payment Successful!</h3>
                        <div class="bg-green-50 p-4 rounded-lg mb-4 text-left">
                            <p class="font-semibold mb-2">Booking Confirmed:</p>
                            <p class="text-sm"><strong>Payment ID:</strong> ${paymentResponse.razorpay_payment_id}</p>
                            <p class="text-sm"><strong>Booking Charge Paid:</strong> â‚¹99</p>
                            <p class="text-sm"><strong>Total Order Value:</strong> â‚¹${orderData.price}</p>
                            <p class="text-sm"><strong>Remaining Amount:</strong> â‚¹${orderData.price - 99}</p>
                            <p class="text-sm"><strong>Customer:</strong> ${orderData.customer_name}</p>
                            <p class="text-sm"><strong>Mobile:</strong> ${orderData.mobile}</p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                            <p class="text-blue-800 text-sm font-medium">ðŸ“‹ Payment Instructions:</p>
                            <p class="text-blue-700 text-sm">â€¢ Booking confirmed with â‚¹99 payment</p>
                            <p class="text-blue-700 text-sm">â€¢ Remaining â‚¹${orderData.price - 99} to be paid during installation</p>
                            <p class="text-blue-700 text-sm">â€¢ Our team will contact you within 24 hours</p>
                        </div>
                        <button onclick="closeModal()" 
                                class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">
                            Close
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            window.currentModal = modal;
        }

        // Payment Processing Functions
        async function processRazorpayPayment(orderData) {
            // Try Razorpay integration
            const options = {
                key: 'rzp_test_9999999999', // Use test key for demo
                amount: 99 * 100, // Booking charge in paise
                currency: 'INR',
                name: 'Sonipat Home Service',
                description: `DTH Booking - ${orderData.plan_name}`,
                order_id: 'order_' + Date.now(),
                handler: async function (response) {
                    await sendToGoogleSheet(orderData, response.razorpay_payment_id, 'Payment Completed - Razorpay');
                    showPaymentSuccess(response.razorpay_payment_id, 'Razorpay', orderData);
                },
                prefill: {
                    name: orderData.customer_name,
                    email: orderData.email,
                    contact: orderData.mobile
                },
                theme: { 
                    color: '#4F46E5',
                    backdrop_color: 'rgba(0,0,0,0.8)'
                },
                modal: {
                    backdrop_close: false,
                    escape: true,
                    handleback: true,
                    confirm_close: false,
                    ondismiss: function() {
                        showToast("Payment cancelled", "error");
                    },
                    animation: true
                }
            };

            if (typeof Razorpay !== 'undefined') {
                // Close customer form modal first
                closeCheckoutModal();
                
                // Add z-index fix for Razorpay
                setTimeout(() => {
                    const rzpContainer = document.querySelector('.razorpay-container');
                    if (rzpContainer) {
                        rzpContainer.style.zIndex = '2100';
                    }
                    const rzpBackdrop = document.querySelector('.razorpay-backdrop');
                    if (rzpBackdrop) {
                        rzpBackdrop.style.zIndex = '2050';
                    }
                }, 100);
                
                const rzp = new Razorpay(options);
                rzp.open();
            } else {
                // Show demo payment modal if Razorpay is not available
                showDemoPaymentModal(orderData);
            }
        }



        function showPaymentSuccess(paymentId, method, orderData) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full">
                    <div class="text-center">
                        <div class="text-6xl mb-4">âœ…</div>
                        <h3 class="text-xl font-bold text-green-600 mb-4">Booking Confirmed!</h3>
                        <div class="bg-green-50 p-4 rounded-lg mb-4 text-left">
                            <p class="font-semibold mb-2 text-green-800">Payment Details:</p>
                            <p class="text-sm"><strong>Payment Method:</strong> ${method}</p>
                            <p class="text-sm"><strong>Payment ID:</strong> ${paymentId}</p>
                            <p class="text-sm"><strong>Amount Paid:</strong> â‚¹99</p>
                            <p class="text-sm"><strong>Total Order:</strong> â‚¹${orderData.price}</p>
                            <p class="text-sm"><strong>Remaining:</strong> â‚¹${orderData.price - 99}</p>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                            <p class="text-blue-800 text-sm font-medium">ðŸ“‹ Next Steps:</p>
                            <p class="text-blue-700 text-sm">â€¢ Our team will call you within 2 hours</p>
                            <p class="text-blue-700 text-sm">â€¢ Installation will be scheduled</p>
                            <p class="text-blue-700 text-sm">â€¢ Pay remaining â‚¹${orderData.price - 99} during installation</p>
                            <p class="text-blue-700 text-sm">â€¢ Customer Care: 8816014071</p>
                        </div>
                        <button onclick="closeSuccessModal()" 
                                class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg">
                            Close
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            window.currentModal = modal;
            
            // Clear cart and close forms
            cart = [];
            updateCartDisplay();
            closeCheckoutModal();
            showToast("Booking confirmed successfully!", "success");
        }



        function closeSuccessModal() {
            closeModal();
        }

        async function simulatePayment(success) {
            closeModal();
            if (success) {
                // Get current order data from form
                const formData = new FormData(document.getElementById('customer-form'));
                const orderData = {
                    customer_name: formData.get('customer-name'),
                    mobile: formData.get('mobile'),
                    email: formData.get('email'),
                    address: formData.get('address'),
                    landmark: formData.get('landmark') || '',
                    pincode: formData.get('pincode'),
                    plan_name: cart.map(item => item.plan).join(', '),
                    price: cart.reduce((sum, item) => sum + item.price, 0)
                };
                
                // Update Google Sheet with demo payment
                const demoPaymentId = 'demo_' + Date.now();
                await sendToGoogleSheet(orderData, demoPaymentId, 'Payment Completed (Demo)');
                
                showToast("Payment successful! Order confirmed.", "success");
                cart = [];
                updateCartDisplay();
                closeCheckoutModal();
            } else {
                showToast("Payment failed. Please try again.", "error");
            }
        }

        function closeModal() {
            if (window.currentModal) {
                document.body.removeChild(window.currentModal);
                window.currentModal = null;
            }
        }

        // Channel List Functions
        function showChannelList(provider) {
            const channelData = channelLists[provider];
            if (!channelData) return;

            const modal = document.createElement('div');
            modal.className = 'modal';
            
            let channelHTML = '';
            Object.keys(channelData.channels).forEach(category => {
                channelHTML += `<div class="channel-category">${category}</div>`;
                channelData.channels[category].forEach(channel => {
                    channelHTML += `<div class="channel-item">${channel}</div>`;
                });
            });

            modal.innerHTML = `
                <div class="modal-content">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-2xl font-bold text-gray-800">${channelData.title}</h3>
                            <button onclick="closeChannelModal()" 
                                    class="text-gray-500 hover:text-gray-700 text-3xl font-bold">
                                Ã—
                            </button>
                        </div>
                        <div class="channel-grid">
                            ${channelHTML}
                        </div>
                        <div class="mt-6 text-center">
                            <button onclick="closeChannelModal()" 
                                    class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-6 rounded-lg">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            window.currentChannelModal = modal;
        }

        function closeChannelModal() {
            if (window.currentChannelModal) {
                document.body.removeChild(window.currentChannelModal);
                window.currentChannelModal = null;
            }
        }

        function closeCheckoutModal() {
            document.getElementById('checkout-modal').classList.add('hidden');
            document.getElementById('customer-form').reset();
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.classList.add('show'), 100);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 3000);
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99617bb6e71159d8',t:'MTc2MTcyODQzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>