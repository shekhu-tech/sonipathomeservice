<!doctype html>
<html lang="hi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" type="image/svg+xml" href="logo.png">
  <title>Sonipat Masonry Service - Chinai Mistri & Labour Booking</title>
  <!-- SEO Meta Tags updated for consistency -->
    <meta name="description" content="Book Masonry (Chinai Mistri) and Construction Labour services in Sonipat. Get daily rate or contract work for brickwork, plastering, and house construction. Professional and skilled workers available." />
    <meta name="keywords" content="masonry sonipat, chinai mistri, construction labour, raj mistri, brick work, plastering work, daily rate mason, construction contractor" />
    <meta name="author" content="Sonipat Home Service" />
    <link rel="canonical" href="https://sonipathomeservice.com/book-chinai-mistri.html" />
    <meta name="robots" content="index, follow" />

  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; 
            margin-top: 0 !important;
            padding-top: 0 !important;
        }
        
        /* --- Gradient Colors for Header and Primary Buttons (From AC/CCTV File) --- */
        .gradient-bg {
            background: linear-gradient(135deg, #0f62fe 0%, #1e40af 100%); /* Deep Blue/Indigo */
        }

        header {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        
        /* --- Service/Plan Card (Ultra Stylish - From AC/CCTV File) --- */
        .plan-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            transform-style: preserve-3d;
            background: #ffffff;
            box-shadow: 
                0 15px 30px rgba(0,0,0,0.1),
                0 5px 15px rgba(0,0,0,0.05);
            border-radius: 20px; 
            position: relative;
            overflow: hidden;
            margin: 8px;
            cursor: pointer;
        }
        
        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 1;
        }
        
        .plan-card:hover::before {
            opacity: 1;
        }
        
        .plan-card:hover {
            transform: translateY(-8px) scale(1.02); 
            box-shadow: 
                0 25px 50px rgba(217, 119, 6, 0.3), /* Stronger Amber shadow */
                0 15px 30px rgba(0,0,0,0.15),
                inset 0 2px 0 rgba(255,255,255,0.9);
            border-color: #f59e0b; /* Amber color border on hover */
        }
        
        .plan-card-content {
            position: relative;
            z-index: 2;
            padding: 24px;
        }
        
        /* --- Primary Button (Modified for Masonry Theme) --- */
        .btn-primary {
            background: linear-gradient(135deg, #f59e0b, #d97706); /* Amber gradient */
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #d97706, #b45309);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.6);
        }
        
        /* --- Utility classes for Modals and Loading (From AC/CCTV File) --- */
        .popup-overlay {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        .popup-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .cart-badge {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* --- Marquee/Slider Styling (From AC/CCTV File) --- */
        .services-slider {
            overflow: hidden;
            white-space: nowrap;
            padding: 10px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            background: #374151; 
        }

        .services-track {
            display: inline-block;
            animation: marquee 30s linear infinite;
        }

        .services-track a, .services-track span {
            display: inline-block;
            color: #d1d5db; 
            padding: 0 15px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: color 0.3s;
        }

        .services-track a:hover {
            color: #60a5fa; 
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- Masonry Specific Styles --- */
        .feature-list {
            list-style: none;
            padding: 0;
            margin-top: 12px;
            font-size: 14px;
        }
        
        .feature-list li {
            display: flex;
            align-items: flex-start;
            margin-bottom: 6px;
        }
        
        .feature-list li .feature-icon {
            color: #f59e0b; /* Amber checkmark */
            margin-right: 8px;
            font-size: 16px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .icon-package {
             background: #fff7ed; /* Amber-50 */
             color: #d97706; /* Amber-700 */
        }
        
        .info-card-text-color {
            color: #d97706;
        }

    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header (From CCTV/Borewell File) -->
  <header class="gradient-bg text-white shadow-2xl sticky top-0 z-40"> 
   <div class="container mx-auto px-4 py-4">
    <br>
    <div class="flex justify-between items-center"><a href="index.html" class="flex items-center space-x-3 hover:opacity-90 transition-opacity"><img src="logo.png" alt="Sonipat Home Service Logo" class="h-10 w-10 sm:h-12 sm:w-12 rounded-full shadow-lg border border-white/50">
      <div>
       <h1 id="company-name" class="text-xl sm:text-2xl font-extrabold tracking-tight"> <span class="text-yellow-300">SonipatHomeService</span></h1>
       <p class="text-sm font-semibold opacity-90">Professional Masonry & Construction Services</p>
      </div></a>
     <div class="flex items-center space-x-4">
      <!-- Desktop Contact Side Bar -->
      <div class="text-right hidden md:block border-l pl-4 border-white/30">
       <a href="tel:8816014071" class="text-lg font-bold hover:text-yellow-300 transition-colors">üìû 8816014071</a>
       <p id="email-address" class="text-xs opacity-80 mt-1">care@sonipathomeservice.com</p>
      </div>
      <!-- Cart Button with Pop -->
      <button id="cart-btn" class="relative bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-md"> <span class="flex items-center space-x-2">
        <i class="fas fa-shopping-cart w-5 h-5"></i>
        <span class="hidden sm:inline">Cart</span> <span id="cart-count" class="bg-red-500 text-white rounded-full px-2 py-0.5 text-xs hidden font-bold">0</span> </span> </button>
     </div>
    </div>
   </div>
  </header>
  
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <!-- Info Cards Section (From CCTV/Borewell File) -->
    <section class="py-6 bg-white rounded-xl shadow-lg mb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Info Card 1: Expert Workers -->
                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex items-center space-x-3">
                        <span class="text-3xl text-yellow-600"><i class="fas fa-hard-hat"></i></span>
                        <div>
                            <h4 class="font-extrabold text-lg text-gray-800">Expert Masonry</h4>
                            <p class="text-sm text-gray-600">Highly skilled Chinai Mistri and Raj Mistri.</p>
                        </div>
                    </div>
                </div>
                <!-- Info Card 2: Advance Booking -->
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex items-center space-x-3">
                        <span class="text-3xl text-blue-600"><i class="fas fa-clock"></i></span>
                        <div>
                            <h4 class="font-extrabold text-lg text-gray-800">24 Hr Advance Booking</h4>
                            <p class="text-sm text-gray-600">Confirm your crew availability for the next day.</p>
                        </div>
                    </div>
                </div>
                <!-- Info Card 3: Flexible Rates -->
                <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="flex items-center space-x-3">
                        <span class="text-3xl text-green-600"><i class="fas fa-handshake"></i></span>
                        <div>
                            <h4 class="font-extrabold text-lg text-gray-800">Flexible Rates</h4>
                            <p class="text-sm text-gray-600">Choose between Daily Rate or Contract (‡§†‡•á‡§ï‡§æ) work.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services/Packages Section (Updated styling) -->
    <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-extrabold text-center mb-10 text-gray-800">Masonry & Labour Service Packages</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-2" id="services-grid">
                <!-- Packages will be populated by JavaScript -->
            </div>
        </div>
    </section>
  
  <!-- Terms & Conditions (From CCTV/Borewell File) -->
  <section class="py-16 bg-gray-100">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-extrabold text-center mb-12 text-gray-800">Why Choose Sonipat Home Service?</h3>
    <div class="max-w-5xl mx-auto">
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><!-- Service Terms Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-yellow-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3 text-yellow-600"><i class="fas fa-tools text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Service Promise</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>Skilled workers (Chinai Mistri/Labour).</span></li>
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>Available for Daily Rate (‡§¶‡§π‡§æ‡§°‡§º‡•Ä) or Contract (‡§†‡•á‡§ï‡§æ).</span></li>
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>1 Day Minimum booking required.</span></li>
       </ul>
      </div><!-- Payment Terms Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-green-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 text-green-600"><i class="fas fa-coins text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Payment Flexibility</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Low upfront booking fee (‚Çπ99 fixed).</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Accept all payment methods (Cash, UPI, Card).</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Secure Razorpay gateway for advance booking.</span></li>
       </ul>
      </div><!-- Construction Expertise Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-blue-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 text-blue-600"><i class="fas fa-building text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Construction Expertise</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Expertise in Brickwork, Plastering, RMC.</span></li>
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Residential & Commercial Projects.</span></li>
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Supervision included in Contract work.</span></li>
       </ul>
      </div>
     </div><!-- Additional Info Banner -->
     <div class="mt-10 bg-gradient-to-r from-yellow-500 to-amber-500 rounded-xl p-6 text-white text-center shadow-lg">
      <div class="flex items-center justify-center space-x-4"><span class="text-3xl">üß±</span>
       <div>
        <h5 class="font-extrabold text-xl">Quality Construction, Reliable Labour</h5>
        <p class="text-sm opacity-90">Book with confidence. We supply only trained and professional workers.</p>
       </div><span class="text-3xl">üë∑</span>
      </div>
     </div>
    </div>
   </div>
  </section>
  </main>
  
  <!-- Cart Popup (From CCTV/Borewell File) -->
  <div id="cart-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-md w-full popup-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4 border-b pb-3">
       <h3 class="text-2xl font-extrabold text-gray-800">Your Cart</h3><button id="close-cart" class="text-gray-500 hover:text-red-600 transition-colors p-1 rounded-full bg-gray-100">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg></button>
      </div>
      <div id="cart-items" class="space-y-3 mb-4 max-h-60 overflow-y-auto"><!-- Cart items will be populated here -->
      </div>
      <div class="border-t pt-4">
       <div class="space-y-2 mb-4">
        <div class="flex justify-between items-center"><span class="text-gray-600 font-semibold">Service Total:</span> <span class="font-extrabold text-lg">‚Çπ<span id="cart-total">0</span></span>
        </div>
        <div class="flex justify-between items-center text-blue-600"><span class="font-semibold">Booking Charge:</span> <span class="font-extrabold">‚Çπ<span id="cart-booking-charge">99</span></span>
        </div>
        <div class="flex justify-between items-center text-green-600"><span class="font-semibold">Onsite Balance:</span> <span class="font-extrabold">‚Çπ<span id="onsite-balance">0</span></span>
        </div>
        <div class="border-t pt-3 flex justify-between items-center mt-2"><span class="font-extrabold text-xl text-gray-900">Pay Now:</span> <span class="font-extrabold text-xl text-red-600">‚Çπ<span id="cart-pay-now">99</span></span>
        </div>
       </div><button id="proceed-checkout" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-lg transform hover:scale-[1.01] transition-transform disabled:opacity-50" disabled> <span id="cart-button-text">Book Service - Pay ‚Çπ99</span> </button>
      </div>
     </div>
    </div>
   </div>
  </div>

  <!-- Checkout Form Popup (From CCTV/Borewell File) -->
  <div id="checkout-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-start justify-center min-h-full p-2 py-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-md w-full popup-content" style="max-height: 95vh; overflow-y: auto;">
     <div class="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
      <h3 class="text-xl font-extrabold">Customer Details</h3><button id="close-checkout" class="text-gray-500 hover:text-red-600 transition-colors p-1 rounded-full bg-gray-100">
       <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
       </svg></button>
     </div>
     <div class="p-4">
      <form id="checkout-form" class="space-y-4">
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Customer Name *</label> <input type="text" id="customer-name" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Mobile Number *</label> <input type="tel" id="mobile-number" required pattern="[0-9]{10}" maxlength="10" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Email ID *</label> <input type="email" id="email-id" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
        </div>
       </div>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Full Address *</label> <textarea id="full-address" required rows="3" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"></textarea>
        </div>
        <div class="grid grid-cols-2 gap-4">
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Landmark</label> <input type="text" id="landmark" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
         </div>
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Pincode *</label> <input type="text" id="pincode" required pattern="[0-9]{6}" maxlength="6" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
         </div>
        </div>
       </div>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Preferred Date *</label> <input type="date" id="preferred-date" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors">
        </div>
       </div>
       <div class="border-t pt-4 mt-4">
        <h4 class="text-lg font-extrabold mb-3">Payment Summary</h4>
        <div class="space-y-2 mb-4 bg-blue-50 p-3 rounded-lg border border-blue-200">
         <div class="flex justify-between items-center text-sm"><span class="text-gray-700 font-semibold">Service Total:</span> <span class="font-extrabold">‚Çπ<span id="checkout-total">0</span></span>
         </div>
         <div class="flex justify-between items-center text-blue-700 text-sm"><span class="font-semibold">Booking Charge (Non-refundable):</span> <span class="font-extrabold">‚Çπ<span id="checkout-booking-charge">99</span></span>
         </div>
         <div class="flex justify-between items-center text-green-700 text-sm"><span class="font-semibold">Onsite Balance:</span> <span class="font-extrabold">‚Çπ<span id="checkout-onsite-balance">0</span></span>
         </div>
         <div class="border-t border-blue-300 pt-3 flex justify-between items-center mt-2"><span class="font-extrabold text-xl text-gray-900">Pay Now:</span> <span class="font-extrabold text-xl text-red-600">‚Çπ<span id="checkout-pay-now">99</span></span>
         </div>
        </div>
        <div class="bg-yellow-50 border border-yellow-300 rounded-xl p-3 mb-4">
         <p class="text-xs text-yellow-800"><strong>Note:</strong> You are paying only the booking charge (‚Çπ<span id="note-booking-charge">99</span>) now. <span id="onsite-note">Remaining amount will be paid to the worker after service completion.</span></p>
        </div><button type="submit" id="pay-now" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-lg transform hover:scale-[1.01] transition-transform"> <span id="checkout-button-text">Pay ‚Çπ99 Booking Charge</span> </button>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>


  <!-- Footer (Updated with Marquee) -->
  <footer class="bg-gray-900 text-white pt-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Contact Information</h4>
      <div class="space-y-2 text-sm">
       <p class="flex items-center">üìû <span class="ml-2 font-semibold" id="footer-phone">8816014071</span></p>
       <p class="flex items-center">‚úâÔ∏è <span class="ml-2" id="footer-email">care@sonipathomeservice.com</span></p>
       <p class="flex items-center">üìç <span class="ml-2" id="office-address">128/1, Sainipura, Sonipat</span></p>
      </div>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Quick Links</h4>
      <ul class="space-y-2 text-sm">
       <li><a href="index.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Home Page</a></li>
       <li><a href="policy.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Privacy Policy</a></li>
       <li><a href="terms.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Terms &amp; Conditions</a></li>
       <li><a href="refund.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Refund Policy</a></li>
      </ul>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Construction Highlights</h4>
      <ul class="space-y-2 text-sm">
       <li>‚úì Daily Rate Labour/Mason</li>
       <li>‚úì Contract (‡§†‡•á‡§ï‡§æ) Work</li>
       <li>‚úì Plastering & Finishing</li>
       <li>‚úì Experienced Workers</li>
      </ul>
     </div>
    </div>
    <!-- Marquee Slider for All Services (Copied styling and structure from AC/CCTV file) -->
    <div style="background: #374151; padding: 15px 0; margin-top: 30px; border-radius: 10px;">
    <div style="max-width: 1200px; margin: 0 auto;">
     <h4 style="text-align: center; color: #60a5fa; margin-bottom: 10px; font-size: 16px; font-weight: bold;">All Our Services</h4>
     <div class="services-slider">
      <div class="services-track"><a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span> <!-- Duplicate for seamless loop --> <a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span>
      </div>
     </div>
    </div>
   </div>

    <div class="border-t border-gray-800 mt-8 pt-6 pb-2 text-center text-sm">
     <p>¬© 2024 Masonry & Labour Service in Sonipat. All rights reserved.</p>
    </div>
   </div>
  </footer>
  
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
        // Configuration
        const defaultConfig = {
            company_name: "Masonry & Labour Service in Sonipat",
            customer_care: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };
        const BOOKING_AMOUNT = 99;

        var cart = []; 
        var currentRecordCount = 0; 

        // Masonry Services data (Adapted for the new card structure)
        const services = [
            {
                id: 1,
                name: "‡§Æ‡§ø‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä/Masonry - Daily Rate",
                price: 999,
                originalPrice: null,
                icon: "fas fa-hard-hat",
                description: "Skilled Chinai Mistri for all brickwork, wall construction, and finishing.",
                details: "Minimum 1 day booking. Labourer not included.",
                features: [
                    "Expert Masonry Work",
                    "8-10 Hours Shift",
                    "Brick Laying & Plastering",
                    "Advance Booking Required"
                ]
            },
            {
                id: 2,
                name: "‡§Æ‡§ú‡§¶‡•Ç‡§∞/Labour - Daily Rate",
                price: 799,
                originalPrice: null,
                icon: "fas fa-shovel",
                description: "Skilled construction labourer for material lifting, mixing, and assistance.",
                details: "Minimum 1 day booking. Mason not included.",
                features: [
                    "Trained Construction Labour",
                    "8-10 Hours Shift",
                    "Material Handling",
                    "Advance Booking Required"
                ]
            },
            {
                id: 3,
                name: "Tender/‡§†‡•á‡§ï‡§æ (Labour Only)",
                price: 250, // Per sq ft rate for labor only
                originalPrice: null,
                icon: "fas fa-building",
                description: "Complete Construction Contract for Labour and Supervision only.",
                details: "Price per square foot (Approx). Material provided by customer.",
                features: [
                    "Complete House/Structure Construction",
                    "Labour & Masonry Included",
                    "Project Supervision",
                    "Free Cost Estimation"
                ]
            },
            {
                id: 4,
                name: "Tender/‡§†‡•á‡§ï‡§æ (Full Material)",
                price: 1299, // Per sq ft rate for full contract
                originalPrice: null,
                icon: "fas fa-warehouse",
                description: "Complete Construction Contract including all Material and Labour.",
                details: "Price per square foot (Approx). Includes Cement, Bricks, Sand, etc.",
                features: [
                    "Complete Turnkey Project",
                    "All Construction Materials Included",
                    "Quality Control & Warranty",
                    "Free Cost Estimation"
                ]
            }
        ];

        // Utility function to show custom toast message
        function showToast(message, type) {
            const existing = document.getElementById('app-message');
            if(existing) existing.remove();
            
            const colors = {
                success: { bg: 'bg-green-500', icon: '‚úÖ' },
                error: { bg: 'bg-red-500', icon: '‚ùå' },
                loading: { bg: 'bg-blue-500', icon: '<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>' }
            };
            
            const msg = colors[type] || colors.loading;
            
            const messageDiv = document.createElement('div');
            messageDiv.id = 'app-message';
            messageDiv.className = `fixed top-4 right-4 ${msg.bg} text-white p-4 rounded-xl shadow-2xl z-[1000] transition-opacity duration-300`;
            messageDiv.innerHTML = `
                <div class="flex items-center space-x-3">
                    <span class="text-xl">${msg.icon}</span>
                    <div>
                        <p class="font-bold text-lg">${type === 'success' ? 'Success' : (type === 'error' ? 'Error' : 'Processing...')}</p>
                        <p class="text-sm">${message}</p>
                    </div>
                </div>
            `;
            document.body.appendChild(messageDiv);
            
            if (type !== 'loading') {
                setTimeout(() => {
                    messageDiv.classList.add('opacity-0');
                    setTimeout(() => messageDiv.remove(), 300);
                }, 5000);
            }
        }
        
        // Helper functions
        function showLoadingMessage() { showToast('Saving your booking details', 'loading'); }
        function hideLoadingMessage() { const loadingDiv = document.getElementById('app-message'); if (loadingDiv) loadingDiv.remove(); }
        function showErrorMessage() { showToast('Booking Failed! Please try again or contact support.', 'error'); }

        // Initialize SDKs
        async function initializeApp() {
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }

            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error("Failed to initialize data storage");
                }
            }
            renderServices();
            
            // Set minimum date for preferred date picker
            const today = new Date().toISOString().split('T')[0];
            const dateInput = document.getElementById('preferred-date');
            if (dateInput) {
                dateInput.setAttribute('min', today);
            }
        }

        // Data SDK Handler (From CCTV File)
        const dataHandler = {
            onDataChanged(data) {
                currentRecordCount = data.length;
            }
        };

        // Cart functionality 
        function renderServices() {
            const servicesGrid = document.getElementById('services-grid');
            servicesGrid.innerHTML = services.map(service => `
                <div class="plan-card" onclick="addToCart(${service.id})">
                    <div class="plan-card-content">
                        <div class="flex items-start mb-4">
                            <div class="w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 mr-4 text-blue-600 text-2xl icon-package">
                                <i class="${service.icon}"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-extrabold text-lg mb-1 text-gray-800 leading-snug">${service.name}</h4>
                                <p class="text-gray-600 text-xs">${service.description}</p>
                                <p class="text-blue-600 text-xs font-semibold">${service.details}</p>
                            </div>
                        </div>
                        
                        <ul class="feature-list text-gray-700">
                            ${service.features.map(feature => `
                                <li><i class="fas fa-check-circle feature-icon"></i> ${feature}</li>
                            `).join('')}
                        </ul>

                        <div class="flex justify-between items-center pt-4 border-t border-gray-100 mt-4">
                            <div class="flex flex-col">
                                <span class="text-2xl font-extrabold text-red-600">‚Çπ${service.price.toLocaleString('en-IN')}</span>
                                ${service.originalPrice ? `<span class="text-sm text-gray-500 line-through">‚Çπ${service.originalPrice.toLocaleString('en-IN')}</span>` : ''}
                            </div>
                            <button class="btn-primary text-white px-4 py-2 rounded-full font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-300" onclick="event.stopPropagation(); addToCart(${service.id});">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function addToCart(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const existingItem = cart.find(item => item.id === serviceId);
            
            if (existingItem) {
                // For contract work (ID 3, 4), prevent multiple quantities as they are rates/sq ft, not counts
                if (serviceId === 3 || serviceId === 4) {
                    showToast('Contract services can only be added once. For multi-day/multi-unit bookings, please contact us.', 'error');
                    return; 
                }
                existingItem.quantity += 1;
            } else {
                // For contract work, treat as single item unless user specifies size in form later
                if (serviceId === 3 || serviceId === 4) {
                     cart = []; // Clear other services if a contract is booked (high value booking)
                }
                cart.push({ ...service, quantity: 1 });
            }
            
            updateCartUI();
            showToast(`${service.name} added to cart!`, "success");
            showCartPopup();
        }

        function removeFromCart(serviceId) {
            const itemIndex = cart.findIndex(item => item.id === serviceId);
            if (itemIndex > -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }
            }
            updateCartUI();
            if (cart.length === 0) {
                hideCartPopup(); 
                hideCheckoutPopup();
            }
        }
        
        function removeItemFromCart(serviceId) {
             cart = cart.filter(item => item.id !== serviceId);
             updateCartUI();
             if (cart.length === 0) {
                hideCartPopup();
                hideCheckoutPopup();
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const proceedBtn = document.getElementById('proceed-checkout');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const bookingCharge = totalAmount < BOOKING_AMOUNT ? totalAmount : BOOKING_AMOUNT; 
            const onsiteAmount = Math.max(0, totalAmount - bookingCharge);
            
            // 1. Update Cart Count Badge
            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
                cartCount.classList.add('cart-badge');
            } else {
                cartCount.classList.add('hidden');
            }
            
            // 2. Update Cart Items in Popup
            cartItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-100">
                    <div class="flex-1">
                        <h5 class="font-bold text-base text-gray-800">${item.name}</h5>
                        <div class="flex items-center space-x-2 mt-1">
                            <button onclick="removeFromCart(${item.id})" class="text-blue-500 hover:text-red-500 text-sm font-bold w-6 h-6 rounded-full bg-white border">
                                <i class="fas fa-minus text-xs"></i>
                            </button>
                            <span class="font-bold text-gray-700 text-sm">${item.quantity}</span>
                            <button onclick="addToCart(${item.id})" class="text-blue-500 hover:text-green-500 text-sm font-bold w-6 h-6 rounded-full bg-white border">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-col items-end space-y-1">
                        <span class="font-extrabold text-lg text-red-600">‚Çπ${(item.price * item.quantity).toLocaleString('en-IN')}</span>
                        <button onclick="removeItemFromCart(${item.id})" class="text-red-500 hover:text-red-700 text-xs">
                            <i class="fas fa-trash-alt mr-1"></i> Remove All
                        </button>
                    </div>
                </div>
            `).join('');
            
            // 3. Update Cart Totals
            const totalElements = ['cart-total', 'checkout-total'];
            totalElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = totalAmount.toLocaleString('en-IN');
            });

            const onsiteElements = ['onsite-balance', 'checkout-onsite-balance'];
            onsiteElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = onsiteAmount.toLocaleString('en-IN');
            });
            
            // Update charge displays
            const chargeElements = ['cart-booking-charge', 'checkout-booking-charge', 'cart-pay-now', 'checkout-pay-now', 'note-booking-charge'];
            chargeElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = bookingCharge;
            });
            
            const onsiteNote = document.getElementById('onsite-note');
            if (onsiteNote) {
                if (onsiteAmount === 0) {
                    onsiteNote.textContent = "Full amount has been paid online (‚Çπ0 Onsite Balance).";
                } else {
                    onsiteNote.textContent = "Remaining amount will be paid to the worker after service completion.";
                }
            }
            
            if (proceedBtn) {
                proceedBtn.disabled = cart.length === 0;
                document.getElementById('cart-button-text').textContent = `Book Service - Pay ‚Çπ${bookingCharge}`;
                const checkoutBtnText = document.getElementById('checkout-button-text');
                if (checkoutBtnText) checkoutBtnText.textContent = `Pay ‚Çπ${bookingCharge} Booking Charge`;
            }
        }

        // Functions to control popups
        function showCartPopup() {
            document.getElementById('cart-popup').classList.remove('hidden');
        }

        function hideCartPopup() {
            document.getElementById('cart-popup').classList.add('hidden');
        }

        function showCheckoutPopup() {
            if (cart.length === 0) {
                 showToast('Please add a service to the cart first.', 'error');
                 return;
            }
            hideCartPopup();
            document.getElementById('checkout-popup').classList.remove('hidden');
        }

        function hideCheckoutPopup() {
            document.getElementById('checkout-popup').classList.add('hidden');
            document.getElementById('checkout-form').reset(); 
        }

        // Razorpay payment integration
        function initiatePayment(customerData) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const bookingCharge = totalAmount < BOOKING_AMOUNT ? totalAmount : BOOKING_AMOUNT; 
            
            const options = {
                key: 'rzp_live_RLjzp7VlXERwiG', 
                amount: bookingCharge * 100, // Amount in paise
                currency: 'INR',
                name: 'Masonry & Labour Service',
                description: `Advance Booking - Masonry Work`,
                image: 'https://via.placeholder.com/200x200/0f62fe/ffffff?text=SHS',
                prefill: {
                    name: customerData.name,
                    email: customerData.email,
                    contact: customerData.mobile
                },
                theme: {
                    color: '#f59e0b' // Amber/Construction theme color
                },
                handler: function(response) {
                    // Payment successful
                    submitToGoogleSheets(customerData, response.razorpay_payment_id);
                },
                modal: {
                    ondismiss: function() {
                        showToast('Payment cancelled', 'error');
                    }
                }
            };
            
            const rzp = new Razorpay(options);
            rzp.open();
        }

        // Google Sheets integration
        async function submitToGoogleSheets(customerData, paymentId) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const bookingCharge = totalAmount < BOOKING_AMOUNT ? totalAmount : BOOKING_AMOUNT;
            const onsiteBalance = Math.max(0, totalAmount - bookingCharge);
            
            const orderItems = cart.map(item => `${item.name} (Qty: ${item.quantity}, Price: ${item.price})`).join(' | ');

            const params = new URLSearchParams({
                timestamp: new Date().toLocaleString('hi-IN'),
                customerName: customerData.name,
                mobile: customerData.mobile,
                email: customerData.email,
                address: customerData.address,
                landmark: customerData.landmark || '',
                pincode: customerData.pincode,
                preferredDate: customerData.preferredDate, // Include preferred date
                orderItems: orderItems,
                totalAmount: totalAmount,
                paidAmount: bookingCharge,
                onsiteBalance: onsiteBalance,
                paymentId: paymentId,
                status: onsiteBalance > 0 ? `Masonry Booking Confirmed - Work Date: ${customerData.preferredDate}` : 'Masonry Payment Complete'
            });

            try {
                showLoadingMessage();
                
                // Using a generic URL for the demo environment to prevent cross-origin issues
                const response = await fetch(`https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec?${params.toString()}`, {
                    method: 'POST',
                    mode: 'no-cors' 
                });

                hideLoadingMessage();
                hideCheckoutPopup();
                showSuccessMessage(paymentId, totalAmount, bookingCharge, onsiteBalance, customerData.preferredDate);
                
                cart = [];
                updateCartUI();
                
            } catch (error) {
                console.error('Error submitting to Google Sheets:', error);
                hideLoadingMessage();
                showErrorMessage();
            }
        }
        
        function showSuccessMessage(paymentId, totalAmount, bookingCharge, onsiteBalance, preferredDate) { 
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 popup-overlay';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full popup-content">
                    <div class="text-center mb-6">
                        <div class="text-6xl text-green-500 mb-4">‚úÖ</div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó ‡§ï‡§®‡•ç‡§´‡§∞‡•ç‡§Æ!</h2>
                        <p class="text-gray-600">‡§Ü‡§™‡§ï‡§æ Masonry/Labour booking ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§¨‡•Å‡§ï ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§</p>
                    </div>
                    
                    <div class="space-y-3 mb-6 text-sm bg-green-50 p-4 rounded-lg">
                        <div class="flex justify-between">
                            <span>Payment ID:</span>
                            <span class="font-medium text-xs break-all">${paymentId}</span>
                        </div>
                        <div class="flex justify-between font-bold">
                            <span>‡§ï‡•Å‡§≤ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§∞‡§æ‡§∂‡§ø:</span>
                            <span>‚Çπ${totalAmount.toLocaleString('en-IN')}</span>
                        </div>
                        <div class="flex justify-between text-green-700">
                            <span>‡§≠‡•Å‡§ó‡§§‡§æ‡§® ‡§ï‡•Ä ‡§ó‡§à ‡§∞‡§æ‡§∂‡§ø (‡§¨‡•Å‡§ï‡§ø‡§Ç‡§ó):</span>
                            <span>‚Çπ${bookingCharge}</span>
                        </div>
                        <div class="flex justify-between text-red-600 font-bold">
                            <span>‡§¨‡§ï‡§æ‡§Ø‡§æ ‡§∞‡§æ‡§∂‡§ø (Onsite):</span>
                            <span>‚Çπ${onsiteBalance.toLocaleString('en-IN')}</span>
                        </div>
                        <div class="flex justify-between text-blue-700 font-bold pt-2 border-t border-green-200">
                            <span>‡§™‡§∏‡§Ç‡§¶‡•Ä‡§¶‡§æ ‡§§‡§æ‡§∞‡•Ä‡§ñ:</span>
                            <span>${preferredDate}</span>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-4 rounded-lg mb-6">
                        <p class="text-sm text-blue-800">
                            <strong>‡§Ö‡§ó‡§≤‡•á ‡§ï‡§¶‡§Æ:</strong><br>
                            ‚Ä¢ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ 24 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡•Ä<br>
                            ‚Ä¢ ‡§ï‡§æ‡§Æ ‡§ï‡•Ä ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§π‡•ã‡§ó‡•Ä<br>
                            ‚Ä¢ ‡§¨‡§ï‡§æ‡§Ø‡§æ ‡§∞‡§æ‡§∂‡§ø ‚Çπ${onsiteBalance.toLocaleString('en-IN')} ‡§ï‡§æ‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§≤‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä<br>
                        </p>
                    </div>
                    
                    <button onclick="closeConfirmation()" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-sm transition-colors">
                        ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            window.closeConfirmation = () => {
                document.body.removeChild(modal);
                delete window.closeConfirmation;
            };
        }


        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();

            // Cart button
            document.getElementById('cart-btn').addEventListener('click', showCartPopup);
            
            // Close buttons
            document.getElementById('close-cart').addEventListener('click', hideCartPopup);
            document.getElementById('close-checkout').addEventListener('click', hideCheckoutPopup);
            
            // Proceed to checkout
            document.getElementById('proceed-checkout').addEventListener('click', showCheckoutPopup);
            
            // Checkout form
            document.getElementById('checkout-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const customerData = {
                    name: document.getElementById('customer-name').value,
                    mobile: document.getElementById('mobile-number').value,
                    email: document.getElementById('email-id').value,
                    address: document.getElementById('full-address').value,
                    landmark: document.getElementById('landmark').value,
                    pincode: document.getElementById('pincode').value,
                    preferredDate: document.getElementById('preferred-date').value // Capture date
                };
                
                if (cart.length === 0) {
                     showToast('Please add a service to the cart first.', 'error');
                     return;
                }
                
                // Perform quick validation of date
                if (!customerData.preferredDate) {
                    showToast('‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§æ‡§Æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ‡§º ‡§ö‡•Å‡§®‡•á‡§Ç‡•§', 'error');
                    return;
                }
                
                initiatePayment(customerData);
            });

            // Close popups when clicking outside
            document.getElementById('cart-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCartPopup();
            });
            
            document.getElementById('checkout-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCheckoutPopup();
            });
        });

        // Element SDK integration
        async function onConfigChange(config) {
            document.getElementById('company-name').textContent = (config.company_name || defaultConfig.company_name).split(' ')[0] + 'HomeService';
            document.querySelector('header a[href^="tel:"]').textContent = `üìû ${config.customer_care || defaultConfig.customer_care}`;
            document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
            document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
            document.getElementById('footer-phone').textContent = config.customer_care || defaultConfig.customer_care;
            document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", defaultConfig.company_name],
                ["customer_care", config.customer_care || defaultConfig.customer_care],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 </body>

</html>
