<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car Repair &amp; Service in Sonipat - Free Pick &amp; Drop</title><!-- SEO Meta Tags -->
  <meta name="description" content="Professional car repair and service in Sonipat with free pick &amp; drop facility. Expert technicians, genuine parts, same-day service. Book online for Maruti, Tata, Hyundai, Mahindra, Toyota cars.">
  <meta name="keywords" content="car service sonipat, car repair sonipat, free pick drop car service, maruti service sonipat, hyundai service sonipat, tata service sonipat, mahindra service sonipat, toyota service sonipat, car maintenance sonipat, auto service sonipat, car servicing near me, engine oil change sonipat, brake service sonipat, ac service sonipat, battery service sonipat, car wash sonipat, genuine parts sonipat, professional car care, same day car service, home car service, doorstep car service">
  <meta name="author" content="Sonipat Home Service">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  <meta name="distribution" content="global">
  <meta name="rating" content="general"><!-- Open Graph Meta Tags for Social Media -->
  <meta property="og:title" content="Car Repair &amp; Service in Sonipat - Free Pick &amp; Drop">
  <meta property="og:description" content="Professional car repair and service in Sonipat with free pick &amp; drop facility. Expert technicians, genuine parts, same-day service for all car brands.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://sonipathomeservice.com">
  <meta property="og:site_name" content="Sonipat Home Service">
  <meta property="og:locale" content="en_IN">
  <meta property="og:image" content="https://sonipathomeservice.com/images/car-service-banner.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Car Repair &amp; Service in Sonipat - Free Pick &amp; Drop"><!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Car Repair &amp; Service in Sonipat - Free Pick &amp; Drop">
  <meta name="twitter:description" content="Professional car repair and service in Sonipat with free pick &amp; drop facility. Expert technicians, genuine parts, same-day service.">
  <meta name="twitter:image" content="https://sonipathomeservice.com/images/car-service-banner.jpg">
  <meta name="twitter:image:alt" content="Car Repair &amp; Service in Sonipat">
  <meta name="twitter:site" content="@SonipatService">
  <meta name="twitter:creator" content="@SonipatService"><!-- Local Business Schema Meta Tags -->
  <meta name="geo.region" content="IN-HR">
  <meta name="geo.placename" content="Sonipat">
  <meta name="geo.position" content="28.9931;77.0151">
  <meta name="ICBM" content="28.9931, 77.0151"><!-- Mobile App Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Sonipat Car Service">
  <meta name="application-name" content="Sonipat Car Service">
  <meta name="msapplication-TileColor" content="#059669">
  <meta name="theme-color" content="#059669"><!-- Contact & Business Information -->
  <meta name="contact" content="care@sonipathomeservice.com">
  <meta name="phone" content="+91-8816014071">
  <meta name="address" content="128/1, Sainipura, Sonipat, Haryana, India"><!-- Canonical URL -->
  <link rel="canonical" href="https://sonipathomeservice.com"><!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://checkout.razorpay.com"><!-- DNS Prefetch -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//checkout.razorpay.com">
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 25%, #ecfdf5 50%, #dbeafe 75%, #ffffff 100%);
            min-height: 100%;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(34, 197, 94, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.10) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.15) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        html {
            height: 100%;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Top Header Styles */
        .top-header {
            background: linear-gradient(135deg, #064e3b 0%, #059669 50%, #10b981 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 20px rgba(6, 78, 59, 0.4);
            position: sticky;
            top: 0;
            z-index: 50;
            backdrop-filter: blur(10px);
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .header-left {
            display: flex;
            align-items: center;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .company-title {
            font-size: 1.1rem;
            font-weight: 900;
            margin-bottom: 2px;
        }
        
        .company-title:hover {
            color: #60a5fa !important;
            text-shadow: 0 0 10px rgba(96, 165, 250, 0.5);
        }
        
        .company-subtitle {
            font-size: 0.7rem;
            opacity: 0.9;
            font-weight: 500;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 25px;
        }
        
        .header-contact {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .contact-item-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            font-weight: 700;
        }
        
        .contact-icon {
            font-size: 1.3rem;
        }
        
        .emergency-btn {
            background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(29, 78, 216, 0.3);
            animation: emergencyPulse 2s infinite;
        }
        
        @keyframes emergencyPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .emergency-btn:hover {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%);
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(29, 78, 216, 0.4);
        }

        .cart-icon-container:hover {
            background: rgba(255, 255, 255, 0.3) !important;
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
        }

        .cart-count {
            animation: cartPulse 2s infinite;
        }

        @keyframes cartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Main Banner Styles */
        .main-banner {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,249,255,0.95) 50%, rgba(236,253,245,0.92) 100%);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(34, 197, 94, 0.25);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.15);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .main-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.08) 0%, rgba(59, 130, 246, 0.05) 50%, transparent 70%);
            animation: bannerGlow 6s ease-in-out infinite alternate;
        }
        
        @keyframes bannerGlow {
            0% { transform: rotate(0deg) scale(1); }
            100% { transform: rotate(180deg) scale(1.1); }
        }

        .company-name {
            font-size: 1.8rem;
            font-weight: 900;
            color: #064e3b;
            margin-bottom: 8px;
            text-shadow: 0 0 25px rgba(6, 78, 59, 0.4);
            position: relative;
            z-index: 1;
        }
        
        .company-name:hover {
            color: #1e3a8a !important;
            text-shadow: 0 0 30px rgba(30, 58, 138, 0.6);
            transform: scale(1.02);
        }
        
        .tagline {
            font-size: 1rem;
            color: #059669;
            margin-bottom: 15px;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }
        
        .contact-info {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
            position: relative;
            z-index: 1;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #064e3b;
            font-weight: 600;
            font-size: 0.8rem;
            padding: 6px 10px;
            background: rgba(5, 150, 105, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(5, 150, 105, 0.2);
            transition: all 0.3s ease;
        }
        
        .contact-item:hover {
            background: rgba(5, 150, 105, 0.15);
            transform: translateY(-2px);
        }

        /* Service Selection Section */
        .service-selection {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,249,255,0.92) 50%, rgba(236,253,245,0.88) 100%);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(34, 197, 94, 0.25);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.15);
        }

        .selection-title {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 800;
            color: #064e3b;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(6, 78, 59, 0.3);
        }

        .service-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .service-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,249,255,0.85) 50%, rgba(236,253,245,0.80) 100%);
            backdrop-filter: blur(20px);
            border: 3px solid rgba(34, 197, 94, 0.30);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .service-card.selected {
            border-color: #22c55e;
            background: linear-gradient(135deg, rgba(240,249,255,0.98) 0%, rgba(236,253,245,0.92) 50%, rgba(219,234,254,0.88) 100%);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(34, 197, 94, 0.25);
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(5, 150, 105, 0.15), transparent);
            transition: left 0.6s ease;
        }

        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(5, 150, 105, 0.35);
            border-color: rgba(5, 150, 105, 0.6);
        }

        .service-card:hover::before {
            left: 100%;
        }

        .service-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #064e3b 0%, #059669 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            font-weight: bold;
            box-shadow: 0 8px 25px rgba(6, 78, 59, 0.3);
        }

        .service-name {
            font-size: 1.4rem;
            font-weight: 800;
            color: #064e3b;
            margin-bottom: 15px;
            text-shadow: 0 0 15px rgba(6, 78, 59, 0.3);
        }

        .service-description {
            font-size: 0.9rem;
            color: #374151;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .service-features {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
            text-align: left;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85rem;
            color: #064e3b;
            font-weight: 600;
        }

        .select-service-btn {
            background: linear-gradient(135deg, #064e3b 0%, #059669 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            box-shadow: 0 5px 15px rgba(6, 78, 59, 0.3);
        }

        .select-service-btn:hover {
            background: linear-gradient(135deg, #047857 0%, #10b981 100%);
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(6, 78, 59, 0.4);
        }

        .select-service-btn.selected {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        /* Car Selection Section */
        .car-selection {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,249,255,0.92) 50%, rgba(236,253,245,0.88) 100%);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(34, 197, 94, 0.25);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.15);
            display: none;
        }

        .brand-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .brand-tab {
            background: rgba(255,255,255,0.90);
            color: #22c55e;
            border: 2px solid rgba(34, 197, 94, 0.30);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .brand-tab.active {
            background: linear-gradient(135deg, #22c55e 0%, #3b82f6 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(34, 197, 94, 0.3);
        }

        .brand-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.2);
        }

        .car-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .car-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,249,255,0.88) 50%, rgba(236,253,245,0.82) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(59, 130, 246, 0.25);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .car-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.4);
        }

        .car-card.selected {
            border-color: #3b82f6;
            background: linear-gradient(135deg, rgba(240,249,255,0.98) 0%, rgba(236,253,245,0.92) 50%, rgba(219,234,254,0.88) 100%);
            box-shadow: 0 15px 30px rgba(59, 130, 246, 0.25);
        }

        .car-name {
            font-size: 1.2rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 10px;
        }

        .car-brand {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .car-pricing {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .price-item {
            text-align: center;
        }

        .price-label {
            font-size: 0.8rem;
            color: #6b7280;
            font-weight: 600;
        }

        .price-value {
            font-size: 1.1rem;
            font-weight: 800;
            color: #1e3a8a;
        }

        .book-service-btn {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .book-service-btn:hover {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
            transform: scale(1.02);
        }

        /* Cart Modal Styles */
        .cart-item {
            background: rgba(30, 58, 138, 0.12);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(30, 58, 138, 0.25);
            border-radius: 16px;
            padding: 18px;
            margin-bottom: 12px;
            color: #1e3a8a;
            transition: all 0.3s ease;
            position: relative;
        }

        .cart-item:hover {
            background: rgba(30, 58, 138, 0.18);
            transform: translateX(5px);
        }

        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-actions {
            display: flex;
            gap: 8px;
            margin-left: 15px;
        }

        .cart-action-btn {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cart-action-btn:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
            transform: scale(1.05);
        }

        .add-more-btn {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        .add-more-btn:hover {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
        }

        .empty-cart {
            text-align: center;
            color: #6b7280;
            font-style: italic;
            padding: 40px;
            font-size: 1.1rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        /* Payment Confirmation Modal Styles */
        .payment-confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .payment-confirmation-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,249,255,0.95) 50%, rgba(236,253,245,0.92) 100%);
            backdrop-filter: blur(20px);
            margin: 2% auto;
            padding: 40px;
            border-radius: 24px;
            width: 90%;
            max-width: 700px;
            max-height: 90%;
            overflow-y: auto;
            box-shadow: 0 25px 100px rgba(0,0,0,0.4);
            border: 3px solid rgba(34, 197, 94, 0.4);
            position: relative;
            animation: paymentConfirmationSlideIn 0.5s ease-out;
        }

        @keyframes paymentConfirmationSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .payment-confirmation-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid rgba(34, 197, 94, 0.3);
        }

        .payment-success-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            animation: successPulse 2s infinite;
        }

        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .payment-confirmation-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: #059669;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(5, 150, 105, 0.3);
        }

        .payment-confirmation-subtitle {
            font-size: 1.1rem;
            color: #047857;
            font-weight: 600;
        }

        .payment-details-section {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%);
            border: 2px solid rgba(34, 197, 94, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .payment-details-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #059669;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .payment-id-display {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.15) 0%, rgba(59, 130, 246, 0.1) 100%);
            border: 2px solid rgba(30, 58, 138, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .payment-id-label {
            font-size: 0.9rem;
            color: #374151;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .payment-id-value {
            font-size: 1.2rem;
            font-weight: 800;
            color: #1e3a8a;
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
            word-break: break-all;
        }

        .payment-amount-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .payment-amount-item {
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid rgba(34, 197, 94, 0.2);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }

        .payment-amount-label {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .payment-amount-value {
            font-size: 1.3rem;
            font-weight: 800;
        }

        .paid-amount {
            color: #059669;
        }

        .balance-amount {
            color: #dc2626;
        }

        .total-amount {
            color: #1e3a8a;
        }

        .ordered-items-section {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);
            border: 2px solid rgba(30, 58, 138, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .ordered-items-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .ordered-item {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(30, 58, 138, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .ordered-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(30, 58, 138, 0.2);
        }

        .ordered-item:last-child {
            margin-bottom: 0;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .item-details {
            flex: 1;
        }

        .item-name {
            font-size: 1.2rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 5px;
        }

        .item-brand {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .item-service-type {
            display: inline-block;
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .item-pricing {
            background: rgba(30, 58, 138, 0.1);
            border-radius: 8px;
            padding: 12px;
            margin-top: 10px;
        }

        .item-pricing-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .item-pricing-row:last-child {
            margin-bottom: 0;
            padding-top: 5px;
            border-top: 1px solid rgba(30, 58, 138, 0.2);
            font-weight: 700;
        }

        .customer-details-section {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .customer-details-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #d97706;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .customer-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .customer-info-item {
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid rgba(251, 191, 36, 0.2);
            border-radius: 12px;
            padding: 15px;
        }

        .customer-info-label {
            font-size: 0.9rem;
            color: #6b7280;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .customer-info-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: #92400e;
        }

        .next-steps-section {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .next-steps-title {
            font-size: 1.4rem;
            font-weight: 800;
            color: #7c3aed;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .next-steps-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .next-step-item {
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid rgba(168, 85, 247, 0.2);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .next-step-item:last-child {
            margin-bottom: 0;
        }

        .step-icon {
            font-size: 1.5rem;
            width: 40px;
            text-align: center;
        }

        .step-text {
            font-size: 1rem;
            font-weight: 600;
            color: #374151;
        }

        .confirmation-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-print {
            background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.3);
        }

        .btn-print:hover {
            background: linear-gradient(135deg, #6d28d9 0%, #7c3aed 100%);
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(124, 58, 237, 0.4);
        }

        .btn-close-confirmation {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(5, 150, 105, 0.3);
        }

        .btn-close-confirmation:hover {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(5, 150, 105, 0.4);
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,249,255,0.95) 50%, rgba(236,253,245,0.92) 100%);
            backdrop-filter: blur(20px);
            margin: 3% auto;
            padding: 40px;
            border-radius: 24px;
            width: 90%;
            max-width: 550px;
            max-height: 90%;
            overflow-y: auto;
            box-shadow: 0 25px 100px rgba(0,0,0,0.3);
            border: 2px solid rgba(34, 197, 94, 0.25);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 800;
            color: #1e3a8a;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 0 0 15px rgba(30, 58, 138, 0.3);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-weight: 700;
            color: #374151;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
        }

        .form-input:focus {
            outline: none;
            border-color: #1e3a8a;
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
            background: rgba(255,255,255,0.95);
        }

        .form-buttons {
            display: flex;
            gap: 20px;
            margin-top: 35px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(30, 58, 138, 0.3);
        }

        .btn-primary:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(30, 58, 138, 0.4);
        }

        .btn-primary:disabled {
            background: linear-gradient(135deg, #a0aec0 0%, #718096 100%);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
            color: #4a5568;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #cbd5e0 0%, #a0aec0 100%);
            transform: scale(1.02);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 25px;
            color: #1e3a8a;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .success-message {
            background: linear-gradient(135deg, #c6f6d5 0%, #9ae6b4 100%);
            color: #22543d;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
            font-weight: 600;
            border: 2px solid #68d391;
        }

        .error-message {
            background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%);
            color: #742a2a;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: none;
            font-weight: 600;
            border: 2px solid #fc8181;
        }

        /* Footer Styles */
        .footer {
            background: linear-gradient(135deg, #1f2937 0%, #374151 50%, #4b5563 100%);
            color: white;
            margin-top: 50px;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(30, 58, 138, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 50px 20px 0;
            position: relative;
            z-index: 1;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section {
            padding: 20px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .footer-logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 8px 25px rgba(30, 58, 138, 0.3);
        }

        .footer-company-name {
            font-size: 1.4rem;
            font-weight: 900;
            color: #60a5fa;
            margin-bottom: 5px;
        }
        
        .footer-company-name:hover {
            color: #93c5fd !important;
            text-shadow: 0 0 15px rgba(147, 197, 253, 0.6);
            transform: scale(1.02);
        }

        .footer-tagline {
            font-size: 0.9rem;
            color: #d1d5db;
            font-weight: 500;
        }

        .footer-description {
            color: #d1d5db;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .footer-title {
            font-size: 1.3rem;
            font-weight: 800;
            color: #60a5fa;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(96, 165, 250, 0.3);
        }

        .footer-services {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-services li {
            padding: 8px 0;
            color: #d1d5db;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .footer-services li:hover {
            color: #60a5fa;
            transform: translateX(5px);
        }

        .footer-contact {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .footer-contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #d1d5db;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .footer-contact-item:hover {
            color: #60a5fa;
            transform: translateX(5px);
        }

        .footer-icon {
            font-size: 1.2rem;
            width: 25px;
            text-align: center;
        }

        .footer-bottom {
            border-top: 2px solid rgba(30, 58, 138, 0.2);
            padding: 30px 0;
            background: rgba(0, 0, 0, 0.2);
        }

        .footer-bottom-content {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            text-align: center;
        }

        .footer-copyright {
            color: #d1d5db;
            font-weight: 600;
        }

        /* Mobile-First Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 8px;
                max-width: 100%;
                overflow-x: hidden;
            }
            
            .header-container {
                flex-direction: column;
                text-align: center;
                gap: 10px;
                padding: 0 10px;
                min-height: auto;
            }
            
            .header-left {
                width: 100%;
                justify-content: center;
            }
            
            .header-right {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .header-contact {
                flex-direction: row;
                gap: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .contact-item-header {
                font-size: 0.75rem;
                white-space: nowrap;
            }
            
            .company-title {
                font-size: 1rem;
                line-height: 1.1;
            }
            
            .company-subtitle {
                font-size: 0.6rem;
                line-height: 1.1;
            }
            
            .emergency-btn {
                padding: 6px 12px;
                font-size: 0.65rem;
                white-space: nowrap;
            }
            
            .cart-icon-container {
                padding: 6px !important;
            }
            
            .cart-icon-container span:first-child {
                font-size: 1.1rem !important;
            }
            
            .cart-count {
                width: 18px !important;
                height: 18px !important;
                font-size: 0.65rem !important;
                top: -3px !important;
                right: -3px !important;
            }
            
            .main-banner {
                padding: 12px;
                margin-bottom: 15px;
                border-radius: 12px;
            }
            
            .company-name {
                font-size: 1.4rem;
                line-height: 1.2;
                margin-bottom: 6px;
            }
            
            .tagline {
                font-size: 0.8rem;
                line-height: 1.3;
                margin-bottom: 12px;
            }
            
            .contact-info {
                flex-direction: column;
                gap: 8px;
                margin-top: 12px;
            }
            
            .contact-item {
                font-size: 0.7rem;
                padding: 4px 8px;
                justify-content: center;
            }
            
            /* Service Highlights Grid - Mobile Optimized */
            .main-banner div[style*="grid-template-columns"] {
                display: grid !important;
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 8px !important;
                margin-top: 12px !important;
            }
            
            .main-banner div[style*="grid-template-columns"] > div {
                padding: 8px 4px !important;
                font-size: 0.7rem !important;
            }
            
            .main-banner div[style*="grid-template-columns"] > div > div:first-child {
                font-size: 1rem !important;
                margin-bottom: 3px !important;
            }
            
            /* Service Area Info - Mobile */
            .main-banner div[style*="Service Available in"] {
                margin-top: 12px !important;
                padding: 10px !important;
            }
            
            .main-banner div[style*="Service Available in"] div:first-child {
                font-size: 0.8rem !important;
                margin-bottom: 6px !important;
            }
            
            .main-banner div[style*="Service Available in"] div:last-child {
                font-size: 0.75rem !important;
                line-height: 1.3 !important;
            }
            
            .service-selection, .car-selection {
                padding: 20px 15px;
                margin-bottom: 15px;
                border-radius: 12px;
            }
            
            .selection-title {
                font-size: 1.3rem;
                margin-bottom: 20px;
                line-height: 1.2;
            }
            
            .service-types {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .service-card {
                padding: 18px 15px;
                border-radius: 16px;
            }
            
            .service-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .service-name {
                font-size: 1.1rem;
                margin-bottom: 12px;
            }
            
            .service-description {
                font-size: 0.8rem;
                margin-bottom: 15px;
                line-height: 1.4;
            }
            
            .feature-item {
                font-size: 0.75rem;
                gap: 6px;
            }
            
            .select-service-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                border-radius: 20px;
            }
            
            .brand-tabs {
                gap: 6px;
                justify-content: center;
                margin-bottom: 20px;
            }
            
            .brand-tab {
                padding: 6px 12px;
                font-size: 0.8rem;
                border-radius: 20px;
                white-space: nowrap;
            }
            
            .car-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .car-card {
                padding: 15px;
                border-radius: 12px;
            }
            
            .car-name {
                font-size: 1rem;
                margin-bottom: 8px;
            }
            
            .car-brand {
                font-size: 0.8rem;
                margin-bottom: 12px;
            }
            
            .car-pricing {
                margin-bottom: 12px;
            }
            
            .price-label {
                font-size: 0.7rem;
            }
            
            .price-value {
                font-size: 1rem;
            }
            
            .book-service-btn {
                padding: 8px 16px;
                font-size: 0.85rem;
                border-radius: 16px;
            }
            
            /* Modal Improvements for Mobile */
            .modal-content {
                margin: 5% auto;
                width: 95%;
                max-width: 95%;
                padding: 15px;
                max-height: 90%;
                border-radius: 16px;
            }
            
            .modal-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
                line-height: 1.2;
            }
            
            .form-group {
                margin-bottom: 12px;
            }
            
            .form-label {
                font-size: 0.9rem;
                margin-bottom: 5px;
            }
            
            .form-input {
                padding: 10px;
                font-size: 0.9rem;
                border-radius: 8px;
            }
            
            .form-buttons {
                flex-direction: column;
                gap: 10px;
                margin-top: 20px;
            }
            
            .btn-primary, .btn-secondary {
                padding: 10px 16px;
                font-size: 0.9rem;
                border-radius: 8px;
            }
            
            /* Cart Modal Mobile */
            .cart-item {
                padding: 12px;
                margin-bottom: 10px;
                border-radius: 12px;
            }
            
            .cart-item-actions {
                flex-direction: column;
                gap: 6px;
                margin-left: 10px;
            }
            
            .cart-action-btn {
                padding: 4px 8px;
                font-size: 0.7rem;
                border-radius: 6px;
            }
            
            /* Payment Confirmation Modal Mobile */
            .payment-confirmation-content {
                margin: 2% auto;
                width: 95%;
                max-width: 95%;
                padding: 15px;
                max-height: 95%;
                border-radius: 16px;
            }
            
            .payment-confirmation-title {
                font-size: 1.4rem;
                line-height: 1.2;
            }
            
            .payment-confirmation-subtitle {
                font-size: 0.9rem;
            }
            
            .payment-success-icon {
                font-size: 2.5rem;
                margin-bottom: 10px;
            }
            
            .payment-details-section, .ordered-items-section, .customer-details-section, .next-steps-section {
                padding: 15px;
                margin-bottom: 15px;
                border-radius: 12px;
            }
            
            .payment-details-title, .ordered-items-title, .customer-details-title, .next-steps-title {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }
            
            .payment-id-display {
                padding: 12px;
                margin-bottom: 15px;
                border-radius: 8px;
            }
            
            .payment-id-value {
                font-size: 1rem;
                word-break: break-all;
            }
            
            .payment-amount-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .payment-amount-item {
                padding: 12px;
                border-radius: 8px;
            }
            
            .payment-amount-value {
                font-size: 1.1rem;
            }
            
            .customer-info-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .customer-info-item {
                padding: 12px;
                border-radius: 8px;
            }
            
            .ordered-item {
                padding: 15px;
                margin-bottom: 12px;
                border-radius: 8px;
            }
            
            .item-name {
                font-size: 1.1rem;
            }
            
            .item-brand {
                font-size: 0.8rem;
            }
            
            .item-service-type {
                padding: 3px 10px;
                font-size: 0.7rem;
                border-radius: 16px;
            }
            
            .item-pricing {
                padding: 10px;
                border-radius: 6px;
                margin-top: 8px;
            }
            
            .next-step-item {
                padding: 12px;
                margin-bottom: 10px;
                border-radius: 8px;
                flex-direction: column;
                text-align: center;
                gap: 8px;
            }
            
            .step-icon {
                font-size: 1.3rem;
                margin-right: 0;
                margin-bottom: 5px;
            }
            
            .step-text {
                font-size: 0.85rem;
                line-height: 1.3;
            }
            
            .confirmation-actions {
                flex-direction: column;
                gap: 8px;
                margin-top: 20px;
            }
            
            .btn-print, .btn-close-confirmation {
                padding: 10px 16px;
                font-size: 0.85rem;
                border-radius: 8px;
            }
            
            /* Footer Mobile */
            .footer-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .footer-section {
                padding: 12px;
            }
            
            .footer-logo {
                justify-content: center;
                margin-bottom: 15px;
            }
            
            .footer-logo-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
            
            .footer-company-name {
                font-size: 1.1rem;
                text-align: center;
            }
            
            .footer-tagline {
                font-size: 0.8rem;
                text-align: center;
            }
            
            .footer-title {
                font-size: 1rem;
                text-align: center;
                margin-bottom: 15px;
            }
            
            .footer-services {
                text-align: center;
            }
            
            .footer-services li {
                font-size: 0.8rem;
                padding: 6px 0;
            }
            
            .footer-contact {
                align-items: center;
            }
            
            .footer-contact-item {
                font-size: 0.8rem;
                justify-content: center;
            }
            
            .footer-bottom-content {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .footer-copyright {
                font-size: 0.8rem;
            }
        }

        /* Extra Small Mobile Devices (iPhone SE, small Android) */
        @media (max-width: 375px) {
            .container {
                padding: 5px;
            }
            
            .header-container {
                padding: 0 8px;
                gap: 8px;
            }
            
            .company-title {
                font-size: 0.9rem;
            }
            
            .company-subtitle {
                font-size: 0.55rem;
            }
            
            .contact-item-header {
                font-size: 0.7rem;
            }
            
            .emergency-btn {
                padding: 5px 10px;
                font-size: 0.6rem;
            }
            
            .main-banner {
                padding: 10px;
            }
            
            .company-name {
                font-size: 1.2rem;
            }
            
            .tagline {
                font-size: 0.75rem;
            }
            
            .selection-title {
                font-size: 1.2rem;
            }
            
            .service-card {
                padding: 15px 12px;
            }
            
            .service-name {
                font-size: 1rem;
            }
            
            .service-description {
                font-size: 0.75rem;
            }
            
            .feature-item {
                font-size: 0.7rem;
            }
            
            .brand-tab {
                padding: 5px 10px;
                font-size: 0.75rem;
            }
            
            .car-card {
                padding: 12px;
            }
            
            .car-name {
                font-size: 0.95rem;
            }
            
            .modal-content {
                width: 98%;
                padding: 12px;
            }
            
            .modal-title {
                font-size: 1.2rem;
            }
            
            .payment-confirmation-content {
                width: 98%;
                padding: 12px;
            }
            
            .payment-confirmation-title {
                font-size: 1.3rem;
            }
            
            .footer-company-name {
                font-size: 1rem;
            }
        }

        /* Landscape Mobile Orientation */
        @media (max-width: 768px) and (orientation: landscape) {
            .header-container {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                padding: 0 15px;
            }
            
            .header-left, .header-right {
                width: auto;
            }
            
            .header-contact {
                flex-direction: row;
                gap: 15px;
            }
            
            .main-banner {
                padding: 15px;
            }
            
            .service-types {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .brand-tabs {
                justify-content: center;
            }
            
            .modal-content {
                max-height: 85%;
                overflow-y: auto;
            }
            
            .payment-confirmation-content {
                max-height: 85%;
                overflow-y: auto;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Top Header -->
  <header class="top-header">
   <div class="header-container">
    <div class="header-left">
     <div class="logo-section">
      <div class="logo-icon">
       🚗
      </div>
      <div class="logo-text"><a href="https://www.sonipathomeservice.com" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: inherit;">
        <div class="company-title" id="header-company-name" style="cursor: pointer; transition: all 0.3s ease;">
         Car Repair &amp; Service Sonipat
        </div></a>
       <div class="company-subtitle">
        Free Pick &amp; Drop Home Delivery
       </div>
      </div>
     </div>
    </div>
    <div class="header-right">
     <div class="header-contact">
      <div class="contact-item-header"><span class="contact-icon">📞</span> <span id="header-phone">8816014071</span>
      </div>
      <div class="contact-item-header"><span class="contact-icon">✉️</span> <span id="header-email">care@sonipathomeservice.com</span>
      </div>
     </div>
     <div style="display: flex; align-items: center; gap: 15px;">
      <div class="cart-icon-container" onclick="openCartModal()" style="position: relative; cursor: pointer; background: rgba(255, 255, 255, 0.2); border-radius: 50%; padding: 12px; transition: all 0.3s ease; border: 2px solid rgba(255, 255, 255, 0.3);"><span style="font-size: 1.5rem;">🛒</span> <span id="cart-count" class="cart-count" style="position: absolute; top: -5px; right: -5px; background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); color: white; border-radius: 50%; width: 24px; height: 24px; display: none; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; box-shadow: 0 2px 8px rgba(220, 38, 38, 0.4);">0</span>
      </div><a href="tel:8816014071" class="emergency-btn" style="text-decoration: none; display: inline-block;"> 🚗 Book Now </a>
     </div>
    </div>
   </div>
  </header>
  <div class="container"><!-- Main Banner Section -->
   <section class="main-banner"><a href="https://www.sonipathomeservice.com" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: inherit;"> <h1 class="company-name" id="company-name" style="cursor: pointer; transition: all 0.3s ease;">Car Repair &amp; Service in Sonipat</h1></a>
    <p class="tagline" id="tagline">Free Pick &amp; Drop Home Delivery - Professional Car Care at Your Doorstep</p><!-- Service Highlights -->
    <div style="margin-top: 15px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
     <div style="padding: 10px; background: rgba(30, 58, 138, 0.12); border-radius: 8px; border: 2px solid rgba(30, 58, 138, 0.25); text-align: center;">
      <div style="font-size: 1.2rem; margin-bottom: 5px;">
       🚗
      </div>
      <div style="font-size: 0.8rem; font-weight: 700; color: #1e3a8a;">
       Free Pick &amp; Drop
      </div>
     </div>
     <div style="padding: 10px; background: rgba(30, 58, 138, 0.12); border-radius: 8px; border: 2px solid rgba(30, 58, 138, 0.25); text-align: center;">
      <div style="font-size: 1.2rem; margin-bottom: 5px;">
       🔧
      </div>
      <div style="font-size: 0.8rem; font-weight: 700; color: #1e3a8a;">
       Expert Technicians
      </div>
     </div>
     <div style="padding: 10px; background: rgba(30, 58, 138, 0.12); border-radius: 8px; border: 2px solid rgba(30, 58, 138, 0.25); text-align: center;">
      <div style="font-size: 1.2rem; margin-bottom: 5px;">
       ✅
      </div>
      <div style="font-size: 0.8rem; font-weight: 700; color: #1e3a8a;">
       Genuine Parts
      </div>
     </div>
     <div style="padding: 10px; background: rgba(30, 58, 138, 0.12); border-radius: 8px; border: 2px solid rgba(30, 58, 138, 0.25); text-align: center;">
      <div style="font-size: 1.2rem; margin-bottom: 5px;">
       ⚡
      </div>
      <div style="font-size: 0.8rem; font-weight: 700; color: #1e3a8a;">
       Same Day Service
      </div>
     </div>
     <div style="padding: 10px; background: rgba(30, 58, 138, 0.12); border-radius: 8px; border: 2px solid rgba(30, 58, 138, 0.25); text-align: center;">
      <div style="font-size: 1.2rem; margin-bottom: 5px;">
       🛡️
      </div>
      <div style="font-size: 0.8rem; font-weight: 700; color: #1e3a8a;">
       Service Warranty
      </div>
     </div>
    </div>
    <div style="margin-top: 15px; padding: 12px; background: rgba(30, 58, 138, 0.1); border-radius: 10px; border: 2px solid rgba(30, 58, 138, 0.2);">
     <div style="font-size: 0.9rem; font-weight: 700; color: #1e3a8a; margin-bottom: 8px; text-align: center;">
      🚗 Service Available in:
     </div>
     <div style="font-size: 0.85rem; color: #374151; font-weight: 600; text-align: center; line-height: 1.4;">
      Sonipat • Bahalgarh • Kundli • Ganaur • Kailana • Mohana • Murthal • Samalkha • Rai
     </div>
    </div>
    <div class="contact-info">
     <div class="contact-item"><span>📞</span> <span id="customer-care">8816014071</span>
     </div>
     <div class="contact-item"><span>✉️</span> <span id="email-address">care@sonipathomeservice.com</span>
     </div>
     <div class="contact-item"><span>📍</span> <span id="office-address">128/1, Sainipura, Sonipat</span>
     </div>
    </div>
   </section><!-- Service Selection Section -->
   <section class="service-selection">
    <h2 class="selection-title">Choose Your Service Type</h2>
    <div class="service-types"><!-- Half Service -->
     <div class="service-card" id="half-service" onclick="selectService('half')">
      <div class="service-icon">
       🔧
      </div>
      <div class="service-name">
       Half Service
      </div>
      <div class="service-description">
       Essential maintenance service to keep your car running smoothly with basic checks and replacements.
      </div>
      <div class="service-features">
       <div class="feature-item"><span>✅</span> <span>Synthetic Engine Oil Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Air Filter Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Oil Filter Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Brake Oil Check/Top-up</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Wiper Fluid/Shampoo Refill</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Battery Acid Check</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Spark Plug Clean/Check</span>
       </div>
      </div><button class="select-service-btn" id="half-btn">Select Half Service</button>
     </div><!-- Full Service -->
     <div class="service-card" id="full-service" onclick="selectService('full')">
      <div class="service-icon">
       🛠️
      </div>
      <div class="service-name">
       Full Service
      </div>
      <div class="service-description">
       Comprehensive car service with complete maintenance, cleaning, and detailed inspection for optimal performance.
      </div>
      <div class="service-features">
       <div class="feature-item"><span>✅</span> <span>Synthetic Engine Oil Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Air Filter Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Oil Filter Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Brake Oil Check/Top-up</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Wiper Fluid/Shampoo Refill</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Battery Acid Check</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Spark Plug Clean/Check</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Gear Oil Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Coolant Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Brake Grease Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Engine Flush Check/Change</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>Exterior Car Wash</span>
       </div>
       <div class="feature-item"><span>✅</span> <span>AC Filter Change</span>
       </div>
      </div><button class="select-service-btn" id="full-btn">Select Full Service</button>
     </div>
    </div>
   </section><!-- Car Selection Section -->
   <section class="car-selection" id="car-selection">
    <h2 class="selection-title">Select Your Car Model</h2><!-- Brand Tabs -->
    <div class="brand-tabs">
     <div class="brand-tab active" onclick="showBrand('maruti')">
      Maruti
     </div>
     <div class="brand-tab" onclick="showBrand('tata')">
      TATA
     </div>
     <div class="brand-tab" onclick="showBrand('hyundai')">
      Hyundai
     </div>
     <div class="brand-tab" onclick="showBrand('mahindra')">
      Mahindra
     </div>
     <div class="brand-tab" onclick="showBrand('toyota')">
      Toyota
     </div>
    </div><!-- Car Grid -->
    <div class="car-grid" id="car-grid"><!-- Cars will be populated based on brand selection -->
    </div>
   </section><!-- Cart Modal -->
   <div id="cart-modal" class="modal">
    <div class="modal-content" style="max-width: 650px;">
     <h2 class="modal-title">🛒 Your Service Cart</h2>
     <div class="success-message" id="cart-success-message"></div>
     <div class="error-message" id="cart-error-message"></div>
     <div id="cart-items-modal">
      <div class="empty-cart">
       Your cart is empty. Please select a service.
      </div>
     </div>
     <div id="cart-total-modal" style="display: none;">
      <div style="background: rgba(30, 58, 138, 0.1); padding: 20px; border-radius: 12px; margin: 20px 0; border: 2px solid rgba(30, 58, 138, 0.2);">
       <div style="font-size: 1.2rem; font-weight: 700; color: #1e3a8a; margin-bottom: 15px; text-align: center;">
        💰 Payment Breakdown
       </div>
       <div id="total-amount-modal" style="font-size: 1rem; font-weight: 600; color: #1e3a8a;"><!-- Payment breakdown will be populated here -->
       </div>
       <div style="text-align: center; color: #059669; font-weight: 700; font-size: 1rem; margin-top: 15px;">
        🚗 Free Pick &amp; Drop Service Included
       </div>
       <div style="text-align: center; color: #dc2626; font-weight: 600; font-size: 0.9rem; margin-top: 8px;">
        ⚠️ Service available only in Sonipat City &amp; Nearby areas
       </div>
       <div style="text-align: center; color: #7c2d12; font-weight: 600; font-size: 0.85rem; margin-top: 5px;">
        * Balance payment after service completion
       </div>
       <div style="text-align: center; color: #7c2d12; font-weight: 600; font-size: 0.85rem; margin-top: 3px;">
        * Extra mechanic work will be charged separately
       </div>
      </div>
     </div>
     <div class="form-buttons"><button type="button" class="btn-secondary" onclick="closeCartModal()">Continue Shopping</button> <button type="button" class="btn-primary" id="proceed-checkout-btn" onclick="proceedToCheckout()" disabled> Proceed to Checkout </button>
     </div>
    </div>
   </div>
  </div><!-- Footer Section -->
  <footer class="footer">
   <div class="footer-container">
    <div class="footer-content">
     <div class="footer-section">
      <div class="footer-logo">
       <div class="footer-logo-icon">
        🚗
       </div>
       <div class="footer-logo-text"><a href="https://www.sonipathomeservice.com" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: inherit;">
         <div class="footer-company-name" id="footer-company-name" style="cursor: pointer; transition: all 0.3s ease;">
          Car Repair &amp; Service Sonipat
         </div></a>
        <div class="footer-tagline">
         Free Pick &amp; Drop Home Delivery
        </div>
       </div>
      </div>
      <p class="footer-description">Professional car repair and maintenance services in Sonipat with free pick and drop facility. Expert technicians, genuine parts, and same-day service guarantee.</p>
     </div>
     <div class="footer-section">
      <h3 class="footer-title">Our Services</h3>
      <ul class="footer-services">
       <li>🔧 Half Service - Essential Maintenance</li>
       <li>🛠️ Full Service - Complete Care</li>
       <li>🚗 Free Pick &amp; Drop Service</li>
       <li>⚡ Same Day Service Available</li>
       <li>🔋 Battery &amp; Electrical Work</li>
       <li>🛡️ AC Service &amp; Repair</li>
       <li>🔩 Engine Oil &amp; Filter Change</li>
       <li>📞 24/7 Customer Support</li>
      </ul>
     </div>
     <div class="footer-section">
      <h3 class="footer-title">Contact Info</h3>
      <div class="footer-contact">
       <div class="footer-contact-item"><span class="footer-icon">📍</span> <span id="footer-address">128/1, Sainipura, Sonipat</span>
       </div>
       <div class="footer-contact-item"><span class="footer-icon">📞</span> <span id="footer-phone">8816014071</span>
       </div>
       <div class="footer-contact-item"><span class="footer-icon">✉️</span> <span id="footer-email">care@sonipathomeservice.com</span>
       </div>
       <div class="footer-contact-item"><span class="footer-icon">🌐</span> <span>www.sonipathomeservice.com</span>
       </div>
      </div>
     </div>
    </div>
    <div class="footer-bottom">
     <div class="footer-bottom-content">
      <div class="footer-copyright">
       © 2024 Sonipat Home Service - All Rights Reserved
      </div>
     </div>
    </div>
   </div>
  </footer><!-- Booking Modal -->
  <div id="booking-modal" class="modal">
   <div class="modal-content">
    <h2 class="modal-title">Book Your Car Service</h2>
    <div class="success-message" id="success-message"></div>
    <div class="error-message" id="error-message"></div>
    <div class="loading" id="loading">
     <div>
      🚗 Processing your booking...
     </div>
     <div style="margin-top: 10px;">
      Please wait...
     </div>
    </div>
    <form id="booking-form">
     <div class="form-group"><label class="form-label" for="customer-name">Customer Name *</label> <input type="text" id="customer-name" class="form-input" required placeholder="Enter your full name">
     </div>
     <div class="form-group"><label class="form-label" for="mobile-number">Mobile Number *</label> <input type="tel" id="mobile-number" class="form-input" pattern="[0-9]{10}" required placeholder="Enter 10-digit mobile number">
     </div>
     <div class="form-group"><label class="form-label" for="email-id">Email ID *</label> <input type="email" id="email-id" class="form-input" required placeholder="Enter your email address">
     </div>
     <div class="form-group"><label class="form-label" for="pickup-address">Pickup Address *</label> <input type="text" id="pickup-address" class="form-input" required placeholder="Enter complete pickup address">
     </div>
     <div class="form-group"><label class="form-label" for="landmark">Landmark *</label> <input type="text" id="landmark" class="form-input" required placeholder="Near Metro Station, Mall, Hospital, etc.">
     </div>
     <div class="form-group"><label class="form-label" for="pincode">Pincode *</label> <input type="text" id="pincode" class="form-input" pattern="[0-9]{6}" required placeholder="Enter 6-digit pincode">
     </div>
     <div class="form-group"><label class="form-label">Service Details</label>
      <div class="form-input" style="background: rgba(30, 58, 138, 0.1); color: #1e3a8a; font-weight: 600;" id="service-details-display">
       Service details will be shown here
      </div>
     </div>
     <div class="form-buttons"><button type="button" class="btn-secondary" onclick="closeBookingForm()">Cancel</button> <button type="submit" class="btn-primary" id="book-now-btn">Book Service ₹<span id="book-amount">0</span></button>
     </div>
    </form>
   </div>
  </div><!-- Payment Confirmation Modal -->
  <div id="payment-confirmation-modal" class="payment-confirmation-modal">
   <div class="payment-confirmation-content"><!-- Header Section -->
    <div class="payment-confirmation-header">
     <div class="payment-success-icon">
      🎉
     </div>
     <h2 class="payment-confirmation-title">Payment Successful!</h2>
     <p class="payment-confirmation-subtitle">Your car service has been booked successfully</p>
    </div><!-- Payment Details Section -->
    <div class="payment-details-section">
     <div class="payment-details-title"><span>💳</span> <span>Payment Details</span>
     </div>
     <div class="payment-id-display">
      <div class="payment-id-label">
       Payment ID
      </div>
      <div class="payment-id-value" id="confirmation-payment-id">
       -
      </div>
     </div>
     <div class="payment-amount-grid">
      <div class="payment-amount-item">
       <div class="payment-amount-label">
        Amount Paid
       </div>
       <div class="payment-amount-value paid-amount" id="confirmation-paid-amount">
        ₹0
       </div>
      </div>
      <div class="payment-amount-item">
       <div class="payment-amount-label">
        Balance Due
       </div>
       <div class="payment-amount-value balance-amount" id="confirmation-balance-amount">
        ₹0
       </div>
      </div>
      <div class="payment-amount-item">
       <div class="payment-amount-label">
        Total Service Cost
       </div>
       <div class="payment-amount-value total-amount" id="confirmation-total-amount">
        ₹0
       </div>
      </div>
     </div>
    </div><!-- Ordered Items Section -->
    <div class="ordered-items-section">
     <div class="ordered-items-title"><span>🛠️</span> <span>Services Booked</span>
     </div>
     <div id="confirmation-ordered-items"><!-- Items will be populated here -->
     </div>
    </div><!-- Customer Details Section -->
    <div class="customer-details-section">
     <div class="customer-details-title"><span>👤</span> <span>Customer Information</span>
     </div>
     <div class="customer-info-grid">
      <div class="customer-info-item">
       <div class="customer-info-label">
        Customer Name
       </div>
       <div class="customer-info-value" id="confirmation-customer-name">
        -
       </div>
      </div>
      <div class="customer-info-item">
       <div class="customer-info-label">
        Mobile Number
       </div>
       <div class="customer-info-value" id="confirmation-mobile">
        -
       </div>
      </div>
      <div class="customer-info-item">
       <div class="customer-info-label">
        Email Address
       </div>
       <div class="customer-info-value" id="confirmation-email">
        -
       </div>
      </div>
      <div class="customer-info-item">
       <div class="customer-info-label">
        Pickup Address
       </div>
       <div class="customer-info-value" id="confirmation-address">
        -
       </div>
      </div>
      <div class="customer-info-item">
       <div class="customer-info-label">
        Landmark
       </div>
       <div class="customer-info-value" id="confirmation-landmark">
        -
       </div>
      </div>
      <div class="customer-info-item">
       <div class="customer-info-label">
        Pincode
       </div>
       <div class="customer-info-value" id="confirmation-pincode">
        -
       </div>
      </div>
     </div>
    </div><!-- Next Steps Section -->
    <div class="next-steps-section">
     <div class="next-steps-title"><span>📋</span> <span>What Happens Next?</span>
     </div>
     <ul class="next-steps-list">
      <li class="next-step-item">
       <div class="step-icon">
        📞
       </div>
       <div class="step-text">
        Our team will contact you within 2 hours to schedule pickup time
       </div></li>
      <li class="next-step-item">
       <div class="step-icon">
        🚗
       </div>
       <div class="step-text">
        Free pickup from your location at scheduled time
       </div></li>
      <li class="next-step-item">
       <div class="step-icon">
        🔧
       </div>
       <div class="step-text">
        Professional service with genuine parts by expert technicians
       </div></li>
      <li class="next-step-item">
       <div class="step-icon">
        🏠
       </div>
       <div class="step-text">
        Free delivery back to your location after service completion
       </div></li>
      <li class="next-step-item">
       <div class="step-icon">
        💰
       </div>
       <div class="step-text">
        Pay remaining balance after service completion and inspection
       </div></li>
     </ul>
    </div><!-- Action Buttons -->
    <div class="confirmation-actions"><button type="button" class="btn-print" onclick="printConfirmation()"> 🖨️ Print Receipt </button> <button type="button" class="btn-close-confirmation" onclick="closePaymentConfirmation()"> ✅ Done </button>
    </div>
   </div>
  </div>
  <script>
        let currentRecordCount = 0;
        let selectedService = null;
        let selectedCar = null;
        let currentBrand = 'maruti';
        let cartItems = [];
        
        const defaultConfig = {
            company_name: "Car Repair & Service Sonipat",
            tagline: "Free Pick & Drop Home Delivery - Professional Car Care at Your Doorstep",
            phone_number: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };

        // Car pricing data
        const carData = {
            maruti: [
                { name: 'Alto (Alto 800, Alto K10)', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'WagonR', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Celerio', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Swift', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Dzire', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Baleno', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Ignis', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'A-Star', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Ritz', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Ciaz', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Eeco', brand: 'Maruti', halfPrice: 3499, fullPrice: 5499 },
                { name: 'Ertiga', brand: 'Maruti', halfPrice: 2499, fullPrice: 4499 },
                { name: 'XL6', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Brezza', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Grand Vitara', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 },
                { name: 'S-Cross', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 },
                { name: 'SX4', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Fronx', brand: 'Maruti', halfPrice: 2999, fullPrice: 4999 }
            ],
            tata: [
                { name: 'Tiago', brand: 'TATA', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Altroz', brand: 'TATA', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Tigor', brand: 'TATA', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Punch', brand: 'TATA', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Nexon', brand: 'TATA', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Harrier', brand: 'TATA', halfPrice: 2999, fullPrice: 4999 }
            ],
            hyundai: [
                { name: 'Alcazar', brand: 'Hyundai', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Santro', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Aura', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Creta', brand: 'Hyundai', halfPrice: 2999, fullPrice: 4999 },
                { name: 'Grand i10 Nios', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'i20', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Venue', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Verna', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Xcent', brand: 'Hyundai', halfPrice: 2499, fullPrice: 4499 }
            ],
            mahindra: [
                { name: 'Bolero', brand: 'Mahindra', halfPrice: 3399, fullPrice: 5499 },
                { name: 'Scorpio N', brand: 'Mahindra', halfPrice: 3399, fullPrice: 5499 },
                { name: 'TUV300', brand: 'Mahindra', halfPrice: 2999, fullPrice: 4999 },
                { name: 'XUV500', brand: 'Mahindra', halfPrice: 3399, fullPrice: 5499 },
                { name: 'XUV700', brand: 'Mahindra', halfPrice: 3399, fullPrice: 5499 }
            ],
            toyota: [
                { name: 'Etios', brand: 'Toyota', halfPrice: 2499, fullPrice: 4499 },
                { name: 'Glanza', brand: 'Toyota', halfPrice: 2499, fullPrice: 4499 }
            ]
        };

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                currentRecordCount = data.length;
                console.log(`Current record count: ${currentRecordCount}`);
            }
        };

        // Element SDK Configuration
        const elementConfig = {
            defaultConfig: defaultConfig,
            onConfigChange: async (config) => {
                // Update header elements
                document.getElementById('header-company-name').textContent = config.company_name || defaultConfig.company_name;
                document.getElementById('header-phone').textContent = config.phone_number || defaultConfig.phone_number;
                document.getElementById('header-email').textContent = config.email_address || defaultConfig.email_address;
                
                // Update main banner elements
                document.getElementById('company-name').textContent = config.company_name || defaultConfig.company_name;
                document.getElementById('tagline').textContent = config.tagline || defaultConfig.tagline;
                document.getElementById('customer-care').textContent = config.phone_number || defaultConfig.phone_number;
                document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
                document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
                
                // Update footer elements
                document.getElementById('footer-company-name').textContent = config.company_name || defaultConfig.company_name;
                document.getElementById('footer-address').textContent = config.office_address || defaultConfig.office_address;
                document.getElementById('footer-phone').textContent = config.phone_number || defaultConfig.phone_number;
                document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
            },
            mapToCapabilities: (config) => ({
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            }),
            mapToEditPanelValues: (config) => new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["tagline", config.tagline || defaultConfig.tagline],
                ["phone_number", config.phone_number || defaultConfig.phone_number],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ])
        };

        // Initialize SDKs
        async function initializeApp() {
            try {
                if (window.dataSdk) {
                    const initResult = await window.dataSdk.init(dataHandler);
                    if (!initResult.isOk) {
                        console.error("Failed to initialize data SDK:", initResult.error);
                    } else {
                        console.log("Data SDK initialized successfully");
                    }
                }
                
                if (window.elementSdk) {
                    window.elementSdk.init(elementConfig);
                    console.log("Element SDK initialized successfully");
                }
            } catch (error) {
                console.error("Error initializing app:", error);
            }
        }

        // Select Service Function
        function selectService(serviceType) {
            // Clear previous selections
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelectorAll('.select-service-btn').forEach(btn => {
                btn.classList.remove('selected');
                btn.textContent = btn.textContent.replace('✓ Selected - ', 'Select ');
            });

            // Select new service
            selectedService = serviceType;
            const serviceCard = document.getElementById(`${serviceType}-service`);
            const serviceBtn = document.getElementById(`${serviceType}-btn`);
            
            serviceCard.classList.add('selected');
            serviceBtn.classList.add('selected');
            serviceBtn.textContent = `✓ Selected - ${serviceType === 'half' ? 'Half Service' : 'Full Service'}`;

            // Show car selection section
            document.getElementById('car-selection').style.display = 'block';

            // Load cars for current brand
            showBrand(currentBrand);

            // Clear car selection
            selectedCar = null;
            updateCartDisplay();

            // Scroll to car selection
            document.getElementById('car-selection').scrollIntoView({ behavior: 'smooth' });
        }

        // Show Brand Function
        function showBrand(brand) {
            currentBrand = brand;
            
            // Update brand tabs
            document.querySelectorAll('.brand-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load cars for selected brand
            loadCarsForBrand(brand);
        }

        // Load Cars for Brand
        function loadCarsForBrand(brand) {
            const carGrid = document.getElementById('car-grid');
            const cars = carData[brand] || [];
            
            let carsHTML = '';
            
            cars.forEach((car, index) => {
                const halfPrice = selectedService === 'half' ? car.halfPrice : 0;
                const fullPrice = selectedService === 'full' ? car.fullPrice : 0;
                const currentPrice = selectedService === 'half' ? car.halfPrice : car.fullPrice;
                
                carsHTML += `
                    <div class="car-card" onclick="selectCar('${car.name}', '${car.brand}', ${car.halfPrice}, ${car.fullPrice})">
                        <div class="car-name">${car.name}</div>
                        <div class="car-brand">${car.brand}</div>
                        <div class="car-pricing">
                            <div class="price-item">
                                <div class="price-label">Half Service</div>
                                <div class="price-value">₹${car.halfPrice.toLocaleString()}</div>
                            </div>
                            <div class="price-item">
                                <div class="price-label">Full Service</div>
                                <div class="price-value">₹${car.fullPrice.toLocaleString()}</div>
                            </div>
                        </div>
                        <button class="book-service-btn" onclick="event.stopPropagation(); selectCar('${car.name}', '${car.brand}', ${car.halfPrice}, ${car.fullPrice})">
                            Add to Cart - ₹${currentPrice.toLocaleString()}
                        </button>
                    </div>
                `;
            });
            
            carGrid.innerHTML = carsHTML;
        }

        // Update Cart Count Display
        function updateCartCount() {
            const cartCountElement = document.getElementById('cart-count');
            const count = cartItems.length;
            
            if (count > 0) {
                cartCountElement.textContent = count;
                cartCountElement.style.display = 'flex';
            } else {
                cartCountElement.style.display = 'none';
            }
        }



        // Select Car Function - Add to Cart
        function selectCar(carName, carBrand, halfPrice, fullPrice) {
            if (!selectedService) {
                showCartMessage('error', '⚠️ Please select a service type first (Half Service or Full Service)');
                return;
            }

            const serviceCost = selectedService === 'half' ? halfPrice : fullPrice;
            const serviceTypeName = selectedService === 'half' ? 'Half Service' : 'Full Service';
            
            // Calculate booking amount - if service cost is less than 99, use service cost
            const bookingAmount = serviceCost < 99 ? serviceCost : 99;
            const balanceAmount = serviceCost - bookingAmount;
            
            // Create cart item
            const cartItem = {
                id: Date.now().toString() + '_' + Math.random().toString(36).substr(2, 9),
                carName: carName,
                carBrand: carBrand,
                serviceType: serviceTypeName,
                serviceCost: serviceCost,
                bookingAmount: bookingAmount,
                balanceAmount: balanceAmount,
                halfPrice: halfPrice,
                fullPrice: fullPrice,
                isDemoService: false
            };

            // Add to cart
            cartItems.push(cartItem);
            updateCartCount();

            // Add visual feedback
            const button = event.target;
            if (button.classList.contains('book-service-btn')) {
                const originalText = button.textContent;
                button.textContent = 'Added to Cart! ✓';
                button.style.background = 'linear-gradient(135deg, #059669 0%, #047857 100%)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = 'linear-gradient(135deg, #059669 0%, #047857 100%)';
                }, 1500);
            }

            // Open cart modal
            setTimeout(() => {
                openCartModal();
            }, 800);
        }

        // Cart Modal Functions
        function openCartModal() {
            updateCartModalDisplay();
            document.getElementById('cart-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeCartModal() {
            document.getElementById('cart-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
            hideCartMessages();
        }

        function updateCartModalDisplay() {
            const cartItemsContainer = document.getElementById('cart-items-modal');
            const cartTotal = document.getElementById('cart-total-modal');
            const proceedBtn = document.getElementById('proceed-checkout-btn');
            
            if (cartItems.length === 0) {
                cartItemsContainer.innerHTML = '<div class="empty-cart">Your cart is empty. Please select a service.</div>';
                cartTotal.style.display = 'none';
                proceedBtn.disabled = true;
                return;
            }
            
            let cartHTML = '';
            let totalBookingAmount = 0;
            let totalServiceCost = 0;
            let totalBalanceAmount = 0;
            
            cartItems.forEach((item, index) => {
                totalServiceCost += item.serviceCost;
                totalBookingAmount += item.bookingAmount;
                totalBalanceAmount += item.balanceAmount;
                
                // Create service features list based on service type
                let serviceFeatures = '';
                if (item.serviceType === 'Half Service') {
                    serviceFeatures = `
                        <div style="margin-top: 8px; padding: 8px; background: rgba(5, 150, 105, 0.1); border-radius: 6px; border: 1px solid rgba(5, 150, 105, 0.2);">
                            <div style="font-size: 0.75rem; font-weight: 700; color: #059669; margin-bottom: 4px;">🔧 Half Service Includes:</div>
                            <div style="font-size: 0.7rem; color: #374151; line-height: 1.3;">
                                • Engine Oil Change • Air Filter • Oil Filter • Brake Oil Check • Wiper Fluid • Battery Check • Spark Plug Clean
                            </div>
                        </div>
                    `;
                } else if (item.serviceType === 'Full Service') {
                    serviceFeatures = `
                        <div style="margin-top: 8px; padding: 8px; background: rgba(59, 130, 246, 0.1); border-radius: 6px; border: 1px solid rgba(59, 130, 246, 0.2);">
                            <div style="font-size: 0.75rem; font-weight: 700; color: #3b82f6; margin-bottom: 4px;">🛠️ Full Service Includes:</div>
                            <div style="font-size: 0.7rem; color: #374151; line-height: 1.3;">
                                • All Half Service Items • Gear Oil Change • Coolant Change • Brake Grease • Engine Flush • Car Wash • AC Filter
                            </div>
                        </div>
                    `;
                }
                
                cartHTML += `
                    <div class="cart-item">
                        <div class="cart-item-header">
                            <div class="cart-item-details">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                                    <div>
                                        <strong style="font-size: 1.1rem; color: #1e3a8a;">${item.carName}</strong><br>
                                        <small style="color: #6b7280; font-weight: 600;">Brand: ${item.carBrand}</small>
                                    </div>
                                    <div style="background: ${item.isDemoService ? 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' : (item.serviceType === 'Half Service' ? 'linear-gradient(135deg, #059669 0%, #047857 100%)' : 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100)')}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: 700;">
                                        ${item.isDemoService ? '🧪 DEMO' : (item.serviceType === 'Half Service' ? '🔧 HALF' : '🛠️ FULL')}
                                    </div>
                                </div>
                                
                                <div style="background: rgba(30, 58, 138, 0.1); padding: 10px; border-radius: 8px; margin-bottom: 8px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <span style="font-size: 0.85rem; color: #374151; font-weight: 600;">Total Service Cost:</span>
                                        <span style="font-size: 0.9rem; font-weight: 700; color: #1e3a8a;">₹${item.serviceCost.toLocaleString()}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                        <span style="font-size: 0.85rem; color: #059669; font-weight: 600;">Booking Amount:</span>
                                        <span style="font-size: 0.9rem; font-weight: 700; color: #059669;">₹${item.bookingAmount}</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding-top: 5px; border-top: 1px solid rgba(30, 58, 138, 0.2);">
                                        <span style="font-size: 0.85rem; color: #dc2626; font-weight: 600;">Balance (After Service):</span>
                                        <span style="font-size: 0.9rem; font-weight: 700; color: #dc2626;">₹${item.balanceAmount.toLocaleString()}</span>
                                    </div>
                                </div>
                                
                                ${serviceFeatures}
                                
                                <div style="margin-top: 8px; padding: 6px; background: rgba(34, 197, 94, 0.1); border-radius: 6px; text-align: center;">
                                    <div style="font-size: 0.75rem; color: #059669; font-weight: 700;">🚗 Free Pick & Drop Included</div>
                                </div>
                            </div>
                            <div class="cart-item-actions">
                                <button class="cart-action-btn add-more-btn" onclick="addMoreService('${item.id}')">
                                    Add More
                                </button>
                                <button class="cart-action-btn" onclick="removeFromCart('${item.id}')">
                                    Remove
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            cartItemsContainer.innerHTML = cartHTML;
            document.getElementById('total-amount-modal').innerHTML = `
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                    <span>Total Service Cost:</span>
                    <span>₹${totalServiceCost.toLocaleString()}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #059669; font-weight: 700;">
                    <span>Booking Amount (Pay Now):</span>
                    <span>₹${totalBookingAmount}</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding-top: 8px; border-top: 2px solid rgba(30, 58, 138, 0.3); color: #dc2626; font-weight: 700;">
                    <span>Balance (After Service):</span>
                    <span>₹${totalBalanceAmount.toLocaleString()}</span>
                </div>
            `;
            
            cartTotal.style.display = 'block';
            proceedBtn.disabled = false;
        }

        function removeFromCart(itemId) {
            cartItems = cartItems.filter(item => item.id !== itemId);
            updateCartCount();
            updateCartModalDisplay();
            
            if (cartItems.length === 0) {
                showCartMessage('success', '🗑️ Item removed from cart. Cart is now empty.');
            } else {
                showCartMessage('success', '🗑️ Item removed from cart successfully.');
            }
        }

        function addMoreService(itemId) {
            const item = cartItems.find(item => item.id === itemId);
            if (item) {
                // Set the service type based on current item
                selectedService = item.serviceType === 'Half Service' ? 'half' : 'full';
                
                // Update service selection UI
                document.querySelectorAll('.service-card').forEach(card => {
                    card.classList.remove('selected');
                });
                document.getElementById(`${selectedService}-service`).classList.add('selected');
                
                closeCartModal();
                
                // Scroll to car selection
                document.getElementById('car-selection').style.display = 'block';
                document.getElementById('car-selection').scrollIntoView({ behavior: 'smooth' });
                
                showCartMessage('success', `🚗 Service type set to ${item.serviceType}. Please select another car to add to cart.`);
            }
        }

        function proceedToCheckout() {
            if (cartItems.length === 0) {
                showCartMessage('error', '⚠️ Your cart is empty. Please add services first.');
                return;
            }
            
            closeCartModal();
            openBookingForm();
        }

        // Cart Message Functions
        function showCartMessage(type, message) {
            hideCartMessages();
            const messageElement = document.getElementById('cart-' + type + '-message');
            messageElement.innerHTML = message;
            messageElement.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    messageElement.style.display = 'none';
                }, 4000);
            }
        }

        function hideCartMessages() {
            document.getElementById('cart-success-message').style.display = 'none';
            document.getElementById('cart-error-message').style.display = 'none';
        }

        // Open Booking Form
        function openBookingForm() {
            if (cartItems.length === 0) {
                showMessage('error', '⚠️ Your cart is empty. Please add services first.');
                return;
            }
            
            // Update service details display in form
            const serviceDetailsDisplay = document.getElementById('service-details-display');
            let totalAmount = 0;
            let servicesHTML = '';
            
            cartItems.forEach((item, index) => {
                totalAmount += item.serviceCost;
                servicesHTML += `
                    <div style="margin-bottom: 10px; padding: 10px; background: rgba(30, 58, 138, 0.05); border-radius: 6px;">
                        <strong>${item.carName}</strong> (${item.carBrand})<br>
                        <small>Service: ${item.serviceType}</small><br>
                        <div style="margin-top: 5px; font-size: 0.85rem;">
                            <span style="color: #374151;">Total Cost: ₹${item.serviceCost.toLocaleString()}</span> | 
                            <span style="color: #059669; font-weight: 600;">Booking: ₹${item.bookingAmount}</span> | 
                            <span style="color: #dc2626; font-weight: 600;">Balance: ₹${item.balanceAmount.toLocaleString()}</span>
                        </div>
                    </div>
                `;
            });
            
            serviceDetailsDisplay.innerHTML = `
                <div style="margin-bottom: 15px;">
                    <strong>Selected Services:</strong><br>
                    ${servicesHTML}
                </div>
                <div style="background: rgba(30, 58, 138, 0.1); padding: 15px; border-radius: 8px;">
                    <div style="text-align: center; margin-bottom: 10px;">
                        <strong style="font-size: 1.1rem; color: #1e3a8a;">💰 Payment Summary</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span>Total Service Cost:</span>
                        <span style="font-weight: 700;">₹${totalAmount.toLocaleString()}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px; color: #059669;">
                        <span style="font-weight: 600;">Booking Amount (Pay Now):</span>
                        <span style="font-weight: 700;">₹${cartItems.reduce((sum, item) => sum + item.bookingAmount, 0)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding-top: 5px; border-top: 1px solid rgba(30, 58, 138, 0.2); color: #dc2626;">
                        <span style="font-weight: 600;">Balance (After Service):</span>
                        <span style="font-weight: 700;">₹${cartItems.reduce((sum, item) => sum + item.balanceAmount, 0).toLocaleString()}</span>
                    </div>
                    <div style="text-align: center; margin-top: 10px;">
                        <small style="color: #059669; font-weight: 600;">🚗 Free Pick & Drop Service Included</small><br>
                        <small style="color: #dc2626; font-weight: 600;">⚠️ Service available only in Sonipat City & Nearby areas</small><br>
                        <small style="color: #7c2d12; font-weight: 600;">* Balance payment after service completion</small><br>
                        <small style="color: #7c2d12; font-weight: 600;">* Extra mechanic work will be charged separately</small>
                    </div>
                </div>
            `;
            
            const totalBookingAmount = cartItems.reduce((sum, item) => sum + item.bookingAmount, 0);
            document.getElementById('book-amount').textContent = totalBookingAmount.toLocaleString();
            
            document.getElementById('booking-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Close Booking Form
        function closeBookingForm() {
            document.getElementById('booking-modal').style.display = 'none';
            document.getElementById('booking-form').reset();
            document.body.style.overflow = 'auto';
            hideMessages();
        }

        // Show/Hide Messages
        function showMessage(type, message) {
            hideMessages();
            const messageElement = document.getElementById(type + '-message');
            messageElement.innerHTML = message;
            messageElement.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(() => {
                    messageElement.style.display = 'none';
                }, 8000);
            }
        }

        function hideMessages() {
            document.getElementById('success-message').style.display = 'none';
            document.getElementById('error-message').style.display = 'none';
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('book-now-btn').disabled = true;
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('book-now-btn').disabled = false;
        }

        // Send data to Google Apps Script
        async function sendToGoogleSheet(bookingData) {
            try {
                const scriptUrl = 'https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec';
                
                // Create complete address from pickup address and landmark
                const fullAddress = `${bookingData.pickup_address}, ${bookingData.landmark}`;
                
                // Create detailed order items string
                let orderItemsDetails = '';
                cartItems.forEach((item, index) => {
                    orderItemsDetails += `${item.carName} (${item.carBrand}) - ${item.serviceType} (Cost: ₹${item.serviceCost}, Booking: ₹${item.bookingAmount}, Balance: ₹${item.balanceAmount})`;
                    if (index < cartItems.length - 1) {
                        orderItemsDetails += ' | ';
                    }
                });
                
                // Prepare form data with exact parameter names matching Google Apps Script
                const formData = new FormData();
                formData.append('timestamp', new Date(bookingData.booking_date).toLocaleString('hi-IN'));
                formData.append('customerName', bookingData.customer_name);
                formData.append('mobile', bookingData.mobile);
                formData.append('email', bookingData.email);
                formData.append('address', fullAddress);
                formData.append('landmark', bookingData.landmark);
                formData.append('pincode', bookingData.pincode);
                formData.append('orderItems', orderItemsDetails);
                formData.append('totalAmount', `₹${bookingData.service_cost.toLocaleString()} (Booking: ₹${bookingData.booking_amount}, Balance: ₹${bookingData.balance_amount.toLocaleString()})`);
                formData.append('paymentId', bookingData.payment_id || 'N/A');
                formData.append('status', bookingData.payment_status || 'PENDING');
                
                console.log('📤 Sending booking data to Google Sheet...');
                console.log('📋 Data being sent:', {
                    timestamp: new Date(bookingData.booking_date).toLocaleString('hi-IN'),
                    customerName: bookingData.customer_name,
                    mobile: bookingData.mobile,
                    email: bookingData.email,
                    address: fullAddress,
                    landmark: bookingData.landmark,
                    pincode: bookingData.pincode,
                    orderItems: orderItemsDetails,
                    totalAmount: `₹${bookingData.service_cost.toLocaleString()} (Booking: ₹${bookingData.booking_amount}, Balance: ₹${bookingData.balance_amount.toLocaleString()})`,
                    paymentId: bookingData.payment_id || 'N/A',
                    status: bookingData.payment_status || 'PENDING'
                });
                
                const response = await fetch(scriptUrl, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors' // Required for Google Apps Script
                });
                
                console.log('✅ Data sent to Google Sheet successfully');
                
            } catch (error) {
                console.error('❌ Error sending data to Google Sheet:', error);
                // Don't show error to user as this is backup storage
            }
        }

        // Send receipt email to customer
        async function sendCustomerReceiptEmail(bookingData) {
            try {
                console.log(`📧 Sending receipt email to customer: ${bookingData.email}...`);
                
                // Create detailed service items for customer email
                let serviceItemsHTML = '';
                let serviceItemsText = '';
                
                cartItems.forEach((item, index) => {
                    const itemNumber = index + 1;
                    
                    // Create service features list based on service type
                    let serviceFeatures = '';
                    if (item.serviceType === 'Half Service') {
                        serviceFeatures = `
                            <div style="background: rgba(5, 150, 105, 0.1); padding: 12px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(5, 150, 105, 0.2);">
                                <div style="font-size: 0.9rem; font-weight: 700; color: #059669; margin-bottom: 8px;">🔧 Half Service Includes:</div>
                                <ul style="margin: 0; padding-left: 20px; color: #374151; font-size: 0.85rem; line-height: 1.4;">
                                    <li>Synthetic Engine Oil Change</li>
                                    <li>Air Filter Change</li>
                                    <li>Oil Filter Change</li>
                                    <li>Brake Oil Check/Top-up</li>
                                    <li>Wiper Fluid/Shampoo Refill</li>
                                    <li>Battery Acid Check</li>
                                    <li>Spark Plug Clean/Check</li>
                                </ul>
                            </div>
                        `;
                    } else if (item.serviceType === 'Full Service') {
                        serviceFeatures = `
                            <div style="background: rgba(59, 130, 246, 0.1); padding: 12px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(59, 130, 246, 0.2);">
                                <div style="font-size: 0.9rem; font-weight: 700; color: #3b82f6; margin-bottom: 8px;">🛠️ Full Service Includes:</div>
                                <ul style="margin: 0; padding-left: 20px; color: #374151; font-size: 0.85rem; line-height: 1.4;">
                                    <li>All Half Service Items PLUS:</li>
                                    <li>Gear Oil Change</li>
                                    <li>Coolant Change</li>
                                    <li>Brake Grease Change</li>
                                    <li>Engine Flush Check/Change</li>
                                    <li>Exterior Car Wash</li>
                                    <li>AC Filter Change</li>
                                </ul>
                            </div>
                        `;
                    }
                    
                    serviceItemsHTML += `
                        <div style="background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                <div>
                                    <h3 style="margin: 0 0 5px 0; font-size: 1.3rem; font-weight: 800; color: #1e3a8a;">${item.carName}</h3>
                                    <p style="margin: 0 0 10px 0; color: #6b7280; font-weight: 600;">Brand: ${item.carBrand}</p>
                                    <span style="background: ${item.serviceType === 'Half Service' ? '#059669' : '#3b82f6'}; color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                        ${item.serviceType === 'Half Service' ? '🔧 Half Service' : '🛠️ Full Service'}
                                    </span>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 1.4rem; font-weight: 800; color: #1e3a8a;">₹${item.serviceCost.toLocaleString()}</div>
                                    <div style="font-size: 0.85rem; color: #6b7280;">Total Service Cost</div>
                                </div>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="color: #374151; font-weight: 600;">Service Cost:</span>
                                    <span style="font-weight: 700; color: #1e3a8a;">₹${item.serviceCost.toLocaleString()}</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                    <span style="color: #059669; font-weight: 600;">Amount Paid (Booking):</span>
                                    <span style="font-weight: 700; color: #059669;">₹${item.bookingAmount}</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding-top: 8px; border-top: 2px solid #e5e7eb;">
                                    <span style="color: #dc2626; font-weight: 600;">Balance (After Service):</span>
                                    <span style="font-weight: 700; color: #dc2626;">₹${item.balanceAmount.toLocaleString()}</span>
                                </div>
                            </div>
                            
                            ${serviceFeatures}
                            
                            <div style="background: rgba(34, 197, 94, 0.1); padding: 12px; border-radius: 8px; margin-top: 15px; text-align: center; border: 2px solid rgba(34, 197, 94, 0.2);">
                                <div style="font-size: 0.9rem; color: #059669; font-weight: 700;">🚗 Free Pick & Drop Service Included</div>
                            </div>
                        </div>
                    `;
                    
                    serviceItemsText += `${itemNumber}. ${item.carName} (${item.carBrand}) - ${item.serviceType}\n   Service Cost: ₹${item.serviceCost.toLocaleString()}, Paid: ₹${item.bookingAmount}, Balance: ₹${item.balanceAmount.toLocaleString()}\n\n`;
                });
                
                // Create customer receipt HTML email
                const customerEmailHTML = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>Car Service Booking Receipt - Payment Successful</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 20px; background-color: #f8f9fa; }
                            .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 8px 32px rgba(0,0,0,0.12); }
                            .header { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; padding: 40px 30px; text-align: center; }
                            .header h1 { margin: 0; font-size: 2.2rem; font-weight: 800; }
                            .header p { margin: 15px 0 0 0; font-size: 1.2rem; opacity: 0.95; }
                            .receipt-number { background: rgba(255,255,255,0.2); padding: 12px 20px; border-radius: 25px; display: inline-block; margin-top: 20px; font-weight: 700; }
                            .content { padding: 40px 30px; }
                            .section { margin-bottom: 35px; }
                            .section-title { font-size: 1.5rem; font-weight: 800; color: #1e3a8a; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 3px solid #e5e7eb; display: flex; align-items: center; gap: 10px; }
                            .payment-summary { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 25px; border-radius: 16px; margin: 25px 0; border: 3px solid #3b82f6; }
                            .payment-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 1.1rem; }
                            .payment-row:last-child { margin-bottom: 0; padding-top: 15px; border-top: 3px solid #3b82f6; font-weight: 800; font-size: 1.2rem; }
                            .customer-info { background: #f8f9fa; padding: 25px; border-radius: 12px; border: 2px solid #e5e7eb; }
                            .info-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
                            .info-row:last-child { margin-bottom: 0; }
                            .info-label { font-weight: 600; color: #6b7280; }
                            .info-value { font-weight: 700; color: #1e3a8a; }
                            .next-steps { background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); padding: 25px; border-radius: 16px; margin: 25px 0; border: 3px solid #10b981; }
                            .step-list { list-style: none; padding: 0; margin: 15px 0 0 0; }
                            .step-item { display: flex; align-items: flex-start; margin-bottom: 15px; padding: 15px; background: white; border-radius: 10px; border: 2px solid rgba(16, 185, 129, 0.2); }
                            .step-item:last-child { margin-bottom: 0; }
                            .step-icon { font-size: 1.5rem; margin-right: 15px; margin-top: 2px; }
                            .step-text { font-size: 1rem; font-weight: 600; color: #374151; }
                            .contact-section { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 25px; border-radius: 16px; margin: 25px 0; border: 3px solid #f59e0b; text-align: center; }
                            .contact-title { font-size: 1.3rem; font-weight: 800; color: #92400e; margin-bottom: 15px; }
                            .contact-details { font-size: 1.1rem; font-weight: 600; color: #92400e; }
                            .footer { background: #1f2937; color: white; padding: 30px; text-align: center; }
                            .footer h3 { margin: 0 0 15px 0; font-size: 1.4rem; color: #60a5fa; }
                            .footer p { margin: 8px 0; opacity: 0.9; }
                            .important-note { background: #fef2f2; border: 2px solid #fca5a5; border-radius: 12px; padding: 20px; margin: 20px 0; }
                            .important-note-title { font-weight: 800; color: #dc2626; margin-bottom: 10px; font-size: 1.1rem; }
                        </style>
                    </head>
                    <body>
                        <div class="container">
                            <div class="header">
                                <h1>🎉 Payment Successful!</h1>
                                <p>Your car service has been booked successfully</p>
                                <div class="receipt-number">
                                    Receipt #${bookingData.payment_id}
                                </div>
                                <p style="font-size: 1rem; margin-top: 15px;">
                                    Booking Date: ${new Date(bookingData.booking_date).toLocaleString('en-IN')}
                                </p>
                            </div>
                            
                            <div class="content">
                                <!-- Payment Summary -->
                                <div class="section">
                                    <h2 class="section-title">
                                        <span>💳</span>
                                        <span>Payment Summary</span>
                                    </h2>
                                    <div class="payment-summary">
                                        <div style="text-align: center; margin-bottom: 20px;">
                                            <strong style="font-size: 1.3rem; color: #1e3a8a;">Payment ID: ${bookingData.payment_id}</strong>
                                        </div>
                                        <div class="payment-row">
                                            <span>Total Service Cost:</span>
                                            <span>₹${bookingData.service_cost.toLocaleString()}</span>
                                        </div>
                                        <div class="payment-row">
                                            <span style="color: #059669;">Amount Paid (Booking):</span>
                                            <span style="color: #059669; font-weight: 800;">₹${bookingData.booking_amount.toLocaleString()}</span>
                                        </div>
                                        <div class="payment-row">
                                            <span style="color: #dc2626;">Balance Due (After Service):</span>
                                            <span style="color: #dc2626; font-weight: 800;">₹${bookingData.balance_amount.toLocaleString()}</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Services Booked -->
                                <div class="section">
                                    <h2 class="section-title">
                                        <span>🛠️</span>
                                        <span>Your Services</span>
                                    </h2>
                                    ${serviceItemsHTML}
                                </div>

                                <!-- Customer Information -->
                                <div class="section">
                                    <h2 class="section-title">
                                        <span>👤</span>
                                        <span>Booking Details</span>
                                    </h2>
                                    <div class="customer-info">
                                        <div class="info-row">
                                            <span class="info-label">Customer Name:</span>
                                            <span class="info-value">${bookingData.customer_name}</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Mobile Number:</span>
                                            <span class="info-value">${bookingData.mobile}</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Email Address:</span>
                                            <span class="info-value">${bookingData.email}</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Pickup Address:</span>
                                            <span class="info-value">${bookingData.pickup_address}</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Landmark:</span>
                                            <span class="info-value">${bookingData.landmark}</span>
                                        </div>
                                        <div class="info-row">
                                            <span class="info-label">Pincode:</span>
                                            <span class="info-value">${bookingData.pincode}</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- What Happens Next -->
                                <div class="next-steps">
                                    <h2 style="text-align: center; font-size: 1.4rem; font-weight: 800; color: #059669; margin-bottom: 20px;">
                                        📋 What Happens Next?
                                    </h2>
                                    <ul class="step-list">
                                        <li class="step-item">
                                            <div class="step-icon">📞</div>
                                            <div class="step-text">Our team will contact you within 2 hours to schedule pickup time</div>
                                        </li>
                                        <li class="step-item">
                                            <div class="step-icon">🚗</div>
                                            <div class="step-text">Free pickup from your location at scheduled time</div>
                                        </li>
                                        <li class="step-item">
                                            <div class="step-icon">🔧</div>
                                            <div class="step-text">Professional service with genuine parts by expert technicians</div>
                                        </li>
                                        <li class="step-item">
                                            <div class="step-icon">🏠</div>
                                            <div class="step-text">Free delivery back to your location after service completion</div>
                                        </li>
                                        <li class="step-item">
                                            <div class="step-icon">💰</div>
                                            <div class="step-text">Pay remaining balance (₹${bookingData.balance_amount.toLocaleString()}) after service completion and inspection</div>
                                        </li>
                                    </ul>
                                </div>

                                <!-- Important Notes -->
                                <div class="important-note">
                                    <div class="important-note-title">⚠️ Important Notes:</div>
                                    <ul style="margin: 10px 0 0 0; padding-left: 20px;">
                                        <li><strong>Service Warranty:</strong> All services come with warranty as per industry standards</li>
                                        <li><strong>Genuine Parts:</strong> We use only genuine and high-quality parts</li>
                                        <li><strong>Expert Technicians:</strong> Certified and experienced mechanics</li>
                                        <li><strong>Additional Work:</strong> Any extra mechanic work will be discussed and charged separately</li>
                                        <li><strong>Service Area:</strong> Available only in Sonipat City & nearby areas</li>
                                    </ul>
                                </div>

                                <!-- Contact Section -->
                                <div class="contact-section">
                                    <div class="contact-title">📞 Need Help? Contact Us</div>
                                    <div class="contact-details">
                                        <strong>Phone:</strong> 8816014071<br>
                                        <strong>Email:</strong> care@sonipathomeservice.com<br>
                                        <strong>Address:</strong> 128/1, Sainipura, Sonipat
                                    </div>
                                </div>
                            </div>

                            <div class="footer">
                                <h3>🚗 Sonipat Car Service</h3>
                                <p><strong>Free Pick & Drop Home Delivery</strong></p>
                                <p>📞 8816014071 | ✉️ care@sonipathomeservice.com</p>
                                <p>📍 128/1, Sainipura, Sonipat | 🌐 www.sonipathomeservice.com</p>
                                <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.8;">
                                    Thank you for choosing our service! We look forward to serving you.
                                </p>
                            </div>
                        </div>
                    </body>
                    </html>
                `;

                // Create plain text version for customer
                const customerEmailText = `
CAR SERVICE BOOKING RECEIPT - PAYMENT SUCCESSFUL
==============================================

Receipt #${bookingData.payment_id}
Booking Date: ${new Date(bookingData.booking_date).toLocaleString('en-IN')}

PAYMENT SUMMARY:
Payment ID: ${bookingData.payment_id}
Total Service Cost: ₹${bookingData.service_cost.toLocaleString()}
Amount Paid (Booking): ₹${bookingData.booking_amount.toLocaleString()}
Balance Due (After Service): ₹${bookingData.balance_amount.toLocaleString()}

YOUR BOOKING DETAILS:
Name: ${bookingData.customer_name}
Mobile: ${bookingData.mobile}
Email: ${bookingData.email}
Pickup Address: ${bookingData.pickup_address}
Landmark: ${bookingData.landmark}
Pincode: ${bookingData.pincode}

SERVICES BOOKED:
${serviceItemsText}

WHAT HAPPENS NEXT:
1. Our team will contact you within 2 hours to schedule pickup time
2. Free pickup from your location at scheduled time
3. Professional service with genuine parts by expert technicians
4. Free delivery back to your location after service completion
5. Pay remaining balance (₹${bookingData.balance_amount.toLocaleString()}) after service completion

IMPORTANT NOTES:
- Service Warranty: All services come with warranty as per industry standards
- Genuine Parts: We use only genuine and high-quality parts
- Expert Technicians: Certified and experienced mechanics
- Additional Work: Any extra mechanic work will be discussed and charged separately
- Service Area: Available only in Sonipat City & nearby areas

NEED HELP? CONTACT US:
Phone: 8816014071
Email: care@sonipathomeservice.com
Address: 128/1, Sainipura, Sonipat
Website: www.sonipathomeservice.com

Thank you for choosing Sonipat Car Service!
We look forward to serving you.

---
This is an automated receipt. Please save this email for your records.
                `;

                // Send customer receipt email using EmailJS or similar service
                const customerEmailParams = {
                    to_email: bookingData.email,
                    to_name: bookingData.customer_name,
                    subject: `🎉 Car Service Booking Receipt - Payment Successful - ${bookingData.payment_id}`,
                    html_content: customerEmailHTML,
                    text_content: customerEmailText,
                    receipt_number: bookingData.payment_id,
                    customer_name: bookingData.customer_name,
                    total_amount: `₹${bookingData.service_cost.toLocaleString()}`,
                    paid_amount: `₹${bookingData.booking_amount.toLocaleString()}`,
                    balance_amount: `₹${bookingData.balance_amount.toLocaleString()}`,
                    booking_date: new Date(bookingData.booking_date).toLocaleString('en-IN'),
                    pickup_address: `${bookingData.pickup_address}, ${bookingData.landmark}`,
                    mobile_number: bookingData.mobile
                };

                // Using EmailJS service (you can replace with your preferred email service)
                const customerEmailResponse = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        service_id: 'service_sonipat_customer', // Replace with your EmailJS service ID for customer emails
                        template_id: 'template_customer_receipt', // Replace with your EmailJS template ID for customer receipts
                        user_id: 'your_emailjs_user_id', // Replace with your EmailJS user ID
                        template_params: customerEmailParams
                    })
                });

                if (customerEmailResponse.ok) {
                    console.log(`✅ Receipt email sent successfully to customer: ${bookingData.email}`);
                } else {
                    console.log('⚠️ Customer email service not configured, but booking completed successfully');
                }

            } catch (error) {
                console.error('❌ Error sending customer receipt email:', error);
                // Don't show error to user as this is additional service
                console.log('⚠️ Customer receipt email failed, but booking is still successful');
            }
        }

        // Send email notification to business
        async function sendEmailNotification(bookingData) {
            try {
                console.log('📧 Sending email notification to care@sonipathomeservice.com...');
                
                // Create detailed service items for email
                let serviceItemsHTML = '';
                let serviceItemsText = '';
                
                cartItems.forEach((item, index) => {
                    const itemNumber = index + 1;
                    serviceItemsHTML += `
                        <tr style="border-bottom: 1px solid #e5e7eb;">
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb;">${itemNumber}</td>
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb; font-weight: 600;">${item.carName}</td>
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb;">${item.carBrand}</td>
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb;">
                                <span style="background: ${item.serviceType === 'Half Service' ? '#059669' : '#3b82f6'}; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 600;">
                                    ${item.serviceType}
                                </span>
                            </td>
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb; text-align: right; font-weight: 600;">₹${item.serviceCost.toLocaleString()}</td>
                            <td style="padding: 12px; border-right: 1px solid #e5e7eb; text-align: right; color: #059669; font-weight: 600;">₹${item.bookingAmount}</td>
                            <td style="padding: 12px; text-align: right; color: #dc2626; font-weight: 600;">₹${item.balanceAmount.toLocaleString()}</td>
                        </tr>
                    `;
                    
                    serviceItemsText += `${itemNumber}. ${item.carName} (${item.carBrand}) - ${item.serviceType}\n   Service Cost: ₹${item.serviceCost.toLocaleString()}, Booking: ₹${item.bookingAmount}, Balance: ₹${item.balanceAmount.toLocaleString()}\n\n`;
                });
                
                // Create HTML email content
                const emailHTML = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>New Car Service Booking - Payment Successful</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 20px; background-color: #f8f9fa; }
                            .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
                            .header { background: linear-gradient(135deg, #059669 0%, #047857 100%); color: white; padding: 30px; text-align: center; }
                            .header h1 { margin: 0; font-size: 2rem; font-weight: 800; }
                            .header p { margin: 10px 0 0 0; font-size: 1.1rem; opacity: 0.9; }
                            .content { padding: 30px; }
                            .section { margin-bottom: 30px; }
                            .section-title { font-size: 1.4rem; font-weight: 700; color: #1e3a8a; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #e5e7eb; }
                            .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 20px; }
                            .info-item { background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #059669; }
                            .info-label { font-size: 0.9rem; color: #6b7280; font-weight: 600; margin-bottom: 5px; }
                            .info-value { font-size: 1.1rem; font-weight: 700; color: #1e3a8a; }
                            .payment-summary { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 12px; margin: 20px 0; border: 2px solid #3b82f6; }
                            .payment-row { display: flex; justify-content: space-between; margin-bottom: 10px; }
                            .payment-row:last-child { margin-bottom: 0; padding-top: 10px; border-top: 2px solid #3b82f6; font-weight: 700; font-size: 1.1rem; }
                            .services-table { width: 100%; border-collapse: collapse; margin-top: 15px; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
                            .services-table th { background: #f3f4f6; padding: 12px; text-align: left; font-weight: 700; color: #374151; border-bottom: 2px solid #e5e7eb; }
                            .services-table td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
                            .alert-box { background: #fef3c7; border: 2px solid #f59e0b; border-radius: 8px; padding: 15px; margin: 20px 0; }
                            .alert-title { font-weight: 700; color: #92400e; margin-bottom: 8px; }
                            .footer { background: #f8f9fa; padding: 20px; text-align: center; border-top: 2px solid #e5e7eb; }
                            .footer p { margin: 5px 0; color: #6b7280; }
                            .contact-info { background: #ecfdf5; padding: 15px; border-radius: 8px; margin-top: 15px; border: 2px solid #10b981; }
                        </style>
                    </head>
                    <body>
                        <div class="container">
                            <div class="header">
                                <h1>🎉 New Car Service Booking</h1>
                                <p>Payment Successful - Booking Confirmed</p>
                                <p style="font-size: 0.9rem; margin-top: 15px;">Booking Date: ${new Date(bookingData.booking_date).toLocaleString('en-IN')}</p>
                            </div>
                            
                            <div class="content">
                                <!-- Payment Details Section -->
                                <div class="section">
                                    <h2 class="section-title">💳 Payment Details</h2>
                                    <div class="payment-summary">
                                        <div style="text-align: center; margin-bottom: 15px;">
                                            <strong style="font-size: 1.2rem; color: #1e3a8a;">Payment ID: ${bookingData.payment_id}</strong>
                                        </div>
                                        <div class="payment-row">
                                            <span>Total Service Cost:</span>
                                            <span>₹${bookingData.service_cost.toLocaleString()}</span>
                                        </div>
                                        <div class="payment-row">
                                            <span style="color: #059669;">Amount Paid (Booking):</span>
                                            <span style="color: #059669; font-weight: 700;">₹${bookingData.booking_amount.toLocaleString()}</span>
                                        </div>
                                        <div class="payment-row">
                                            <span style="color: #dc2626;">Balance Due (After Service):</span>
                                            <span style="color: #dc2626; font-weight: 700;">₹${bookingData.balance_amount.toLocaleString()}</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Customer Details Section -->
                                <div class="section">
                                    <h2 class="section-title">👤 Customer Information</h2>
                                    <div class="info-grid">
                                        <div class="info-item">
                                            <div class="info-label">Customer Name</div>
                                            <div class="info-value">${bookingData.customer_name}</div>
                                        </div>
                                        <div class="info-item">
                                            <div class="info-label">Mobile Number</div>
                                            <div class="info-value">${bookingData.mobile}</div>
                                        </div>
                                        <div class="info-item">
                                            <div class="info-label">Email Address</div>
                                            <div class="info-value">${bookingData.email}</div>
                                        </div>
                                        <div class="info-item">
                                            <div class="info-label">Pincode</div>
                                            <div class="info-value">${bookingData.pincode}</div>
                                        </div>
                                    </div>
                                    <div class="info-item" style="grid-column: 1 / -1;">
                                        <div class="info-label">Pickup Address</div>
                                        <div class="info-value">${bookingData.pickup_address}</div>
                                    </div>
                                    <div class="info-item" style="grid-column: 1 / -1; margin-top: 15px;">
                                        <div class="info-label">Landmark</div>
                                        <div class="info-value">${bookingData.landmark}</div>
                                    </div>
                                </div>

                                <!-- Services Booked Section -->
                                <div class="section">
                                    <h2 class="section-title">🛠️ Services Booked</h2>
                                    <table class="services-table">
                                        <thead>
                                            <tr>
                                                <th>#</th>
                                                <th>Car Model</th>
                                                <th>Brand</th>
                                                <th>Service Type</th>
                                                <th>Service Cost</th>
                                                <th>Booking Amount</th>
                                                <th>Balance Due</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${serviceItemsHTML}
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Important Notes -->
                                <div class="alert-box">
                                    <div class="alert-title">⚠️ Important Action Required</div>
                                    <ul style="margin: 0; padding-left: 20px;">
                                        <li><strong>Contact customer within 2 hours</strong> to schedule pickup time</li>
                                        <li><strong>Arrange free pickup</strong> from customer's location</li>
                                        <li><strong>Complete service</strong> with genuine parts and expert technicians</li>
                                        <li><strong>Collect balance payment</strong> (₹${bookingData.balance_amount.toLocaleString()}) after service completion</li>
                                        <li><strong>Provide free delivery</strong> back to customer's location</li>
                                    </ul>
                                </div>

                                <!-- Contact Information -->
                                <div class="contact-info">
                                    <div style="text-align: center; font-weight: 700; color: #059669; margin-bottom: 10px;">
                                        📞 Customer Contact Details
                                    </div>
                                    <div style="text-align: center;">
                                        <strong>Phone:</strong> ${bookingData.mobile} | 
                                        <strong>Email:</strong> ${bookingData.email}
                                    </div>
                                </div>
                            </div>

                            <div class="footer">
                                <p><strong>Sonipat Car Service - Free Pick & Drop Home Delivery</strong></p>
                                <p>📞 8816014071 | ✉️ care@sonipathomeservice.com</p>
                                <p>📍 128/1, Sainipura, Sonipat | 🌐 www.sonipathomeservice.com</p>
                                <p style="margin-top: 15px; font-size: 0.9rem;">
                                    This is an automated notification. Please contact the customer promptly to schedule service.
                                </p>
                            </div>
                        </div>
                    </body>
                    </html>
                `;

                // Create plain text version for fallback
                const emailText = `
NEW CAR SERVICE BOOKING - PAYMENT SUCCESSFUL
===========================================

Booking Date: ${new Date(bookingData.booking_date).toLocaleString('en-IN')}

PAYMENT DETAILS:
Payment ID: ${bookingData.payment_id}
Total Service Cost: ₹${bookingData.service_cost.toLocaleString()}
Amount Paid (Booking): ₹${bookingData.booking_amount.toLocaleString()}
Balance Due (After Service): ₹${bookingData.balance_amount.toLocaleString()}

CUSTOMER INFORMATION:
Name: ${bookingData.customer_name}
Mobile: ${bookingData.mobile}
Email: ${bookingData.email}
Pickup Address: ${bookingData.pickup_address}
Landmark: ${bookingData.landmark}
Pincode: ${bookingData.pincode}

SERVICES BOOKED:
${serviceItemsText}

IMPORTANT ACTION REQUIRED:
- Contact customer within 2 hours to schedule pickup time
- Arrange free pickup from customer's location
- Complete service with genuine parts and expert technicians
- Collect balance payment (₹${bookingData.balance_amount.toLocaleString()}) after service completion
- Provide free delivery back to customer's location

Customer Contact: ${bookingData.mobile} | ${bookingData.email}

---
Sonipat Car Service - Free Pick & Drop Home Delivery
📞 8816014071 | ✉️ care@sonipathomeservice.com
📍 128/1, Sainipura, Sonipat | 🌐 www.sonipathomeservice.com
                `;

                // Send email using EmailJS
                const emailParams = {
                    to_email: 'care@sonipathomeservice.com',
                    subject: `🚗 New Car Service Booking - Payment Successful - ${bookingData.customer_name}`,
                    html_content: emailHTML,
                    text_content: emailText,
                    customer_name: bookingData.customer_name,
                    customer_mobile: bookingData.mobile,
                    customer_email: bookingData.email,
                    payment_id: bookingData.payment_id,
                    total_amount: `₹${bookingData.service_cost.toLocaleString()}`,
                    booking_amount: `₹${bookingData.booking_amount.toLocaleString()}`,
                    balance_amount: `₹${bookingData.balance_amount.toLocaleString()}`,
                    pickup_address: `${bookingData.pickup_address}, ${bookingData.landmark}`,
                    service_details: bookingData.service_type,
                    booking_date: new Date(bookingData.booking_date).toLocaleString('en-IN')
                };

                // Using a simple email service API (you can replace with your preferred service)
                const emailResponse = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        service_id: 'service_sonipat_car', // Replace with your EmailJS service ID
                        template_id: 'template_booking_notification', // Replace with your EmailJS template ID
                        user_id: 'your_emailjs_user_id', // Replace with your EmailJS user ID
                        template_params: emailParams
                    })
                });

                if (emailResponse.ok) {
                    console.log('✅ Email notification sent successfully to care@sonipathomeservice.com');
                } else {
                    console.log('⚠️ Email service not configured, but booking data saved successfully');
                }

            } catch (error) {
                console.error('❌ Error sending email notification:', error);
                // Don't show error to user as this is additional notification
                console.log('⚠️ Email notification failed, but booking is still successful');
            }
        }

        // Validate Form Data
        function validateFormData(formData) {
            const errors = [];
            
            if (!formData.customerName || formData.customerName.length < 2) {
                errors.push('Please enter a valid name (at least 2 characters)');
            }
            
            if (!/^[0-9]{10}$/.test(formData.mobile)) {
                errors.push('Please enter a valid 10-digit mobile number');
            }
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
                errors.push('Please enter a valid email address');
            }
            
            if (!formData.pickupAddress || formData.pickupAddress.length < 10) {
                errors.push('Please enter complete pickup address');
            }
            
            if (!formData.landmark || formData.landmark.length < 3) {
                errors.push('Please enter a landmark (at least 3 characters)');
            }
            
            if (!/^[0-9]{6}$/.test(formData.pincode)) {
                errors.push('Please enter a valid 6-digit pincode');
            }
            
            if (cartItems.length === 0) {
                errors.push('Please add services to cart before booking');
            }
            
            return errors;
        }

        // Razorpay Payment Integration
        function initializeRazorpayPayment(bookingData, totalAmount) {
            const options = {
                key: 'rzp_live_RLjzp7VlXERwiG', // Live Production Key
                amount: totalAmount * 100, // Amount in paise (multiply by 100)
                currency: 'INR',
                name: 'Sonipat Car Service',
                description: `Car Service Booking - ${bookingData.service_type}`,
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMzIiIGZpbGw9IiMwNTk2NjkiLz4KPHN2ZyB4PSIxNiIgeT0iMTYiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xOC45MiAxNi4wNEMxOC45NiAxNS42NyAxOSAxNS4zNCAxOSAxNUMxOSAxNC42NiAxOC45NiAxNC4zMyAxOC45MiAxNEgxNi45MkMxNi45NiAxNC4zMyAxNyAxNC42NiAxNyAxNUMxNyAxNS4zNCAxNi45NiAxNS42NyAxNi45MiAxNkg5LjA4QzkuMDQgMTUuNjcgOSAxNS4zNCA5IDE1QzkgMTQuNjYgOS4wNCAxNC4zMyA5LjA4IDE0SDcuMDhDNy4wNCAxNC4zMyA3IDE0LjY2IDcgMTVDNyAxNS4zNCA3LjA0IDE1LjY3IDcuMDggMTZIMTguOTJaTTIwIDhIMTlWNkMxOSA1LjQ1IDE4LjU1IDUgMTggNUg2QzUuNDUgNSA1IDUuNDUgNSA2VjhINFYxMEg1VjE4QzUgMTguNTUgNS40NSAxOSA2IDE5SDE4QzE4LjU1IDE5IDE5IDE4LjU1IDE5IDE4VjEwSDIwVjhaTTE3IDhIN1Y3SDE3VjhaIi8+Cjwvc3ZnPgo8L3N2Zz4K',
                order_id: '', // Will be generated by backend in production
                handler: function (response) {
                    handlePaymentSuccess(response, bookingData);
                },
                prefill: {
                    name: bookingData.customer_name,
                    email: bookingData.email,
                    contact: bookingData.mobile
                },
                notes: {
                    booking_id: bookingData.id,
                    service_type: bookingData.service_type,
                    pickup_address: bookingData.pickup_address
                },
                theme: {
                    color: '#059669'
                },
                modal: {
                    ondismiss: function() {
                        hideLoading();
                        showMessage('error', '💳 Payment cancelled. You can try again or contact us at 8816014071.');
                    }
                }
            };

            const rzp = new Razorpay(options);
            rzp.open();
        }

        // Handle Payment Success
        async function handlePaymentSuccess(paymentResponse, bookingData) {
            try {
                // Update booking data with payment information
                bookingData.payment_status = 'SUCCESS';
                bookingData.payment_id = paymentResponse.razorpay_payment_id;
                
                // Save to Data SDK
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(bookingData);
                    if (result.isOk) {
                        console.log('✅ Booking with payment saved to Canva Sheet successfully');
                    } else {
                        console.error('❌ Data SDK save error:', result.error);
                    }
                }
                
                // Send data to Google Apps Script
                await sendToGoogleSheet(bookingData);
                
                // Send email notification to business
                await sendEmailNotification(bookingData);
                
                // Send receipt email to customer
                await sendCustomerReceiptEmail(bookingData);
                
                hideLoading();
                
                // Close booking form
                closeBookingForm();
                
                // Show payment confirmation modal
                showPaymentConfirmation(paymentResponse, bookingData);
                
                // Clear cart and selections
                cartItems = [];
                updateCartCount();
                selectedService = null;
                selectedCar = null;
                
            } catch (error) {
                hideLoading();
                console.error('❌ Post-payment processing error:', error);
                showMessage('error', `
                    <div style="text-align: center;">
                        <div style="font-size: 1.2rem; margin-bottom: 10px;">⚠️ Payment Successful but Booking Error</div>
                        <div style="background: rgba(251, 191, 36, 0.1); padding: 15px; border-radius: 12px; margin-top: 10px; border: 2px solid rgba(251, 191, 36, 0.3);">
                            <strong>💳 Payment ID: ${paymentResponse.razorpay_payment_id}</strong><br>
                            <strong>Amount: ₹${bookingData.service_cost.toLocaleString()}</strong><br><br>
                            Your payment was successful but there was an issue saving your booking.<br>
                            Please contact customer care at <strong>8816014071</strong> with your payment ID to complete your booking.
                        </div>
                    </div>
                `);
            }
        }

        // Show Payment Confirmation Modal
        function showPaymentConfirmation(paymentResponse, bookingData) {
            // Populate payment details
            document.getElementById('confirmation-payment-id').textContent = paymentResponse.razorpay_payment_id;
            document.getElementById('confirmation-paid-amount').textContent = `₹${bookingData.booking_amount.toLocaleString()}`;
            document.getElementById('confirmation-balance-amount').textContent = `₹${bookingData.balance_amount.toLocaleString()}`;
            document.getElementById('confirmation-total-amount').textContent = `₹${bookingData.service_cost.toLocaleString()}`;
            
            // Populate customer details
            document.getElementById('confirmation-customer-name').textContent = bookingData.customer_name;
            document.getElementById('confirmation-mobile').textContent = bookingData.mobile;
            document.getElementById('confirmation-email').textContent = bookingData.email;
            document.getElementById('confirmation-address').textContent = bookingData.pickup_address;
            document.getElementById('confirmation-landmark').textContent = bookingData.landmark;
            document.getElementById('confirmation-pincode').textContent = bookingData.pincode;
            
            // Populate ordered items
            const orderedItemsContainer = document.getElementById('confirmation-ordered-items');
            let itemsHTML = '';
            
            // Get cart items from the booking data
            const serviceItems = bookingData.service_type.split(' | ');
            const carModels = bookingData.car_model.split(', ');
            const carBrands = bookingData.car_brand.split(', ');
            
            // Parse service details to recreate cart items for display
            let displayItems = [];
            if (cartItems.length > 0) {
                displayItems = [...cartItems];
            } else {
                // Fallback: create display items from booking data
                serviceItems.forEach((serviceDetail, index) => {
                    const carName = carModels[index] || carModels[0];
                    const carBrand = carBrands[index] || carBrands[0];
                    
                    // Extract service type and cost from service detail
                    const isHalfService = serviceDetail.includes('Half Service');
                    const serviceCostMatch = serviceDetail.match(/₹([\d,]+)/);
                    const serviceCost = serviceCostMatch ? parseInt(serviceCostMatch[1].replace(/,/g, '')) : 0;
                    
                    displayItems.push({
                        carName: carName,
                        carBrand: carBrand,
                        serviceType: isHalfService ? 'Half Service' : 'Full Service',
                        serviceCost: serviceCost,
                        bookingAmount: serviceCost < 99 ? serviceCost : 99,
                        balanceAmount: serviceCost < 99 ? 0 : serviceCost - 99
                    });
                });
            }
            
            displayItems.forEach((item, index) => {
                // Create service features list based on service type
                let serviceFeatures = '';
                if (item.serviceType === 'Half Service') {
                    serviceFeatures = `
                        <div style="margin-top: 10px; padding: 8px; background: rgba(5, 150, 105, 0.1); border-radius: 6px; border: 1px solid rgba(5, 150, 105, 0.2);">
                            <div style="font-size: 0.8rem; font-weight: 700; color: #059669; margin-bottom: 4px;">🔧 Half Service Includes:</div>
                            <div style="font-size: 0.75rem; color: #374151; line-height: 1.3;">
                                • Engine Oil Change • Air Filter • Oil Filter • Brake Oil Check • Wiper Fluid • Battery Check • Spark Plug Clean
                            </div>
                        </div>
                    `;
                } else if (item.serviceType === 'Full Service') {
                    serviceFeatures = `
                        <div style="margin-top: 10px; padding: 8px; background: rgba(59, 130, 246, 0.1); border-radius: 6px; border: 1px solid rgba(59, 130, 246, 0.2);">
                            <div style="font-size: 0.8rem; font-weight: 700; color: #3b82f6; margin-bottom: 4px;">🛠️ Full Service Includes:</div>
                            <div style="font-size: 0.75rem; color: #374151; line-height: 1.3;">
                                • All Half Service Items • Gear Oil Change • Coolant Change • Brake Grease • Engine Flush • Car Wash • AC Filter
                            </div>
                        </div>
                    `;
                }
                
                itemsHTML += `
                    <div class="ordered-item">
                        <div class="item-header">
                            <div class="item-details">
                                <div class="item-name">${item.carName}</div>
                                <div class="item-brand">Brand: ${item.carBrand}</div>
                                <div class="item-service-type">${item.serviceType}</div>
                            </div>
                        </div>
                        
                        <div class="item-pricing">
                            <div class="item-pricing-row">
                                <span>Service Cost:</span>
                                <span>₹${item.serviceCost.toLocaleString()}</span>
                            </div>
                            <div class="item-pricing-row">
                                <span>Booking Amount (Paid):</span>
                                <span style="color: #059669; font-weight: 700;">₹${item.bookingAmount}</span>
                            </div>
                            <div class="item-pricing-row">
                                <span>Balance (After Service):</span>
                                <span style="color: #dc2626; font-weight: 700;">₹${item.balanceAmount.toLocaleString()}</span>
                            </div>
                        </div>
                        
                        ${serviceFeatures}
                        
                        <div style="margin-top: 10px; padding: 6px; background: rgba(34, 197, 94, 0.1); border-radius: 6px; text-align: center;">
                            <div style="font-size: 0.8rem; color: #059669; font-weight: 700;">🚗 Free Pick & Drop Included</div>
                        </div>
                    </div>
                `;
            });
            
            orderedItemsContainer.innerHTML = itemsHTML;
            
            // Show the modal
            document.getElementById('payment-confirmation-modal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Close Payment Confirmation Modal
        function closePaymentConfirmation() {
            document.getElementById('payment-confirmation-modal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Print Confirmation Receipt
        function printConfirmation() {
            // Create a new window for printing
            const printWindow = window.open('', '_blank');
            const confirmationContent = document.querySelector('.payment-confirmation-content').innerHTML;
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Car Service Booking Confirmation</title>
                    <style>
                        body { 
                            font-family: Arial, sans-serif; 
                            margin: 20px; 
                            color: #333; 
                            line-height: 1.4;
                        }
                        .payment-confirmation-header { 
                            text-align: center; 
                            margin-bottom: 30px; 
                            padding-bottom: 20px; 
                            border-bottom: 2px solid #059669; 
                        }
                        .payment-success-icon { 
                            font-size: 3rem; 
                            margin-bottom: 10px; 
                        }
                        .payment-confirmation-title { 
                            font-size: 2rem; 
                            font-weight: bold; 
                            color: #059669; 
                            margin-bottom: 10px; 
                        }
                        .payment-confirmation-subtitle { 
                            font-size: 1.1rem; 
                            color: #047857; 
                            font-weight: 600; 
                        }
                        .payment-details-section, .ordered-items-section, .customer-details-section, .next-steps-section { 
                            margin-bottom: 25px; 
                            padding: 20px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 8px; 
                        }
                        .payment-details-title, .ordered-items-title, .customer-details-title, .next-steps-title { 
                            font-size: 1.3rem; 
                            font-weight: bold; 
                            margin-bottom: 15px; 
                            text-align: center; 
                        }
                        .payment-id-display { 
                            background: #f3f4f6; 
                            padding: 15px; 
                            border-radius: 8px; 
                            margin-bottom: 15px; 
                            text-align: center; 
                        }
                        .payment-id-value { 
                            font-size: 1.1rem; 
                            font-weight: bold; 
                            font-family: monospace; 
                        }
                        .payment-amount-grid { 
                            display: grid; 
                            grid-template-columns: repeat(3, 1fr); 
                            gap: 15px; 
                            margin-bottom: 15px; 
                        }
                        .payment-amount-item { 
                            text-align: center; 
                            padding: 10px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 6px; 
                        }
                        .customer-info-grid { 
                            display: grid; 
                            grid-template-columns: repeat(2, 1fr); 
                            gap: 15px; 
                        }
                        .customer-info-item { 
                            padding: 10px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 6px; 
                        }
                        .ordered-item { 
                            margin-bottom: 15px; 
                            padding: 15px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 6px; 
                        }
                        .next-step-item { 
                            display: flex; 
                            align-items: center; 
                            margin-bottom: 10px; 
                            padding: 10px; 
                            border: 1px solid #e5e7eb; 
                            border-radius: 6px; 
                        }
                        .step-icon { 
                            margin-right: 15px; 
                            font-size: 1.2rem; 
                        }
                        .confirmation-actions { 
                            display: none; 
                        }
                        @media print {
                            body { margin: 0; }
                            .confirmation-actions { display: none !important; }
                        }
                    </style>
                </head>
                <body>
                    ${confirmationContent}
                </body>
                </html>
            `);
            
            printWindow.document.close();
            printWindow.focus();
            
            // Wait for content to load then print
            setTimeout(() => {
                printWindow.print();
                printWindow.close();
            }, 500);
        }

        // Handle Form Submission with Razorpay
        document.getElementById('booking-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Check record limit
            if (currentRecordCount >= 999) {
                showMessage('error', '⚠️ Maximum limit of 999 bookings reached. Please contact customer care at 8816014071.');
                return;
            }
            
            const formData = {
                customerName: document.getElementById('customer-name').value.trim(),
                mobile: document.getElementById('mobile-number').value.trim(),
                email: document.getElementById('email-id').value.trim(),
                pickupAddress: document.getElementById('pickup-address').value.trim(),
                landmark: document.getElementById('landmark').value.trim(),
                pincode: document.getElementById('pincode').value.trim()
            };
            
            // Validate form data
            const validationErrors = validateFormData(formData);
            if (validationErrors.length > 0) {
                showMessage('error', '❌ ' + validationErrors.join('<br>'));
                return;
            }
            
            let totalServiceCost = 0;
            let totalBookingAmount = 0;
            let totalBalanceAmount = 0;
            let serviceDetails = '';
            
            cartItems.forEach((item, index) => {
                totalServiceCost += item.serviceCost;
                totalBookingAmount += item.bookingAmount;
                totalBalanceAmount += item.balanceAmount;
                serviceDetails += `${item.carName} (${item.carBrand}) - ${item.serviceType}: ₹${item.serviceCost}`;
                if (index < cartItems.length - 1) serviceDetails += ' | ';
            });
            
            // Show loading
            showLoading();
            hideMessages();
            
            try {
                // Prepare booking data
                const bookingData = {
                    id: Date.now().toString() + '_' + Math.random().toString(36).substr(2, 9),
                    customer_name: formData.customerName,
                    mobile: formData.mobile,
                    email: formData.email,
                    car_brand: cartItems.map(item => item.carBrand).join(', '),
                    car_model: cartItems.map(item => item.carName).join(', '),
                    service_type: serviceDetails,
                    service_cost: totalServiceCost,
                    booking_amount: totalBookingAmount,
                    balance_amount: totalBalanceAmount,
                    pickup_address: formData.pickupAddress,
                    landmark: formData.landmark,
                    pincode: formData.pincode,
                    booking_date: new Date().toISOString(),
                    payment_status: 'PENDING',
                    payment_id: ''
                };
                
                // Initialize Razorpay payment
                hideLoading();
                
                // Show payment initiation message
                showMessage('success', `
                    <div style="text-align: center;">
                        <div style="font-size: 1.3rem; margin-bottom: 15px;">💳 Initiating Secure Payment</div>
                        <div style="background: rgba(30, 58, 138, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 2px solid rgba(30, 58, 138, 0.3);">
                            <div style="font-weight: 700; color: #1e3a8a; margin-bottom: 8px;">Booking Amount: ₹${totalBookingAmount.toLocaleString()}</div>
                            <div style="color: #374151;">Razorpay secure payment gateway will open shortly...</div>
                            <div style="margin-top: 8px; font-size: 0.9rem; color: #dc2626; font-weight: 600;">
                                Balance ₹${totalBalanceAmount.toLocaleString()} will be collected after service completion
                            </div>
                        </div>
                        <div style="font-size: 0.9rem; color: #6b7280;">
                            ✅ Secure payment powered by Razorpay<br>
                            💳 Accept all major cards, UPI, Net Banking<br>
                            🔒 Your payment information is completely secure
                        </div>
                    </div>
                `);
                
                // Initialize Razorpay payment after a short delay
                setTimeout(() => {
                    showLoading();
                    initializeRazorpayPayment(bookingData, totalBookingAmount);
                }, 2000);
                
            } catch (error) {
                hideLoading();
                console.error('❌ Booking processing error:', error);
                showMessage('error', `
                    <div style="text-align: center;">
                        <div style="font-size: 1.2rem; margin-bottom: 10px;">⚠️ Booking Error</div>
                        <div style="background: rgba(251, 191, 36, 0.1); padding: 15px; border-radius: 12px; margin-top: 10px; border: 2px solid rgba(251, 191, 36, 0.3);">
                            There was an issue processing your booking.<br>
                            Please contact customer care at <strong>8816014071</strong> to complete your booking.
                        </div>
                    </div>
                `);
            }
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            const bookingModal = document.getElementById('booking-modal');
            
            if (event.target === bookingModal) {
                closeBookingForm();
            }
        });

        // Prevent form submission on Enter key in input fields
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && event.target.tagName !== 'BUTTON' && event.target.type !== 'submit') {
                event.preventDefault();
            }
        });

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚗 Initializing Car Service Booking System...');
            initializeApp();
            
            // Load initial brand cars
            showBrand('maruti');
        });

        // Add smooth scrolling for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'996f537ee3421c49',t:'MTc2MTg3MzU4Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
