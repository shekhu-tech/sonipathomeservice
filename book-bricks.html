<!doctype html>
<html lang="hi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/svg+xml" href="logo.png">
  <title>Sonipat Home Service - Brick Supply on Hot Price | Company Wise Bhatta Selection</title>
  <!-- SEO Meta Tags from original file -->
  <meta name="title" content="Brick Supply on Hot Price - Company Wise Bhatta Selection">
  <meta name="description" content="Professional brick supply service in Sonipat. Get top quality bricks (Abal, Doem, etc.) from trusted Bhatta companies (Max, Neelam, Shiv) at hot prices. Advance booking of ‚Çπ99. Call 8816014071.">
  <meta name="keywords" content="best brick dealer in sonipat,brick home delivery , brick home service , bricks service near me ,best price bricks sonipat,best quality bricks sonipat,bhatta delhi road sonipat,bhatta murthal,bhatta near me,bhatta owner sonipat,brick bhatta sonipat,brick per thousand sonipat,brick price sonipat,brick rate sonipat,bricks supplier sonipat,construction bricks sonipat,clay brick sonipat,brick delivery service sonipat">
  <meta name="author" content="Sonipat Home Service" />
  <link rel="canonical" href="https://sonipathomeservice.com/" />
  <meta name="robots" content="index, follow" />
  
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Subtle light background */
            margin-top: 0 !important;
            padding-top: 0 !important;
            overflow-x: hidden;
        }
        
        /* --- Gradient Colors for Header and Primary Buttons (Deep Blue/Indigo theme) --- */
        .gradient-bg {
            background: linear-gradient(135deg, #0f62fe 0%, #1e40af 100%); /* Deep Blue/Indigo */
        }

        /* --- Service Card (Ultra Stylish - Base for all cards) --- */
        .service-card-base {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            transform-style: preserve-3d;
            background: #ffffff;
            box-shadow: 
                0 15px 30px rgba(0,0,0,0.1),
                0 5px 15px rgba(0,0,0,0.05);
            border-radius: 20px; /* More rounded */
            position: relative;
            overflow: hidden;
            margin: 8px;
            cursor: pointer;
        }
        
        .service-card-base::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(15,98,254,0.1) 0%, rgba(30,64,175,0.1) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 1;
        }
        
        .service-card-base:hover::before {
            opacity: 1;
        }
        
        .service-card-base.selected {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(15,98,254,0.3),
                0 15px 30px rgba(0,0,0,0.15),
                inset 0 2px 0 rgba(255,255,255,0.9);
            border-color: #0f62fe; /* Primary color border on selection */
        }

        .service-card-base:not(.selected):hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 
                0 20px 40px rgba(15,98,254,0.2),
                0 10px 20px rgba(0,0,0,0.1);
        }

        /* --- Primary Button (Ultra Stylish) --- */
        .btn-primary {
            background: linear-gradient(135deg, #0f62fe, #1e40af);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(15,98,254,0.4);
        }
        
        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #1e40af, #11368e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(15,98,254,0.6);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* --- Utility classes for Modals and Loading --- */
        .popup-overlay {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        .popup-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .loading {
            opacity: 0.8;
            pointer-events: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1001;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: #0f62fe;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* --- Marquee/Slider Styling (for Footer) --- */
        .services-slider {
            overflow: hidden;
            white-space: nowrap;
            padding: 10px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            background: #374151;
        }

        .services-track {
            display: inline-block;
            animation: marquee 30s linear infinite;
        }

        .services-track a, .services-track span {
            display: inline-block;
            color: #d1d5db; /* light gray */
            padding: 0 15px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: color 0.3s;
        }

        .services-track a:hover {
            color: #60a5fa; /* blue-400 */
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- Specific Brick Styles --- */
        .bhatta-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 249, 255, 0.9) 100%);
            border-color: #0f62fe;
        }
        
        .bhatta-card.selected {
            border-color: #10b981; /* Green selected color */
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.3);
            transform: translateY(-5px);
        }

        .bhatta-logo {
            background: linear-gradient(135deg, #0f62fe 0%, #1e40af 100%);
            box-shadow: 0 4px 15px rgba(15, 98, 254, 0.3);
        }

        .brick-detail-card {
            border: 2px solid rgba(15, 98, 254, 0.2);
            background: rgba(15, 98, 254, 0.05);
        }
        
        .brick-detail-card:hover {
            box-shadow: 0 10px 20px rgba(15, 98, 254, 0.15);
            transform: translateY(-5px);
        }

        /* Styles for Brick SVG */
        .brick-svg-wrapper {
            width: 100%;
            height: 120px;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            background: #e2e8f0; /* Light background for contrast */
            border: 1px solid #cbd5e0;
        }
        
        .brick-price {
            font-size: 1.8rem;
            font-weight: 900;
            color: #dc2626; /* Red for price */
        }

        .cart-item-detail {
            border: 1px solid rgba(15, 98, 254, 0.2);
            background: rgba(15, 98, 254, 0.05);
        }

        /* Checkout Form Styling */
        .form-input {
            border-color: #cbd5e0;
        }
        .form-input:focus {
            border-color: #0f62fe;
            box-shadow: 0 0 0 3px rgba(15, 98, 254, 0.15);
        }
        .text-info {
            color: #1e40af;
        }
        .text-success {
            color: #10b981;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header -->
  <header class="gradient-bg text-white shadow-2xl sticky top-0 z-40"> 
   <div class="container mx-auto px-4 py-4">
    <br>
    <div class="flex justify-between items-center"><a href="index.html" class="flex items-center space-x-3 hover:opacity-90 transition-opacity"><img src="logo.png" alt="Sonipat Home Service Logo" class="h-10 w-10 sm:h-12 sm:w-12 rounded-full shadow-lg border border-white/50">
      <div>
       <h1 id="company-name" class="text-xl sm:text-2xl font-extrabold tracking-tight"> <span class="text-yellow-300">SonipatHomeService</span></h1>
       <p class="text-sm font-semibold opacity-90">Brick Supply on Hot Price</p>
      </div></a>
     <div class="flex items-center space-x-4">
      <!-- Desktop Contact Side Bar -->
      <div class="text-right hidden md:block border-l pl-4 border-white/30">
       <a href="tel:8816014071" class="text-lg font-bold hover:text-yellow-300 transition-colors">üìû 8816014071</a>
       <p id="email-address" class="text-xs opacity-80 mt-1">care@sonipathomeservice.com</p>
      </div>
      <!-- Cart Button with Pop -->
      <button id="cart-btn" class="relative bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-md" onclick="showCartPopup()"> <span class="flex items-center space-x-2">
        <i class="fas fa-shopping-cart w-5 h-5"></i>
        <span class="hidden sm:inline">Cart</span> <span id="cart-count" class="bg-red-500 text-white rounded-full px-2 py-0.5 text-xs hidden font-bold">0</span> </span> </button>
     </div>
    </div>
   </div>
  </header>
  
  <!-- Info Cards Section (Brick Focused) -->
  <section class="py-6 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Info Card 1: Top Quality -->
            <div class="info-card bg-blue-50 border-l-4 border-blue-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-blue-600"><i class="fas fa-award"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Top Quality Products</h4>
                        <p class="text-sm text-gray-600">Company-wise bhatta selection & quality assurance.</p>
                    </div>
                </div>
            </div>
            <!-- Info Card 2: Hot Price -->
            <div class="info-card bg-green-50 border-l-4 border-green-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-green-600"><i class="fas fa-tag"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Hot Price Guarantee</h4>
                        <p class="text-sm text-gray-600">Sabse Sasti Bricks at your doorstep, lowest price match.</p>
                    </div>
                </div>
            </div>
            <!-- Info Card 3: ‚Çπ99 Booking -->
            <div class="info-card bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-yellow-600"><i class="fas fa-handshake"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Low Advance Booking</h4>
                        <p class="text-sm text-gray-600">Book any quantity with only **‚Çπ99** advance payment.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </section>
  
  <!-- Company Selection Section -->
  <section class="py-12 bg-white">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-extrabold text-center mb-10 text-gray-800">1. Choose Your Preferred Bhatta Company</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 px-2"><!-- Company Cards using the Service Card Base -->
     <div class="service-card-base bhatta-card" id="max-company" onclick="selectCompany('max')">
      <div class="p-6 text-center">
       <div class="w-20 h-20 bhatta-logo rounded-full flex items-center justify-center mx-auto mb-4 text-3xl font-bold">
        MAX
       </div>
       <h4 class="text-xl font-extrabold text-gray-800 mb-2">Max Bhatta</h4>
       <p class="text-sm text-gray-600 mb-4">Premium quality bricks with excellent durability and strength.</p>
       <ul class="text-left space-y-1 text-xs text-gray-700">
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Premium Quality Assurance</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Modern Manufacturing</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Fast Delivery Available</li>
       </ul><button class="btn-primary w-full mt-4" id="max-btn">Select Max Bhatta</button>
      </div>
     </div>
     <div class="service-card-base bhatta-card" id="neelam-company" onclick="selectCompany('neelam')">
      <div class="p-6 text-center">
       <div class="w-20 h-20 bhatta-logo rounded-full flex items-center justify-center mx-auto mb-4 text-3xl font-bold">
        NEE
       </div>
       <h4 class="text-xl font-extrabold text-gray-800 mb-2">Neelam Bhatta</h4>
       <p class="text-sm text-gray-600 mb-4">High-grade construction bricks with superior finish and strength.</p>
       <ul class="text-left space-y-1 text-xs text-gray-700">
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Superior Finish Quality</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Construction Grade Bricks</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Premium Brand Value</li>
       </ul><button class="btn-primary w-full mt-4" id="neelam-btn">Select Neelam Bhatta</button>
      </div>
     </div>
     <div class="service-card-base bhatta-card" id="shiv-company" onclick="selectCompany('shiv')">
      <div class="p-6 text-center">
       <div class="w-20 h-20 bhatta-logo rounded-full flex items-center justify-center mx-auto mb-4 text-3xl font-bold">
        SHIV
       </div>
       <h4 class="text-xl font-extrabold text-gray-800 mb-2">Shiv Bhatta</h4>
       <p class="text-sm text-gray-600 mb-4">Reliable quality bricks with excellent value for money.</p>
       <ul class="text-left space-y-1 text-xs text-gray-700">
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Excellent Value for Money</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Wide Product Range</li>
        <li class="flex items-center"><i class="fas fa-check-circle text-green-500 mr-2"></i> Trusted Partnership</li>
       </ul><button class="btn-primary w-full mt-4" id="shiv-btn">Select Shiv Bhatta</button>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Brick Services Section -->
  <section class="py-12 bg-white" id="brick-services" style="display: none;">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-extrabold text-center mb-10 text-gray-800">2. <span id="services-company-title">Available Brick Types</span></h3>
    
    <div class="bg-blue-50 p-4 rounded-xl mb-6 text-sm border-l-4 border-blue-500">
        <i class="fas fa-info-circle text-blue-600 mr-2"></i> Price shown is per **1000 bricks**, including delivery to Sonipat city limits. **Minimum order 1000 bricks.**
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 px-2" id="services-grid"><!-- Services will be populated based on company selection -->
    </div>
   </div>
  </section>
  
  <!-- Footer (Matching AC/Parcel Page) -->
  <footer class="bg-gray-900 text-white pt-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Contact Information</h4>
      <div class="space-y-2 text-sm">
       <p class="flex items-center">üìû <span class="ml-2 font-semibold" id="footer-phone">8816014071</span></p>
       <p class="flex items-center">‚úâÔ∏è <span class="ml-2" id="footer-email">care@sonipathomeservice.com</span></p>
       <p class="flex items-center">üìç <span class="ml-2" id="office-address">128/1, Sainipura, Sonipat</span></p>
      </div>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Quick Links</h4>
      <ul class="space-y-2 text-sm">
       <li><a href="index.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Home Page</a></li>
       <li><a href="policy.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Privacy Policy</a></li>
       <li><a href="terms.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Terms &amp; Conditions</a></li>
       <li><a href="refund.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Refund Policy</a></li>
      </ul>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Follow Us</h4>
      <div class="flex space-x-4 text-2xl">
        <a href="https://facebook.com/sonipathomeservice" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-facebook-f"></i></a>
        <a href="https://instagram.com/sonipathomeservice" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/918816014071" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-whatsapp"></i></a>
      </div>
     </div>
    </div>
    <!-- Marquee Slider for All Services -->
    <div style="background: #374151; padding: 15px 0; margin-top: 30px; border-radius: 10px;">
    <div style="max-width: 1200px; margin: 0 auto;">
     <h4 style="text-align: center; color: #60a5fa; margin-bottom: 10px; font-size: 16px; font-weight: bold;">All Our Services</h4>
     <div class="services-slider">
      <div class="services-track"><a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span> <!-- Duplicate for seamless loop --> <a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span>
      </div>
     </div>
    </div>
   </div>
    <div class="border-t border-gray-800 mt-8 pt-6 pb-2 text-center text-sm">
     <p>¬© 2024 Sonipat Home Service - All rights reserved.</p>
    </div>
   </div>
  </footer>
  
  <!-- Cart Popup (Hidden by default, shown on select) -->
  <div id="cart-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-md w-full popup-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4 border-b pb-3">
       <h3 class="text-2xl font-extrabold text-gray-800">Your Brick Order</h3><button id="close-cart" class="text-gray-500 hover:text-red-600 transition-colors p-1 rounded-full bg-gray-100" onclick="hideCartPopup()">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg></button>
      </div>
      <div id="cart-items-display" class="space-y-3 mb-4 max-h-60 overflow-y-auto">
       <div class="text-center text-gray-500 py-6">
        <i class="fas fa-box-open mb-2"></i><br>
        No bricks selected.
       </div>
      </div>
      <div class="border-t pt-4">
       <div class="space-y-2 mb-4">
        <div class="flex justify-between items-center"><span class="text-gray-600 font-semibold">Total Order Value:</span> <span class="font-extrabold text-lg">‚Çπ<span id="cart-total">0</span></span>
        </div>
        <div class="flex justify-between items-center text-green-600"><span class="font-semibold">Advance Paid Now:</span> <span class="font-extrabold">‚Çπ<span id="cart-advance-pay">99</span></span>
        </div>
        <div class="flex justify-between items-center text-red-600"><span class="font-semibold">Remaining (Pay on Delivery):</span> <span class="font-extrabold">‚Çπ<span id="cart-remaining-balance">0</span></span>
        </div>
        <div class="border-t pt-3 flex justify-between items-center mt-2"><span class="font-extrabold text-xl text-gray-900">Pay Now:</span> <span class="font-extrabold text-xl text-red-600">‚Çπ<span id="cart-pay-now-btn">99</span></span>
        </div>
       </div><button id="proceed-checkout" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-lg transform hover:scale-[1.01] transition-transform disabled:opacity-50" disabled onclick="openCheckoutForm()"> <span id="cart-button-text">Book Order - Pay ‚Çπ99</span> </button>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <!-- Checkout Modal (For Customer Details) -->
  <div id="checkout-modal" class="modal">
   <div class="modal-content">
    <h2 class="text-2xl font-extrabold text-gray-800 mb-6 text-center">3. Enter Delivery Details</h2>
    <div class="success-message" id="success-message" style="display: none;"></div>
    <div class="error-message" id="error-message" style="display: none;"></div>
    <div id="loading" class="loading hidden">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
        <p class="mt-2">Processing your order...</p>
    </div>
    
    <div class="bg-blue-50 p-4 rounded-xl mb-4 text-sm border-l-4 border-blue-500">
        <h4 class="font-bold text-base text-blue-800 mb-1">Selected Order:</h4>
        <p id="selected-quantity-display" class="text-info"></p>
    </div>

    <form id="checkout-form">
     <div class="form-group"><label class="form-label" for="customer-name">Customer Name *</label> <input type="text" id="customer-name" class="form-input" required placeholder="Enter your full name">
     </div>
     <div class="form-group"><label class="form-label" for="mobile-number">Mobile Number *</label> <input type="tel" id="mobile-number" class="form-input" pattern="[0-9]{10}" required placeholder="Enter 10-digit mobile number">
     </div>
     <div class="form-group"><label class="form-label" for="email-id">Email ID *</label> <input type="email" id="email-id" class="form-input" required placeholder="Enter your email address">
     </div>
     <div class="form-group"><label class="form-label" for="delivery-address">Delivery Address *</label> <input type="text" id="delivery-address" class="form-input" required placeholder="Enter complete delivery address">
     </div>
     <div class="form-group"><label class="form-label" for="landmark">Landmark</label> <input type="text" id="landmark" class="form-input" placeholder="Enter nearby landmark (optional)">
     </div>
     <div class="form-group"><label class="form-label" for="pincode">Pincode *</label> <input type="text" id="pincode" class="form-input" pattern="[0-9]{6}" required placeholder="Enter 6-digit pincode">
     </div>
     
     <div class="bg-red-50 p-3 rounded-lg mt-4 border-l-4 border-red-500">
        <p class="text-sm font-bold text-red-800">Advance Payment: ‚Çπ<span id="pay-amount">99</span></p>
        <p class="text-xs text-gray-700">Remaining Balance will be paid to the driver on delivery.</p>
     </div>
     
     <div class="form-buttons">
        <button type="button" class="btn-secondary" onclick="closeCheckoutForm()">Cancel</button> 
        <button type="submit" class="btn-primary" id="pay-now-btn">Pay Now ‚Çπ<span id="pay-amount-btn">99</span></button>
     </div>
    </form>
   </div>
  </div>

  <script>
        let cart = [];
        let currentRecordCount = 0;
        let selectedBrick = null;
        let selectedCompany = null;
        
        const ADVANCE_PAYMENT = 99; // Fixed advance payment amount
        
        const defaultConfig = {
            company_name: "Sonipat Home Service",
            customer_care: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };

        // Company-wise brick pricing data
        const companyBricks = {
            max: {
                name: "Max Bhatta",
                bricks: [
                    { type: 'Abal', name: '‡§Ö‡§¨‡§≤ (Abal) - Premium Quality', price: 7700, description: 'High Grade Construction Brick - Superior strength & durability', info: 'Perfect for main construction work', icon: 'fas fa-gavel' },
                    { type: 'Naram', name: '‡§®‡§∞‡§Æ ‡§Ö‡§¨‡§≤ (Naram Abal) - Soft Grade', price: 7000, description: 'Soft Grade Quality Brick - Easy to work with', info: 'Ideal for interior walls', icon: 'fas fa-hand-paper' },
                    { type: 'Doem', name: '‡§¶‡•ã‡§è‡§Æ (Doem) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Good value for money', info: 'Best for general construction', icon: 'fas fa-layer-group' },
                    { type: 'Chatka', name: '‡§ö‡§ü‡§ï‡§æ (Chatka) - Premium Grade', price: 7000, description: 'Premium Quality Brick - Excellent finish quality', info: 'Perfect for exterior walls', icon: 'fas fa-fire' },
                    { type: 'Pili', name: '‡§™‡§ø‡§≤‡•Ä (Pili) - Economy Grade', price: 4300, description: 'Economy Grade Brick - Budget-friendly option', info: 'Great for temporary structures', icon: 'fas fa-dollar-sign' },
                    { type: 'Tulsa', name: '‡§§‡•Å‡§≤‡§∏‡§æ (Tulsa) - Standard Grade', price: 4500, description: 'Standard Quality Brick - Reliable quality', info: 'Good for basic construction', icon: 'fas fa-truck-loading' },
                    { type: 'Munjhad', name: '‡§Æ‡•Å‡§Ç‡§ù‡§°‡§º (Munjhad) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Consistent quality', info: 'Suitable for all construction', icon: 'fas fa-ruler-combined' },
                    { type: 'Roda', name: '‡§∞‡•ã‡§°‡§º‡§æ (Roda) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Durable construction', info: 'Perfect for foundation work', icon: 'fas fa-cube' }
                ]
            },
            neelam: {
                name: "Neelam Bhatta",
                bricks: [
                    { type: 'Abal', name: '‡§Ö‡§¨‡§≤ (Abal) - Premium Quality', price: 8300, description: 'High Grade Construction Brick - Superior strength & durability', info: 'Perfect for main construction work', icon: 'fas fa-gavel' },
                    { type: 'Naram', name: '‡§®‡§∞‡§Æ ‡§Ö‡§¨‡§≤ (Naram Abal) - Soft Grade', price: 7500, description: 'Soft Grade Quality Brick - Easy to work with', info: 'Ideal for interior walls', icon: 'fas fa-hand-paper' },
                    { type: 'Doem', name: '‡§¶‡•ã‡§è‡§Æ (Doem) - Standard Grade', price: 5700, description: 'Standard Quality Brick - Good value for money', info: 'Best for general construction', icon: 'fas fa-layer-group' },
                    { type: 'Chatka', name: '‡§ö‡§ü‡§ï‡§æ (Chatka) - Premium Grade', price: 7200, description: 'Premium Quality Brick - Excellent finish quality', info: 'Perfect for exterior walls', icon: 'fas fa-fire' },
                    { type: 'Pili', name: '‡§™‡§ø‡§≤‡•Ä (Pili) - Economy Grade', price: 4300, description: 'Economy Grade Brick - Budget-friendly option', info: 'Great for temporary structures', icon: 'fas fa-dollar-sign' },
                    { type: 'Tulsa', name: '‡§§‡•Å‡§≤‡§∏‡§æ (Tulsa) - Standard Grade', price: 4500, description: 'Standard Quality Brick - Reliable quality', info: 'Good for basic construction', icon: 'fas fa-truck-loading' },
                    { type: 'Munjhad', name: '‡§Æ‡•Å‡§Ç‡§ù‡§°‡§º (Munjhad) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Consistent quality', info: 'Suitable for all construction', icon: 'fas fa-ruler-combined' },
                    { type: 'Roda', name: '‡§∞‡•ã‡§°‡§º‡§æ (Roda) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Durable construction', info: 'Perfect for foundation work', icon: 'fas fa-cube' }
                ]
            },
            shiv: {
                name: "Shiv Bhatta",
                bricks: [
                    { type: 'Abal', name: '‡§Ö‡§¨‡§≤ (Abal) - Premium Quality', price: 8000, description: 'High Grade Construction Brick - Superior strength & durability', info: 'Perfect for main construction work', icon: 'fas fa-gavel' },
                    { type: 'Naram', name: '‡§®‡§∞‡§Æ ‡§Ö‡§¨‡§≤ (Naram Abal) - Soft Grade', price: 7300, description: 'Soft Grade Quality Brick - Easy to work with', info: 'Ideal for interior walls', icon: 'fas fa-hand-paper' },
                    { type: 'Doem', name: '‡§¶‡•ã‡§è‡§Æ (Doem) - Standard Grade', price: 5700, description: 'Standard Quality Brick - Good value for money', info: 'Best for general construction', icon: 'fas fa-layer-group' },
                    { type: 'Chatka', name: '‡§ö‡§ü‡§ï‡§æ (Chatka) - Premium Grade', price: 7000, description: 'Premium Quality Brick - Excellent finish quality', info: 'Perfect for exterior walls', icon: 'fas fa-fire' },
                    { type: 'Pili', name: '‡§™‡§ø‡§≤‡•Ä (Pili) - Economy Grade', price: 4300, description: 'Economy Grade Brick - Budget-friendly option', info: 'Great for temporary structures', icon: 'fas fa-dollar-sign' },
                    { type: 'Tulsa', name: '‡§§‡•Å‡§≤‡§∏‡§æ (Tulsa) - Standard Grade', price: 4500, description: 'Standard Quality Brick - Reliable quality', info: 'Good for basic construction', icon: 'fas fa-truck-loading' },
                    { type: 'Munjhad', name: '‡§Æ‡•Å‡§Ç‡§ù‡§°‡§º (Munjhad) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Consistent quality', info: 'Suitable for all construction', icon: 'fas fa-ruler-combined' },
                    { type: 'Roda', name: '‡§∞‡•ã‡§°‡§º‡§æ (Roda) - Standard Grade', price: 5500, description: 'Standard Quality Brick - Durable construction', info: 'Perfect for foundation work', icon: 'fas fa-cube' }
                ]
            }
        };

        // --- SDK Initialization (Simplified) ---
        const initSDKs = (() => {
            let isInitialized = false;
            return async () => {
                if (isInitialized) return;
                try {
                    if (window.dataSdk) {
                        await window.dataSdk.init({ onDataChanged: (data) => currentRecordCount = data.length });
                    }
                    if (window.elementSdk) {
                        window.elementSdk.init({
                            defaultConfig,
                            onConfigChange: (config) => {
                                document.getElementById('company-name').textContent = config.company_name || defaultConfig.company_name;
                                document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
                                document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
                                document.getElementById('footer-phone').textContent = config.customer_care || defaultConfig.customer_care;
                                document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
                            },
                            mapToCapabilities: () => ({ recolorables: [], borderables: [], fontEditable: undefined, fontSizeable: undefined }),
                            mapToEditPanelValues: (config) => new Map([["company_name", config.company_name], ["customer_care", config.customer_care], ["email_address", config.email_address], ["office_address", config.office_address]])
                        });
                    }
                    isInitialized = true;
                } catch (e) {
                    console.error("Error initializing SDKs:", e);
                }
            };
        })();

        // Get Brick Color based on type (simple palette)
        function getBrickColor(type) {
            const colors = {
                'Abal': { main: '#b91c1c', stroke: '#991b1b', text: '#ffffff' }, // Deep Red
                'Naram': { main: '#dc2626', stroke: '#b91c1c', text: '#ffffff' }, // Medium Red
                'Doem': { main: '#facc15', stroke: '#eab308', text: '#374151' }, // Yellow/Gold
                'Chatka': { main: '#f59e0b', stroke: '#d97706', text: '#374151' }, // Orange
                'Pili': { main: '#fcd34d', stroke: '#fbbf24', text: '#374151' }, // Light Yellow
                'Tulsa': { main: '#9d174d', stroke: '#831843', text: '#ffffff' }, // Pink/Maroon
                'Munjhad': { main: '#475569', stroke: '#334155', text: '#ffffff' }, // Slate Gray
                'Roda': { main: '#2563eb', stroke: '#1d4ed8', text: '#ffffff' } // Blue (for contrast/foundation)
            };
            return colors[type] || { main: '#ef4444', stroke: '#dc2626', text: '#ffffff' };
        }

        // --- Utility Functions ---
        
        // Show/Hide Messages 
        function showMessage(type, message) {
            const messageElement = document.getElementById(type + '-message');
            if (messageElement) {
                // Clear and hide previous messages
                document.getElementById('success-message').style.display = 'none';
                document.getElementById('error-message').style.display = 'none';
                
                messageElement.innerHTML = message;
                messageElement.style.display = 'block';
                
                if (type === 'success') {
                    setTimeout(() => {
                        messageElement.style.display = 'none';
                    }, 8000);
                }
            }
        }

        function hideMessages() {
            if (document.getElementById('success-message')) {
                 document.getElementById('success-message').style.display = 'none';
            }
            if (document.getElementById('error-message')) {
                document.getElementById('error-message').style.display = 'none';
            }
        }

        function showLoading() {
            const loadingElement = document.getElementById('loading');
            if (loadingElement) {
                loadingElement.classList.remove('hidden');
            }
            const payBtn = document.getElementById('pay-now-btn');
            if (payBtn) payBtn.disabled = true;
        }

        function hideLoading() {
            const loadingElement = document.getElementById('loading');
            if (loadingElement) {
                loadingElement.classList.add('hidden');
            }
            const payBtn = document.getElementById('pay-now-btn');
            if (payBtn) payBtn.disabled = false;
        }


        // --- Core Functions ---

        // Remove from Cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            selectedBrick = null;
            
            // Unselect card visually
            if (document.querySelector('.brick-detail-card.selected')) {
                 document.querySelector('.brick-detail-card.selected').classList.remove('selected');
            }

            updateCartDisplay();
        }

        // Update quantity in cart
        function updateQuantity(itemId, newQuantity) {
            const quantity = parseInt(newQuantity);
            const itemIndex = cart.findIndex(cartItem => cartItem.id === itemId);
            if (itemIndex > -1 && quantity > 0) {
                cart[itemIndex].quantity = quantity;
                selectedBrick.quantity = quantity; 
                updateCartDisplay();
            }
        }

        // Update Cart Display (in the popup)
        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cart-items-display');
            const cartTotal = document.getElementById('cart-total');
            const cartAdvancePay = document.getElementById('cart-advance-pay');
            const cartRemainingBalance = document.getElementById('cart-remaining-balance');
            const checkoutBtn = document.getElementById('proceed-checkout');
            
            const totalItems = cart.length; 

            if (totalItems === 0) {
                cartTotal.textContent = '0';
                cartAdvancePay.textContent = '0';
                cartRemainingBalance.textContent = '0';
                cartItemsContainer.innerHTML = '<div class="text-center text-gray-500 py-6"><i class="fas fa-box-open mb-2 text-3xl"></i><br>No bricks selected.</div>';
                checkoutBtn.disabled = true;
                return;
            }
            
            const item = cart[0];
            const totalBricks = item.quantity * 1000;
            const totalAmount = item.price * item.quantity;
            const remaining = totalAmount - ADVANCE_PAYMENT;
            
            cartTotal.textContent = totalAmount.toLocaleString('en-IN');
            cartAdvancePay.textContent = ADVANCE_PAYMENT.toLocaleString('en-IN');
            cartRemainingBalance.textContent = remaining.toLocaleString('en-IN');
            
            document.getElementById('cart-pay-now-btn').textContent = ADVANCE_PAYMENT.toLocaleString('en-IN');
            document.getElementById('cart-button-text').textContent = `Book Order - Pay ‚Çπ${ADVANCE_PAYMENT.toLocaleString('en-IN')}`;
            
            // Generate quantity options (1000*1 to 1000*25, Max 25000 bricks)
            let quantityOptions = '';
            for (let i = 1; i <= 25; i++) {
                const selected = item.quantity === i ? 'selected' : '';
                quantityOptions += `<option value="${i}" ${selected}>${(i * 1000).toLocaleString()} Bricks</option>`;
            }
                
            cartItemsContainer.innerHTML = `
                <div class="p-4 rounded-xl cart-item-detail text-gray-800">
                    <div class="flex justify-between items-center mb-2">
                        <strong class="text-lg">${item.name}</strong>
                        <button class="text-red-500 hover:text-red-700 text-sm" onclick="removeFromCart('${item.id}')">
                            <i class="fas fa-trash-alt mr-1"></i> Remove
                        </button>
                    </div>
                    <div class="text-sm mb-3">Company: ${item.companyName} | Price/1000: ‚Çπ${item.price.toLocaleString('en-IN')}</div>
                    
                    <label class="block text-sm font-semibold text-info mb-1">Select Quantity (in thousands):</label>
                    <select onchange="updateQuantity('${item.id}', this.value)" class="w-full p-2 border border-blue-300 rounded-lg text-gray-700 font-bold">
                        ${quantityOptions}
                    </select>
                    
                    <div class="mt-3 p-2 bg-green-100 rounded text-success font-extrabold text-sm text-center">
                        Total Bricks: ${(item.quantity * 1000).toLocaleString()} | Total Value: ‚Çπ${totalAmount.toLocaleString('en-IN')}
                    </div>
                </div>
            `;
            
            checkoutBtn.disabled = false;
        }

        // Add to Cart Function
        function addToCart(brickType, event) {
            if (event) event.stopPropagation();
            
            const companyKey = selectedCompany;
            if (!companyKey) {
                showMessage('error', 'Select Company First', 'Please select a Bhatta company before choosing a brick type.');
                return;
            }

            const brickData = companyBricks[companyKey].bricks.find(b => b.type === brickType);
            if (!brickData) return;

            // Clear existing cart (only one order allowed)
            cart = [];
            
            // Unselect all cards visually
            document.querySelectorAll('.brick-detail-card').forEach(card => card.classList.remove('selected'));
            
            // Select current card visually
            document.getElementById(`brick-card-${brickType}`).classList.add('selected');
            
            // Add selected brick with default quantity 1 (1000 bricks)
            selectedBrick = {
                ...brickData,
                company: companyKey,
                companyName: companyBricks[companyKey].name,
                quantity: 1,
                id: Date.now().toString() // Simple unique ID
            };
            
            cart.push(selectedBrick);
            
            updateCartDisplay();
            showCartPopup();
        }

        // Select Company Function
        function selectCompany(companyKey) {
            document.querySelectorAll('.service-card-base').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('.btn-primary').forEach(btn => {
                if (btn.id.includes('-btn')) {
                    btn.textContent = btn.textContent.replace('‚úì Selected - ', 'Select ');
                    btn.classList.remove('bg-green-600', 'hover:bg-green-700');
                    btn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }
            });

            selectedCompany = companyKey;
            const companyCard = document.getElementById(`${companyKey}-company`);
            const companyBtn = document.getElementById(`${companyKey}-btn`);
            
            companyCard.classList.add('selected');
            companyBtn.classList.add('selected', 'bg-green-600', 'hover:bg-green-700');
            companyBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
            companyBtn.textContent = `‚úì Selected - ${companyBricks[companyKey].name}`;

            document.getElementById('brick-services').style.display = 'block';
            document.getElementById('services-company-title').textContent = `${companyBricks[companyKey].name} - Available Brick Types`;

            loadCompanyBricks(companyKey);

            cart = [];
            selectedBrick = null;
            updateCartDisplay(); // Fixed ReferenceError here

            document.getElementById('brick-services').scrollIntoView({ behavior: 'smooth' });
        }


        // Load Company Bricks
        function loadCompanyBricks(companyKey) {
            const servicesGrid = document.getElementById('services-grid');
            const company = companyBricks[companyKey];
            
            servicesGrid.innerHTML = company.bricks.map(brick => {
                const brickColor = getBrickColor(brick.type);
                
                // SVG for visual representation
                const brickSVG = `
                    <svg class="w-full h-full" viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg">
                        <rect x="20" y="30" width="160" height="60" rx="5" fill="${brickColor.main}" stroke="${brickColor.stroke}" stroke-width="3"/>
                        <rect x="25" y="35" width="150" height="50" rx="3" fill="${brickColor.main}" stroke="${brickColor.stroke}" stroke-width="1.5"/>
                        <text x="100" y="65" text-anchor="middle" font-family="Inter, sans-serif" font-size="14" font-weight="900" fill="${brickColor.text}">${brick.type.toUpperCase()}</text>
                    </svg>
                `;

                return `
                    <div class="service-card-base brick-detail-card" id="brick-card-${brick.type}" onclick="addToCart('${brick.type}', event)">
                        <div class="p-4">
                            <div class="brick-svg-wrapper">${brickSVG}</div>
                            
                            <h4 class="font-extrabold text-lg mb-1 text-gray-800 leading-snug">${brick.name}</h4>
                            <p class="brick-price mb-2">‚Çπ${brick.price.toLocaleString('en-IN')}<span class="text-sm font-normal text-gray-500">/1000 Bricks</span></p>

                            <div class="text-xs text-gray-600 space-y-1 text-left mb-3">
                                <p><i class="fas fa-check-circle text-green-500 mr-2"></i> ${brick.description}</p>
                                <p><i class="fas fa-info-circle text-blue-500 mr-2"></i> ${brick.info}</p>
                                <p><i class="fas ${brick.icon} text-purple-500 mr-2"></i> Company: ${company.name}</p>
                            </div>

                            <button class="btn-primary w-full mt-2" onclick="addToCart('${brick.type}', event)">
                                Select & Order
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Show cart popup modal
        function showCartPopup() {
            updateCartDisplay();
            document.getElementById('cart-popup').classList.remove('hidden');
        }

        // Close cart popup modal
        function hideCartPopup() {
            document.getElementById('cart-popup').classList.add('hidden');
        }

        // Open Checkout Form (Modal)
        function openCheckoutForm() {
            if (cart.length === 0) return;
            
            const item = cart[0];
            const totalBricks = item.quantity * 1000;
            const totalAmount = item.price * item.quantity;
            const remaining = totalAmount - ADVANCE_PAYMENT;
            
            document.getElementById('selected-quantity-display').innerHTML = `
                <strong>${item.name}</strong> (${item.companyName})<br>
                <strong>Quantity:</strong> ${totalBricks.toLocaleString()} bricks (1000 √ó ${item.quantity})<br>
                <strong>Total Amount:</strong> ‚Çπ${totalAmount.toLocaleString('en-IN')}<br>
                <strong class="text-red-600">Remaining Balance: ‚Çπ${remaining.toLocaleString('en-IN')}</strong>
            `;
            
            document.getElementById('pay-amount-btn').textContent = ADVANCE_PAYMENT.toLocaleString('en-IN');
            
            // Open modal
            document.getElementById('checkout-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            hideCartPopup();
        }

        // Close Checkout Form
        function closeCheckoutForm() {
            document.getElementById('checkout-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
            document.getElementById('checkout-form').reset();
            hideMessages();
        }


        // Validate Form Data
        function validateFormData(formData) {
            const errors = [];
            
            if (!formData.customerName || formData.customerName.length < 2) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‡§ï‡§Æ ‡§∏‡•á ‡§ï‡§Æ 2 ‡§Ö‡§ï‡•ç‡§∑‡§∞)');
            }
            
            if (!/^[0-9]{10}$/.test(formData.mobile)) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß 10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç');
            }
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç');
            }
            
            if (!formData.deliveryAddress || formData.deliveryAddress.length < 10) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§™‡§§‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç');
            }
            
            if (!/^[0-9]{6}$/.test(formData.pincode)) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡•à‡§ß 6 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§ø‡§®‡§ï‡•ã‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç');
            }
            
            if (!cart.length || !selectedBrick) {
                errors.push('‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§ï‡•ã‡§à ‡§à‡§Ç‡§ü ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç');
            }
            
            return errors;
        }


        // Handle Form Submission and Payment
        document.getElementById('checkout-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Check record limit
            if (currentRecordCount >= 999) {
                showMessage('error', '‚ö†Ô∏è Maximum limit of 999 orders reached. Please contact customer care at 8816014071.');
                return;
            }
            
            const formData = {
                customerName: document.getElementById('customer-name').value.trim(),
                mobile: document.getElementById('mobile-number').value.trim(),
                email: document.getElementById('email-id').value.trim(),
                deliveryAddress: document.getElementById('delivery-address').value.trim(),
                landmark: document.getElementById('landmark').value.trim(),
                pincode: document.getElementById('pincode').value.trim()
            };
            
            // Validate form data
            const validationErrors = validateFormData(formData);
            if (validationErrors.length > 0) {
                showMessage('error', '‚ùå ' + validationErrors.join('<br>'));
                return;
            }
            
            const totalAmount = selectedBrick.price * cart[0].quantity;
            
            const paymentAmount = ADVANCE_PAYMENT;
            
            // Show loading
            showLoading();
            hideMessages();
            
            // Check if Razorpay is loaded
            if (typeof Razorpay === 'undefined') {
                hideLoading();
                showMessage('error', '‚ùå Payment gateway not loaded. Please refresh the page and try again.');
                return;
            }
            
            // Razorpay options
            const options = {
                "key": "rzp_live_RLjzp7VlXERwiG", // Test Razorpay key
                "amount": paymentAmount * 100, // Amount in paise
                "currency": "INR",
                "name": "Brick Supply on Hot Price",
                "description": `Advance Order - ${selectedBrick.companyName} - ${cart[0].name} (${cart[0].quantity * 1000} bricks)`,
                "image": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiByeD0iMTIiIGZpbGw9IiMwZjYyZmUiLz4KPHN2ZyB4PSIxNiIgeT0iMTYiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0zIDFWMTloNFYxN0g3VjEySDdWM0g1VjE5SDNWNUg3VjNINW0xMiA0SDl2MjBoNFY1aDJoMHY1aDRWMzdIOW01LTdoMnY3aDRWMzdIOW02LTdoMi4wMjlWMTJoLTJWMzdIOW02LTdoMnY4aDRWMzdIOW02LTdoMnY0aDRWMzdIOW02LTdoMnYwaDRWMzdIOW02LTdoMnYwaDRWMzdIOW02LTdoMnYwaDRWMzdIOW02LTdoMnYwaDRWMzdIOW02LTdoMnYwaDRWMzdIOW02LTdoMnY0aDRWMzdIOW02LTdoMnY4aDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYxaDRWMzdIOW02LTdoMnYyLjAyOS42MDYgMi4wNDQgMy4xMS42ODkgMy4xMi0uMDMgMy4wOTQtLjY4OSAyLjQ3OS0zLjExLS4wMDUtMi4wMjgtLjY0Ni0zLjExLS42ODktMy4xMDIuMDQ0LTIuOTU0LjU5OS0zLjExLjY4OS0zLjExMnYxaDNWMzcuMjkzaC4wMDRWNDNoLTFWMTZINW02IDhoMnYxMkg5bTItMTJ2OWg4VjE2aC04WiIvPjwvZz48L3N2Zz4KPC9zdmc+",
                "handler": async function (response) {
                    hideLoading();
                    
                    try {
                        const brickDetails = `${selectedBrick.companyName} - ${cart[0].name} - ${cart[0].quantity * 1000} bricks to ${formData.deliveryAddress}`;
                        
                        // Prepare order items string for Google Sheet
                        const orderItems = `${selectedBrick.companyName} - ${cart[0].name} - Quantity: ${cart[0].quantity * 1000} bricks - Rate: ‚Çπ${selectedBrick.price}/1000`;
                        
                        const remainingAmount = totalAmount - paymentAmount;

                        // Save to Google Sheet (primary storage)
                        let sheetSaveSuccess = false;
                        
                        try {
                            const params = new URLSearchParams({
                                timestamp: new Date().toLocaleString('hi-IN', { timeZone: 'Asia/Kolkata' }),
                                customerName: formData.customerName,
                                mobile: formData.mobile,
                                email: formData.email,
                                address: formData.deliveryAddress,
                                landmark: formData.landmark || '', 
                                pincode: formData.pincode,
                                orderItems: orderItems,
                                totalAmount: totalAmount,
                                paymentId: response.razorpay_payment_id,
                                status: `Advance Paid ‚Çπ${paymentAmount} - Remaining ‚Çπ${remainingAmount} - Company: ${selectedBrick.companyName} - Quantity: ${cart[0].quantity * 1000} bricks`
                            });
                            
                            const response1 = await fetch('https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/x-www-form-urlencoded',
                                },
                                body: params.toString()
                            });
                            
                            console.log('‚úÖ Data sent to Google Sheet successfully');
                            sheetSaveSuccess = true;
                        } catch (error1) {
                            console.log('‚ö†Ô∏è Google Sheet method failed', error1);
                        }
                        
                        // Also save to Data SDK for backup
                        const orderData = {
                            id: Date.now().toString() + '_' + Math.random().toString(36).substr(2, 9),
                            company_brand: selectedBrick.companyName,
                            brick_type: cart[0].name,
                            price_per_thousand: selectedBrick.price,
                            customer_name: formData.customerName,
                            mobile: formData.mobile,
                            email: formData.email,
                            delivery_address: formData.deliveryAddress,
                            pincode: formData.pincode,
                            quantity_thousands: cart[0].quantity,
                            total_amount: totalAmount,
                            booking_date: new Date().toISOString(),
                            payment_status: `Advance ‚Çπ${paymentAmount} - Remaining ‚Çπ${remainingAmount} - Company: ${selectedBrick.companyName} - Quantity: ${cart[0].quantity * 1000} bricks`,
                            payment_id: response.razorpay_payment_id
                        };
                        
                        if (window.dataSdk) {
                            try {
                                const result = await window.dataSdk.create(orderData);
                                if (result.isOk) {
                                    console.log('‚úÖ Data also saved to Canva Sheet as backup');
                                }
                            } catch (sdkError) {
                                console.error('‚ùå Data SDK save error:', sdkError);
                            }
                        }
                        
                        // Show success message
                        const sheetStatusMsg = sheetSaveSuccess ? 
                            "‚úÖ Order details saved successfully!" : 
                            "‚ö†Ô∏è Order saved locally. Please share Payment ID with customer care.";
                        
                        
                        const successMessage = `
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; margin-bottom: 15px;">üß± Advance Payment Successful!</div>
                                <div style="margin-bottom: 10px;"><strong>Company:</strong> ${selectedBrick.companyName}</div>
                                <div style="margin-bottom: 10px;"><strong>Brick Type:</strong> ${cart[0].name}</div>
                                <div style="margin-bottom: 10px;"><strong>Quantity:</strong> ${(cart[0].quantity * 1000).toLocaleString()} bricks</div>
                                <div style="margin-bottom: 10px;"><strong>Total Amount:</strong> ‚Çπ${totalAmount.toLocaleString()}</div>
                                <div style="margin-bottom: 10px;"><strong>Advance Paid:</strong> ‚Çπ${paymentAmount}</div>
                                <div style="margin-bottom: 10px; color: #059669; font-weight: bold;"><strong>Remaining Amount:</strong> ‚Çπ${remainingAmount.toLocaleString()} (Pay on delivery)</div>
                                <div style="margin-bottom: 10px;"><strong>Payment ID:</strong> ${response.razorpay_payment_id}</div>
                                <div style="background: rgba(15, 98, 254, 0.1); padding: 10px; border-radius: 8px; margin-top: 15px;">
                                    <strong>${sheetStatusMsg}</strong><br>
                                    ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡§ï‡•á ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ï‡•Ä ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ï‡§∞‡•á‡§ó‡•Ä‡•§<br>
                                    Premium quality bricks from ${selectedBrick.companyName} guaranteed with fast delivery.<br>
                                    <strong>‡§¨‡§æ‡§ï‡•Ä ‚Çπ${remainingAmount.toLocaleString()} ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§™‡§∞ ‡§¶‡•á‡§Ç‡•§</strong>
                                    ${!sheetSaveSuccess ? '<br><br><strong>Customer Care:</strong> 8816014071' : ''}
                                </div>
                            </div>
                        `;
                        
                        showMessage('success', successMessage);
                        
                        // Clear cart and close modal after delay
                        cart = [];
                        selectedBrick = null;
                        updateCartDisplay();
                        
                        setTimeout(() => {
                            closeCheckoutForm();
                        }, 8000);
                        
                    } catch (error) {
                        console.error('‚ùå Order processing error:', error);
                        showMessage('error', `
                            <div style="text-align: center;">
                                <div style="font-size: 1.2rem; margin-bottom: 10px;">‚ö†Ô∏è Payment Successful</div>
                                <div style="margin-bottom: 10px;"><strong>Payment ID:</strong> ${response.razorpay_payment_id}</div>
                                <div style="background: rgba(251, 191, 36, 0.1); padding: 10px; border-radius: 8px; margin-top: 10px;">
                                    Your payment was successful but there was an issue saving the order details.<br>
                                    Please contact customer care at <strong>8816014071</strong> with your Payment ID.
                                </div>
                            </div>
                        `);
                    }
                },
                "prefill": {
                    "name": formData.customerName,
                    "email": formData.email,
                    "contact": formData.mobile
                },
                "theme": {
                    "color": "#0f62fe"
                },
                "modal": {
                    "ondismiss": function() {
                        hideLoading();
                        showMessage('error', '‚ùå Payment cancelled. Please try again to complete your order.');
                    }
                }
            };
            
            try {
                const rzp = new Razorpay(options);
                
                rzp.on('payment.failed', function (response) {
                    hideLoading();
                    const errorMsg = response.error.description || response.error.reason || 'Unknown payment error';
                    showMessage('error', `‚ùå Payment failed: ${errorMsg}<br><br>Please try again or contact customer care at 8816014071.`);
                });
                
                hideLoading();
                rzp.open();
                
            } catch (error) {
                hideLoading();
                console.error('‚ùå Razorpay initialization error:', error);
                showMessage('error', '‚ùå Payment gateway error. Please refresh the page and try again, or contact customer care at 8816014071.');
            }
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            const checkoutModal = document.getElementById('checkout-modal');
            
            if (event.target === checkoutModal) {
                closeCheckoutForm();
            }
        });

        // Prevent form submission on Enter key in input fields
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && event.target.tagName !== 'BUTTON' && event.target.type !== 'submit') {
                event.preventDefault();
            }
        });

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initSDKs();
            // Load initial company bricks (Max as default)
            loadCompanyBricks('max');
            
            // Add event listeners for closing modals
            document.getElementById('close-cart').addEventListener('click', hideCartPopup);
            document.getElementById('checkout-modal').addEventListener('click', (e) => {
                if (e.target.id === 'checkout-modal') closeCheckoutForm();
            });

            console.log('üß± Initializing Brick Supply System...');
        });

        // Add smooth scrolling for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
 </body>

</html>

