<!doctype html>
<html lang="hi">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" type="image/svg+xml" href="logo.png">
  <title>Sonipat Home Service - Lightning Fast Local Delivery | Same Day Parcel Service | Best Rates ‚Çπ149</title>
  <!-- SEO Meta Tags from original file -->
  <meta name="title" content="Sonipat Home Service - Lightning Fast Local Delivery | Same Day Parcel Service | Best Rates ‚Çπ149">
  <meta name="description" content="Professional local parcel delivery service in Sonipat starting at ‚Çπ149. Same-day delivery, real-time tracking, doorstep pickup. Serving 0-20 KM radius with packages up to 10KG. Book online with secure payment. Call 8816014071.">
  <meta name="keywords" content="sonipat home service,courier service near me,delivery service near me,local delivery near me,parcel delivery near me,same day delivery near me,24 hour delivery service sonipat,affordable courier service sonipat,all sonipat delivery service,best price delivery sonipat,bike delivery service sonipat,business courier service sonipat,business delivery service sonipat,car delivery service sonipat,cash on delivery sonipat,cheap parcel delivery sonipat,city delivery service sonipat,cloth delivery service sonipat,college delivery service sonipat,commercial parcel delivery sonipat,courier service model town sonipat,courier service sonipat,delivery service charges sonipat,delivery service gohana road sonipat,delivery service near me sonipat,delivery service shiv colony sonipat,Document courier services,document delivery sonipat,doorstep delivery sonipat,E-commerce product delivery,electronic items delivery sonipat,emergency delivery sonipat,factory delivery service sonipat,factory parcel service sonipat,festival delivery service sonipat,Food and grocery delivery,food delivery service sonipat,free delivery service sonipat,gift delivery service sonipat,grocery delivery sonipat,heavy items delivery sonipat,home to home delivery sonipat,home to office delivery sonipat,immediate delivery service sonipat,industrial area delivery sonipat,Industrial parcel delivery,instant delivery sonipat,kundli industrial delivery,local area delivery sonipat,local delivery murthal,local delivery service sonipat,Local shop to customer delivery,low cost delivery service sonipat,manufacturing unit delivery,market to home delivery sonipat, 24x7 delivery service">
  <meta name="author" content="Sonipat Home Service">
  <link rel="canonical" href="https://www.sonipathomeservice.com">
  <meta name="robots" content="index, follow" />
  
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Subtle light background */
            margin-top: 0 !important;
            padding-top: 0 !important;
            overflow-x: hidden;
        }
        
        /* --- Gradient Colors for Header and Primary Buttons (Blue/Indigo theme) --- */
        .gradient-bg {
            background: linear-gradient(135deg, #0f62fe 0%, #1e40af 100%); /* Deep Blue/Indigo */
        }

        /* --- Service Card (Ultra Stylish) --- */
        .service-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            transform-style: preserve-3d;
            background: #ffffff;
            box-shadow: 
                0 15px 30px rgba(0,0,0,0.1),
                0 5px 15px rgba(0,0,0,0.05);
            border-radius: 20px; /* More rounded */
            position: relative;
            overflow: hidden;
            margin: 8px;
            cursor: pointer;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(15,98,254,0.1) 0%, rgba(30,64,175,0.1) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 1;
        }
        
        .service-card:hover::before {
            opacity: 1;
        }
        
        .service-card.selected {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(15,98,254,0.3),
                0 15px 30px rgba(0,0,0,0.15),
                inset 0 2px 0 rgba(255,255,255,0.9);
            border-color: #0f62fe; /* Primary color border on selection */
        }

        .service-card:not(.selected):hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 
                0 20px 40px rgba(15,98,254,0.2),
                0 10px 20px rgba(0,0,0,0.1);
        }
        
        .service-card-content {
            position: relative;
            z-index: 2;
            padding: 24px;
        }
        
        .icon-hover {
            transition: all 0.3s ease;
        }
        
        .service-card:hover .icon-hover {
            transform: scale(1.15) rotate(-5deg); /* Bounce icon slightly */
        }
        
        /* --- Primary Button (Ultra Stylish) --- */
        .btn-primary {
            background: linear-gradient(135deg, #0f62fe, #1e40af);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(15,98,254,0.4);
        }
        
        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #1e40af, #11368e);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(15,98,254,0.6);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* --- Utility classes for Modals and Loading --- */
        .popup-overlay {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        .popup-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .cart-badge {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .service-icon {
            width: 48px;
            height: 48px;
        }
        
        .loading {
            opacity: 0.8;
            pointer-events: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1001;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: #0f62fe;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* --- Marquee/Slider Styling (for Footer) --- */
        .services-slider {
            overflow: hidden;
            white-space: nowrap;
            padding: 10px 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            background: #374151;
        }

        .services-track {
            display: inline-block;
            animation: marquee 30s linear infinite;
        }

        .services-track a, .services-track span {
            display: inline-block;
            color: #d1d5db; /* light gray */
            padding: 0 15px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: color 0.3s;
        }

        .services-track a:hover {
            color: #60a5fa; /* blue-400 */
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* Responsive adjustments for the main form in checkout */
        .checkout-popup .w-full {
             /* Ensures full width within the modal, especially on mobile */
             max-width: 100%;
        }

        /* Style for the Info Cards Section from AC Page */
        .info-card {
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        .info-card:hover {
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header -->
  <header class="gradient-bg text-white shadow-2xl sticky top-0 z-40"> 
   <div class="container mx-auto px-4 py-4">
    <br>
    <div class="flex justify-between items-center"><a href="index.html" class="flex items-center space-x-3 hover:opacity-90 transition-opacity"><img src="logo.png" alt="Sonipat Home Service Logo" class="h-10 w-10 sm:h-12 sm:w-12 rounded-full shadow-lg border border-white/50">
      <div>
       <h1 id="company-name" class="text-xl sm:text-2xl font-extrabold tracking-tight"> <span class="text-yellow-300">SonipatHomeService</span></h1>
       <p class="text-sm font-semibold opacity-90">Lightning Fast Local Delivery</p>
      </div></a>
     <div class="flex items-center space-x-4">
      <!-- Desktop Contact Side Bar -->
      <div class="text-right hidden md:block border-l pl-4 border-white/30">
       <a href="tel:8816014071" class="text-lg font-bold hover:text-yellow-300 transition-colors">üìû 8816014071</a>
       <p id="email-address" class="text-xs opacity-80 mt-1">care@sonipathomeservice.com</p>
      </div>
      <!-- Cart Button with Pop -->
      <button id="cart-btn" class="relative bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-md"> <span class="flex items-center space-x-2">
        <i class="fas fa-shopping-cart w-5 h-5"></i>
        <span class="hidden sm:inline">Cart</span> <span id="cart-count" class="bg-red-500 text-white rounded-full px-2 py-0.5 text-xs hidden font-bold">0</span> </span> </button>
     </div>
    </div>
   </div>
  </header>
  
  <!-- Info Cards Section (Delivery Focused) -->
  <section class="py-6 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- Info Card 1: Same Day Delivery -->
            <div class="info-card bg-blue-50 border-l-4 border-blue-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-blue-600"><i class="fas fa-shipping-fast"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Same Day Delivery</h4>
                        <p class="text-sm text-gray-600">Lightning fast local delivery (0-20 KM radius)</p>
                    </div>
                </div>
            </div>
            <!-- Info Card 2: Secure Handling -->
            <div class="info-card bg-green-50 border-l-4 border-green-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-green-600"><i class="fas fa-box-open"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Secure Handling</h4>
                        <p class="text-sm text-gray-600">Packages up to 10 KG handled safely.</p>
                    </div>
                </div>
            </div>
            <!-- Info Card 3: Real-time Tracking -->
            <div class="info-card bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                <div class="flex items-center space-x-3">
                    <span class="text-3xl text-yellow-600"><i class="fas fa-map-marker-alt"></i></span>
                    <div>
                        <h4 class="font-extrabold text-lg text-gray-800">Real-time Tracking</h4>
                        <p class="text-sm text-gray-600">Track your parcel live from pickup to drop-off.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
  </section>
  
  <!-- Services/Pricing Section -->
  <section class="py-12 bg-white">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-extrabold text-center mb-10 text-gray-800">Choose Your Parcel Delivery Service</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-2" id="services-grid"><!-- Delivery options will be populated by JavaScript -->
    </div>
   </div>
  </section>
  
  <!-- Terms & Conditions / Why Choose Us -->
  <section class="py-16 bg-gray-100">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-extrabold text-center mb-12 text-gray-800">Why Choose Sonipat Home Service?</h3>
    <div class="max-w-5xl mx-auto">
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><!-- Service Promise Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-blue-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 text-blue-600"><i class="fas fa-handshake text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Service Promise</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Same Day Delivery Guarantee</span></li>
        <li class="flex items-start space-x-2"><span class="text-red-500 mt-1">‚úó</span> <span>Only Local Deliveries (0-20 KM)</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Transparent Pricing - No Hidden Costs</span></li>
       </ul>
      </div><!-- Payment Terms Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-green-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 text-green-600"><i class="fas fa-coins text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Best Pricing</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Prices starting from ‚Çπ149</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Accept all payment methods (UPI, Card, Cash)</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Huge savings compared to market rates</span></li>
       </ul>
      </div><!-- Contact & Support Card -->
      <div class="bg-white rounded-xl shadow-2xl p-6 border-b-4 border-purple-500 hover:shadow-3xl transition-all duration-300">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3 text-purple-600"><i class="fas fa-headset text-3xl"></i>
        </div>
        <h4 class="font-extrabold text-xl text-gray-800 mb-2">Dedicated Support</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>24/7 dedicated customer support line</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Track your parcel live (Real-time updates)</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Doorstep Pickup &amp; Delivery</span></li>
       </ul>
      </div>
     </div><!-- Additional Info Banner -->
     <div class="mt-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white text-center shadow-lg">
      <div class="flex items-center justify-center space-x-4"><span class="text-3xl">‚≠ê</span>
       <div>
        <h5 class="font-extrabold text-xl">Best Rates &amp; Fastest Delivery in Sonipat</h5>
        <p class="text-sm opacity-90">Book with confidence. Your local delivery partner.</p>
       </div><span class="text-3xl">üì¶</span>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Footer -->
  <footer class="bg-gray-900 text-white pt-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Contact Information</h4>
      <div class="space-y-2 text-sm">
       <p class="flex items-center">üìû <span class="ml-2 font-semibold" id="footer-phone">8816014071</span></p>
       <p class="flex items-center">‚úâÔ∏è <span class="ml-2" id="footer-email">care@sonipathomeservice.com</span></p>
       <p class="flex items-center">üìç <span class="ml-2" id="office-address">128/1, Sainipura, Sonipat</span></p>
      </div>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Quick Links</h4>
      <ul class="space-y-2 text-sm">
       <li><a href="index.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Home Page</a></li>
       <li><a href="policy.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Privacy Policy</a></li>
       <li><a href="terms.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Terms &amp; Conditions</a></li>
       <li><a href="refund.html" class="hover:text-blue-400 transition-colors">‚Ä¢ Refund Policy</a></li>
      </ul>
     </div>
     <div>
      <h4 class="text-xl font-extrabold mb-4 text-blue-400">Follow Us</h4>
      <div class="flex space-x-4 text-2xl">
        <a href="https://facebook.com/sonipathomeservice" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-facebook-f"></i></a>
        <a href="https://instagram.com/sonipathomeservice" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/918816014071" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400 transition-colors"><i class="fab fa-whatsapp"></i></a>
      </div>
     </div>
    </div>
    <!-- Marquee Slider for All Services -->
    <div style="background: #374151; padding: 15px 0; margin-top: 30px; border-radius: 10px;">
    <div style="max-width: 1200px; margin: 0 auto;">
     <h4 style="text-align: center; color: #60a5fa; margin-bottom: 10px; font-size: 16px; font-weight: bold;">All Our Services</h4>
     <div class="services-slider">
      <div class="services-track"><a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span> <!-- Duplicate for seamless loop --> <a href="book-ac-services.html" target="_blank" rel="noopener noreferrer">‚ùÑÔ∏è AC Installation &amp; Repair</a> <a href="book-fridge-refrigrator-services.html" target="_blank" rel="noopener noreferrer">üßä Refrigerator Repair</a> <a href="book-washing-machine-services.html" target="_blank" rel="noopener noreferrer">üåÄ Washing Machine Repair</a> <a href="book-tv-repair.html" target="_blank" rel="noopener noreferrer">üì∫ TV Repair</a> <a href="book-geyser-services.html" target="_blank" rel="noopener noreferrer">üî• Geyser Repair</a> <a href="electricianservice.html" target="_blank" rel="noopener noreferrer">‚ö° Electrician Service</a> <a href="book-ro-serrvice.html" target="_blank" rel="noopener noreferrer">üíß RO Water Purifier</a> <a href="book-chimney-cleaning.html" target="_blank" rel="noopener noreferrer">üè† Chimney Cleaning</a> <a href="book-safty-tank-service.html" target="_blank" rel="noopener noreferrer">üöΩ Septic Tank Cleaning</a> <a href="book-sewerage-unblock-service.html" target="_blank" rel="noopener noreferrer">üîß Sewerage Unblocking</a> <a href="book-pasti-control-service.html" target="_blank" rel="noopener noreferrer">üêõ Pest Control Service</a> <a href="book-Sofa-cleaning.html" target="_blank" rel="noopener noreferrer">üõãÔ∏è Sofa Cleaning</a> <a href="watertankcleaning.html" target="_blank" rel="noopener noreferrer">ü™£ Water Tank Cleaning</a> <a href="book-wifi-service.html" target="_blank" rel="noopener noreferrer">üì∂ Wi-Fi Setup</a> <a href="Book-dth-installation-service.html" target="_blank" rel="noopener noreferrer">üì° DTH Installation</a> <a href="book-cctv-service.html" target="_blank" rel="noopener noreferrer">üìπ CCTV Installation</a> <a href="book-borewell-service.html" target="_blank" rel="noopener noreferrer">üï≥Ô∏è Borewell Service</a> <a href="book-chinai-mistri.html" target="_blank" rel="noopener noreferrer">üß± Masonry Work</a> <a href="book-building-material-supply.html" target="_blank" rel="noopener noreferrer">üèóÔ∏è Building Material Supply</a> <a href="book-solar-installation.html" target="_blank" rel="noopener noreferrer">‚òÄÔ∏è Solar Panel Installation</a> <a href="book-ro-water-services-services.html" target="_blank" rel="noopener noreferrer">üí¶ RO Water Service</a> <a href="website-design-service.html" target="_blank" rel="noopener noreferrer">üíª Website Design</a> <a href="book-bricks.html" target="_blank" rel="noopener noreferrer">üß± Bricks Supply</a> <a href="book-halwai-service.html" target="_blank" rel="noopener noreferrer">üç∞ Halwai Service</a> <a href="comingsoon.html" target="_blank" rel="noopener noreferrer">üçΩÔ∏è Catering Service</a> <a href="book-barber-service.html" target="_blank" rel="noopener noreferrer">‚úÇÔ∏è Barber Service</a> <a href="index.html" target="_blank" rel="noopener noreferrer">üíÑ Ladies Corner</a> <a href="book-vehicle-service.html" target="_blank" rel="noopener noreferrer">üöó Vehicle Service</a> <a href="automobile-repairing-services.html" target="_blank" rel="noopener noreferrer">üîß Car Repair</a> <a href="book-parcel-delivery-service-services.html" target="_blank" rel="noopener noreferrer">üì¶ Parcel Delivery</a> <span style="color: #9ca3af;">üí∞ Loan Service (Coming Soon)</span>
      </div>
     </div>
    </div>
   </div>
    <div class="border-t border-gray-800 mt-8 pt-6 pb-2 text-center text-sm">
     <p>¬© 2024 Sonipat Home Service - All rights reserved.</p>
    </div>
   </div>
  </footer>
  
  <!-- Cart Popup -->
  <div id="cart-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-md w-full popup-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4 border-b pb-3">
       <h3 class="text-2xl font-extrabold text-gray-800">Your Delivery Cart</h3><button id="close-cart" class="text-gray-500 hover:text-red-600 transition-colors p-1 rounded-full bg-gray-100">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg></button>
      </div>
      <div id="cart-items" class="space-y-3 mb-4 max-h-60 overflow-y-auto"><!-- Cart items will be populated here -->
       <div class="text-center text-gray-500 py-6">
        Your cart is empty. Please select a delivery option.
       </div>
      </div>
      <div class="border-t pt-4">
       <div class="space-y-2 mb-4">
        <div class="flex justify-between items-center"><span class="text-gray-600 font-semibold">Delivery Total:</span> <span class="font-extrabold text-lg">‚Çπ<span id="cart-total">0</span></span>
        </div>
        <div class="flex justify-between items-center text-green-600"><span class="font-semibold">Total Savings:</span> <span class="font-extrabold">‚Çπ<span id="cart-total-savings">0</span></span>
        </div>
        <div class="border-t pt-3 flex justify-between items-center mt-2"><span class="font-extrabold text-xl text-gray-900">Amount to Pay:</span> <span class="font-extrabold text-xl text-red-600">‚Çπ<span id="cart-pay-now">0</span></span>
        </div>
       </div><button id="proceed-checkout" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-lg transform hover:scale-[1.01] transition-transform disabled:opacity-50" disabled> <span id="cart-button-text">Book Delivery</span> </button>
      </div>
     </div>
    </div>
   </div>
  </div>
  
  <!-- Checkout Form Popup -->
  <div id="checkout-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-start justify-center min-h-full p-2 py-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-md w-full checkout-popup popup-content" style="max-height: 95vh; overflow-y: auto;">
     <div class="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
      <h3 class="text-xl font-extrabold">Parcel &amp; Address Details</h3><button id="close-checkout" class="text-gray-500 hover:text-red-600 transition-colors p-1 rounded-full bg-gray-100">
       <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
       </svg></button>
     </div>
     <div class="p-4">
      <form id="checkout-form" class="space-y-4">
       <!-- Customer Contact Details -->
       <h4 class="text-lg font-extrabold mb-3 text-blue-600">Sender's &amp; Contact Details</h4>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Sender Name *</label> <input type="text" id="sender-name" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Enter sender's full name">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Sender Mobile Number *</label> <input type="tel" id="sender-mobile" required pattern="[0-9]{10}" maxlength="10" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="10-digit mobile number">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Sender Email ID *</label> <input type="email" id="sender-email" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Email for updates">
        </div>
       </div>
       <!-- Pickup Details -->
       <h4 class="text-lg font-extrabold mb-3 pt-4 text-green-600 border-t">Pickup Address (Sender)</h4>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Pickup Address *</label> <textarea id="pickup-address" required rows="2" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none" placeholder="Enter complete pickup address"></textarea>
        </div>
        <div class="grid grid-cols-2 gap-4">
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Pickup Landmark</label> <input type="text" id="pickup-landmark" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Near Metro/Mall etc.">
         </div>
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Pickup Pincode *</label> <input type="text" id="pickup-pincode" required pattern="[0-9]{6}" maxlength="6" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="6-digit pincode">
         </div>
        </div>
       </div>
       <!-- Delivery Details -->
       <h4 class="text-lg font-extrabold mb-3 pt-4 text-red-600 border-t">Delivery Address (Receiver)</h4>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Receiver Name *</label> <input type="text" id="receiver-name" required class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Enter receiver's full name">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Receiver Mobile Number *</label> <input type="tel" id="receiver-mobile" required pattern="[0-9]{10}" maxlength="10" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="10-digit mobile number">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Delivery Address *</label> <textarea id="delivery-address" required rows="2" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none" placeholder="Enter complete delivery address"></textarea>
        </div>
        <div class="grid grid-cols-2 gap-4">
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Delivery Landmark</label> <input type="text" id="delivery-landmark" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Near Hospital etc.">
         </div>
         <div><label class="block text-sm font-medium text-gray-700 mb-1">Delivery Pincode *</label> <input type="text" id="delivery-pincode" required pattern="[0-9]{6}" maxlength="6" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="6-digit pincode">
         </div>
        </div>
       </div>
       <!-- Parcel Description -->
       <h4 class="text-lg font-extrabold mb-3 pt-4 text-purple-600 border-t">Parcel Information</h4>
       <div class="space-y-2">
        <div><label class="block text-sm font-medium text-gray-700 mb-1">Parcel Description *</label> <textarea id="parcel-description" required rows="2" class="w-full px-3 py-2 text-base border-2 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none" placeholder="Documents, Clothes, Gifts, etc."></textarea>
        </div>
       </div>
       <!-- Payment Summary -->
       <div class="border-t pt-4 mt-4">
        <h4 class="text-lg font-extrabold mb-3">Payment Summary (Cart Total)</h4>
        <div class="space-y-2 mb-4 bg-blue-50 p-3 rounded-lg border border-blue-200">
         <div class="flex justify-between items-center text-sm"><span class="text-gray-700 font-semibold">Delivery Cost:</span> <span class="font-extrabold">‚Çπ<span id="checkout-total">0</span></span>
         </div>
         <div class="flex justify-between items-center text-green-700 text-sm"><span class="font-semibold">Total Savings:</span> <span class="font-extrabold">‚Çπ<span id="checkout-total-savings">0</span></span>
         </div>
         <div class="border-t border-blue-300 pt-3 flex justify-between items-center mt-2"><span class="font-extrabold text-xl text-gray-900">Pay Now:</span> <span class="font-extrabold text-xl text-red-600">‚Çπ<span id="checkout-pay-now">0</span></span>
         </div>
        </div>
        <div class="bg-yellow-50 border border-yellow-300 rounded-xl p-3 mb-4">
         <p class="text-xs text-yellow-800"><strong>Note:</strong> You are paying the **full delivery cost** now. No payment is required on delivery.</p>
        </div><button type="submit" id="pay-now" class="w-full btn-primary text-white py-3 rounded-xl font-extrabold text-lg transform hover:scale-[1.01] transition-transform"> <span id="checkout-button-text">Pay ‚Çπ0 Now</span> </button>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>

  <!-- Loading Message (Shared across all apps) -->
  <div id="loading-overlay" class="loading hidden">
      <div class="animate-spin rounded-full h-12 w-12 border-b-4 border-blue-500"></div>
      <p class="mt-4">Processing Request, Please Wait...</p>
  </div>

  <script>
        // Configuration
        const defaultConfig = {
            company_name: "Local Parcel Delivery - Sonipat Home Service",
            customer_care: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };
        
        // --- Delivery Options (Using the AC page Service Card format) ---
        const deliveryOptions = [
            {
                id: '0-10-5',
                name: "0-10 KM Delivery (Up to 5 KG)",
                price: 149,
                originalPrice: 194,
                icon: "fas fa-bicycle",
                description: "Fastest option for short distances. Ideal for documents/small packages."
            },
            {
                id: '0-10-10',
                name: "0-10 KM Delivery (6-10 KG)",
                price: 199,
                originalPrice: 259,
                icon: "fas fa-motorcycle",
                description: "For medium-sized packages and short trips."
            },
            {
                id: '11-15-5',
                name: "11-15 KM Delivery (Up to 5 KG)",
                price: 210,
                originalPrice: 273,
                icon: "fas fa-car",
                description: "Extended range for documents and small packages."
            },
            {
                id: '11-15-10',
                name: "11-15 KM Delivery (6-10 KG)",
                price: 299,
                originalPrice: 389,
                icon: "fas fa-truck-moving",
                description: "Best value for larger packages in mid-range zones."
            },
            {
                id: '15-20-5',
                name: "15-20 KM Delivery (Up to 5 KG)",
                price: 280,
                originalPrice: 364,
                icon: "fas fa-shipping-fast",
                description: "Max range delivery for light items."
            },
            {
                id: '15-20-10',
                name: "15-20 KM Delivery (6-10 KG)",
                price: 380,
                originalPrice: 494,
                icon: "fas fa-box-open",
                description: "Max range delivery for heavy items up to 10 KG."
            }
        ];

        // Cart functionality
        let cart = [];
        let currentRecordCount = 0; // Placeholder for Data SDK record count

        // --- Utility Functions ---

        // Message Popups (Success/Error/Loading)
        function showMessage(type, title, message) {
            const existing = document.getElementById('app-message');
            if(existing) existing.remove();
            
            const colors = {
                success: { bg: 'bg-green-500', icon: '‚úÖ' },
                error: { bg: 'bg-red-500', icon: '‚ùå' },
                loading: { bg: 'bg-blue-500', icon: '<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>' }
            };
            
            const msg = colors[type];
            
            const messageDiv = document.createElement('div');
            messageDiv.id = 'app-message';
            messageDiv.className = `fixed top-4 right-4 ${msg.bg} text-white p-4 rounded-xl shadow-2xl z-[1000] transition-opacity duration-300`;
            messageDiv.innerHTML = `
                <div class="flex items-center space-x-3">
                    <span class="text-xl">${msg.icon}</span>
                    <div>
                        <p class="font-bold text-lg">${title}</p>
                        <p class="text-sm">${message}</p>
                    </div>
                </div>
            `;
            document.body.appendChild(messageDiv);
            
            if (type !== 'loading') {
                setTimeout(() => {
                    messageDiv.classList.add('opacity-0');
                    setTimeout(() => messageDiv.remove(), 300);
                }, 5000);
            }
        }

        function showLoading() { document.getElementById('loading-overlay').classList.remove('hidden'); }
        function hideLoading() { document.getElementById('loading-overlay').classList.add('hidden'); }
        function showSuccessMessage() { showMessage('success', 'Booking Successful!', 'Your delivery has been confirmed and pickup is scheduled.'); }
        function showErrorMessage(message = 'Delivery booking failed! Please try again or contact support.') { showMessage('error', 'Booking Failed!', message); }
        function showPaymentMessage() { showMessage('success', 'üí≥ Initiating Payment', 'Razorpay secure gateway will open shortly...'); }

        // --- Service Rendering ---
        function renderServices() {
            const servicesGrid = document.getElementById('services-grid');
            servicesGrid.innerHTML = deliveryOptions.map(option => `
                <div class="service-card" id="card-${option.id}" onclick="addToCart('${option.id}')">
                    <div class="service-card-content">
                        <div class="flex items-start mb-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 text-blue-600 mr-4 shadow-lg">
                                <i class="${option.icon} text-xl icon-hover"></i>
                            </div>
                            <div class="flex-1">
                                <h4 class="font-extrabold text-lg mb-1 text-gray-800 leading-snug">${option.name}</h4>
                                <p class="text-gray-600 text-xs">${option.description}</p>
                            </div>
                        </div>
                        <div class="flex justify-between items-center pt-2 border-t border-gray-100">
                            <div class="flex flex-col items-start space-y-1">
                                <div class="flex items-center space-x-2">
                                    <span class="text-2xl font-extrabold text-red-600">‚Çπ${option.price}</span>
                                    <span class="text-sm text-gray-500 line-through">‚Çπ${option.originalPrice}</span>
                                </div>
                                <span class="text-xs font-semibold text-green-600">Save ‚Çπ${option.originalPrice - option.price}</span>
                            </div>
                            <button class="btn-primary text-white px-4 py-2 rounded-full font-semibold text-sm shadow-lg hover:shadow-xl transition-all duration-300">
                                Select
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- Cart Logic ---
        function addToCart(optionId) {
            const option = deliveryOptions.find(o => o.id === optionId);
            const existingItem = cart.find(item => item.id === optionId);
            
            // Clear previous selections and only keep the current one (Single Delivery Booking)
            cart = [];
            document.querySelectorAll('.service-card').forEach(card => card.classList.remove('selected'));
            
            if (existingItem) {
                // If the same item is selected again, just re-add it (optional: increase quantity, but for delivery, 1 is usually enough)
                cart.push({ ...option, quantity: 1, savings: option.originalPrice - option.price });
            } else {
                cart.push({ ...option, quantity: 1, savings: option.originalPrice - option.price });
            }
            
            document.getElementById(`card-${optionId}`).classList.add('selected');
            
            updateCartUI();
            showCartPopup();
        }

        function removeItemFromCart(itemId) {
             cart = cart.filter(item => item.id !== itemId);
             document.getElementById(`card-${itemId}`).classList.remove('selected');
             updateCartUI();
             if (cart.length === 0) {
                hideCartPopup();
                hideCheckoutPopup();
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const checkoutTotal = document.getElementById('checkout-total');
            const totalSavings = document.getElementById('cart-total-savings');
            const checkoutSavings = document.getElementById('checkout-total-savings');
            const cartPayNow = document.getElementById('cart-pay-now');
            const checkoutPayNow = document.getElementById('checkout-pay-now');
            const proceedBtn = document.getElementById('proceed-checkout');
            const cartButtonText = document.getElementById('cart-button-text');
            const checkoutButtonText = document.getElementById('checkout-button-text');
            
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const totalSaved = cart.reduce((sum, item) => sum + item.savings, 0);
            const totalItems = cart.length; // Only one item is expected for delivery booking
            
            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
                cartCount.classList.add('cart-badge');
            } else {
                cartCount.classList.add('hidden');
                cartItemsContainer.innerHTML = '<div class="text-center text-gray-500 py-6">Your cart is empty. Please select a delivery option.</div>';
            }
            
            cartTotal.textContent = totalAmount;
            checkoutTotal.textContent = totalAmount;
            
            totalSavings.textContent = totalSaved;
            checkoutSavings.textContent = totalSaved;
            
            cartPayNow.textContent = totalAmount;
            checkoutPayNow.textContent = totalAmount;
            
            cartItemsContainer.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-100">
                    <div class="flex-1">
                        <h5 class="font-bold text-base text-gray-800">${item.name}</h5>
                        <p class="text-gray-600 text-xs mt-1">Savings: ‚Çπ${item.savings}</p>
                    </div>
                    <div class="flex flex-col items-end space-y-1">
                        <span class="font-extrabold text-lg text-red-600">‚Çπ${item.price * item.quantity}</span>
                        <button onclick="removeItemFromCart('${item.id}')" class="text-red-500 hover:text-red-700 text-xs">
                            <i class="fas fa-trash-alt mr-1"></i> Remove
                        </button>
                    </div>
                </div>
            `).join('');
            
            // Enable/Disable checkout button
            const isCartEmpty = cart.length === 0;
            proceedBtn.disabled = isCartEmpty;
            
            // Update checkout button text with accurate amount
            cartButtonText.textContent = isCartEmpty ? 'Book Delivery' : `Pay ‚Çπ${totalAmount} Now`;
            checkoutButtonText.textContent = `Pay ‚Çπ${totalAmount} Now`;
        }

        function showCartPopup() {
            document.getElementById('cart-popup').classList.remove('hidden');
        }

        function hideCartPopup() {
            document.getElementById('cart-popup').classList.add('hidden');
        }

        function showCheckoutPopup() {
            if (cart.length === 0) {
                showMessage('error', 'Cart Empty', 'Please select a delivery option first.');
                return;
            }
            hideCartPopup();
            document.getElementById('checkout-popup').classList.remove('hidden');
        }

        function hideCheckoutPopup() {
            document.getElementById('checkout-popup').classList.add('hidden');
        }

        // --- Razorpay Payment & Google Sheets Integration ---

        function initializeRazorpayPayment(customerData, totalAmount) {
            const selectedItem = cart[0];
            
            const options = {
                key: 'rzp_live_RLjzp7VlXERwiG', // Live Production Key
                amount: totalAmount * 100, // Amount in paise
                currency: 'INR',
                name: 'Sonipat Home Service',
                description: `Parcel Delivery - ${selectedItem.name}`,
                image: 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiMzYjgyZjYiPjxwYXRoIGQ9Ik0xMiwyQTEwLDEwIDAgMCwxIDIyLDEyQTEwLDEwIDAgMCwxIDEyLDIyQTEwLDEwIDAgMCwxIDIsMTJBMTAsMTAgMCAwLDEgMTIsMk0xMiw0QTgsOCAwIDAsMCA0LDEyQTgsOCAwIDAsMCAxMiwyMEE4LDggMCAwLDAgMjAsMTJBOCw4IDAgMCwwIDEyLDRNMTIsNkE2LDYgMCAwLDEgMTgsMTJBNiw2IDAgMCwxIDEyLDE4QTYsNiAwIDAsMSA2LDEyQTYsNiAwIDAsMSAxMiw2TTEyLDhBNCw0IDAgMCwwIDgsMTJBNCw0IDAgMCwwIDEyLDE2QTQsNCAwIDAsMCAxNiwxMkE0LDQgMCAwLDAgMTIsOFoiLz48L3N2Zz4=',
                prefill: {
                    name: customerData.senderName,
                    email: customerData.senderEmail,
                    contact: customerData.senderMobile
                },
                theme: {
                    color: '#0f62fe'
                },
                handler: function(response) {
                    // Payment successful
                    submitToGoogleSheets(customerData, response.razorpay_payment_id, totalAmount);
                },
                modal: {
                    ondismiss: function() {
                        // Payment cancelled
                        hideLoading();
                        showErrorMessage('Payment cancelled. Please try again.');
                    }
                }
            };
            
            const rzp = new Razorpay(options);
            rzp.open();
        }

        // Send data to Google Sheets
        async function submitToGoogleSheets(customerData, paymentId, paidAmount) {
            const selectedItem = cart[0];
            
            const fullDescription = `Service: Parcel Delivery | Option: ${selectedItem.name} | Parcel: ${customerData.parcelDescription}`;
            const fullAddress = `Pickup: ${customerData.pickupAddress}, ${customerData.pickupLandmark}, ${customerData.pickupPincode} | Delivery: ${customerData.deliveryAddress}, ${customerData.deliveryLandmark}, ${customerData.deliveryPincode}`;
            
            // Create URL parameters to match your App Script exactly
            const params = new URLSearchParams({
                timestamp: new Date().toLocaleString('hi-IN'),
                customerName: customerData.senderName,
                mobile: customerData.senderMobile,
                email: customerData.senderEmail,
                address: fullAddress,
                landmark: `Pickup: ${customerData.pickupLandmark} | Delivery: ${customerData.deliveryLandmark}`,
                pincode: `Pickup: ${customerData.pickupPincode} | Delivery: ${customerData.deliveryPincode}`,
                orderItems: fullDescription,
                totalAmount: paidAmount,
                paidAmount: paidAmount,
                onsiteBalance: 0,
                paymentId: paymentId,
                status: 'Payment Complete - Delivery Confirmed',
                receiverName: customerData.receiverName,
                receiverMobile: customerData.receiverMobile
            });

            try {
                // Show loading state
                showLoading();
                
                // Using a generic URL for the demo environment to prevent cross-origin issues
                const response = await fetch(`https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec?${params.toString()}`, {
                    method: 'POST',
                    mode: 'no-cors' // Use no-cors for Google App Script execution
                });

                // Hide loading and show success
                hideLoading();
                hideCheckoutPopup();
                showSuccessMessage();
                
                // Clear form and cart after successful booking
                document.getElementById('checkout-form').reset();
                cart = [];
                document.querySelectorAll('.service-card').forEach(card => card.classList.remove('selected'));
                updateCartUI();
                
            } catch (error) {
                console.error('Error submitting to Google Sheets:', error);
                hideLoading();
                showErrorMessage();
            }
        }

        // --- Event Listeners and Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            renderServices();
            updateCartUI();

            // Cart button
            document.getElementById('cart-btn').addEventListener('click', showCartPopup);
            
            // Close buttons
            document.getElementById('close-cart').addEventListener('click', hideCartPopup);
            document.getElementById('close-checkout').addEventListener('click', hideCheckoutPopup);
            
            // Proceed to checkout
            document.getElementById('proceed-checkout').addEventListener('click', showCheckoutPopup);
            
            // Checkout form submission
            document.getElementById('checkout-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (cart.length === 0) {
                    showErrorMessage('Please select a delivery option first.');
                    return;
                }
                
                const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                
                const customerData = {
                    senderName: document.getElementById('sender-name').value,
                    senderMobile: document.getElementById('sender-mobile').value,
                    senderEmail: document.getElementById('sender-email').value,
                    pickupAddress: document.getElementById('pickup-address').value,
                    pickupLandmark: document.getElementById('pickup-landmark').value,
                    pickupPincode: document.getElementById('pickup-pincode').value,
                    receiverName: document.getElementById('receiver-name').value,
                    receiverMobile: document.getElementById('receiver-mobile').value,
                    deliveryAddress: document.getElementById('delivery-address').value,
                    deliveryLandmark: document.getElementById('delivery-landmark').value,
                    deliveryPincode: document.getElementById('delivery-pincode').value,
                    parcelDescription: document.getElementById('parcel-description').value
                };
                
                showPaymentMessage();
                
                // Delay to allow message to show
                setTimeout(() => {
                    initializeRazorpayPayment(customerData, totalAmount);
                }, 2000);
            });

            // Close popups when clicking outside
            document.getElementById('cart-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCartPopup();
            });
            
            document.getElementById('checkout-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCheckoutPopup();
            });

            // Initialize SDKs
            initializeApp();
        });

        async function initializeApp() {
            try {
                if (window.dataSdk) {
                    const initResult = await window.dataSdk.init({
                        onDataChanged(data) {
                            currentRecordCount = data.length;
                            console.log(`Current record count: ${currentRecordCount}`);
                        }
                    });
                    if (!initResult.isOk) {
                        console.error("Failed to initialize data SDK:", initResult.error);
                    } else {
                        console.log("Data SDK initialized successfully");
                    }
                }
                
                if (window.elementSdk) {
                    window.elementSdk.init({
                        defaultConfig,
                        onConfigChange: onConfigChange,
                        mapToCapabilities: mapToCapabilities,
                        mapToEditPanelValues: mapToEditPanelValues
                    });
                    console.log("Element SDK initialized successfully");
                }
            } catch (error) {
                console.error("Error initializing app:", error);
            }
        }
        
        // --- Element SDK Handlers ---
        async function onConfigChange(config) {
            document.getElementById('company-name').textContent = config.company_name || defaultConfig.company_name;
            // Header contact uses raw text, need to update correctly
            const headerPhoneElement = document.querySelector('.header-right a[href^="tel"]');
            if (headerPhoneElement) headerPhoneElement.textContent = `üìû ${config.customer_care || defaultConfig.customer_care}`;
            document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
            document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
            document.getElementById('footer-phone').textContent = config.customer_care || defaultConfig.customer_care;
            document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["customer_care", config.customer_care || defaultConfig.customer_care],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ]);
        }
    </script>
 </body>

</html>
