<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Geyser Repair Service - Professional Water Heater Solutions</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .service-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
            transform-style: preserve-3d;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 
                0 8px 32px rgba(0,0,0,0.1),
                0 4px 16px rgba(0,0,0,0.05),
                inset 0 1px 0 rgba(255,255,255,0.8);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            margin: 8px;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(220,38,38,0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }
        
        .service-card:hover::before {
            opacity: 1;
        }
        
        .service-card:hover {
            transform: translateY(-12px) rotateX(3deg) rotateY(3deg) scale(1.01);
            box-shadow: 
                0 25px 50px rgba(239,68,68,0.2),
                0 15px 30px rgba(0,0,0,0.1),
                0 8px 16px rgba(239,68,68,0.08),
                inset 0 2px 0 rgba(255,255,255,0.9);
            border-color: #ef4444;
        }
        
        .service-card-content {
            position: relative;
            z-index: 2;
            transform: translateZ(20px);
        }
        
        .icon-hover {
            transition: all 0.3s ease;
        }
        
        .icon-hover:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4);
        }
        
        .popup-overlay {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        .popup-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .cart-badge {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
        
        .service-icon {
            width: 48px;
            height: 48px;
        }
        
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .warranty-badge {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            display: inline-block;
            margin-top: 4px;
        }
        
        .savings-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: bold;
            display: inline-block;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }
        
        .feature-list li::before {
            content: '‚úì';
            color: #10b981;
            font-weight: bold;
            margin-right: 8px;
            font-size: 14px;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header -->
  <header class="gradient-bg text-white shadow-lg sticky top-0 z-40">
   <div class="container mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
     <div class="flex items-center space-x-3">
      <div class="service-icon icon-hover">
       <svg viewbox="0 0 24 24" fill="currentColor" class="w-full h-full"><path d="M9,2V8H7V10H9V14H7V16H9V22H11V16H13V14H11V10H13V8H11V2H9M12,4.5A0.5,0.5 0 0,1 12.5,5A0.5,0.5 0 0,1 12,5.5A0.5,0.5 0 0,1 11.5,5A0.5,0.5 0 0,1 12,4.5M12,6.5A0.5,0.5 0 0,1 12.5,7A0.5,0.5 0 0,1 12,7.5A0.5,0.5 0 0,1 11.5,7A0.5,0.5 0 0,1 12,6.5M12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5M12,17.5A0.5,0.5 0 0,1 12.5,18A0.5,0.5 0 0,1 12,18.5A0.5,0.5 0 0,1 11.5,18A0.5,0.5 0 0,1 12,17.5M12,19.5A0.5,0.5 0 0,1 12.5,20A0.5,0.5 0 0,1 12,20.5A0.5,0.5 0 0,1 11.5,20A0.5,0.5 0 0,1 12,19.5Z" />
       </svg>
      </div>
      <div>
       <h1 id="company-name" class="text-xl font-bold"><a href="https://www.sonipathomeservice.com" target="_blank" rel="noopener noreferrer" class="hover:text-red-100 transition-colors">Geyser Repair Service</a></h1>
       <p class="text-sm opacity-90">Professional Water Heater Solutions</p>
      </div>
     </div>
     <div class="flex items-center space-x-4">
      <div class="text-right hidden md:block">
       <p id="customer-care" class="text-sm font-semibold">üìû 8816014071</p>
       <p id="email-address" class="text-xs opacity-90">service@geyserrepair.com</p>
      </div><button id="cart-btn" class="relative bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-300"> <span class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7M9 3V4H15V3H9M7 6V19H17V6H7Z" />
        </svg><span>Cart</span> <span id="cart-count" class="bg-red-500 text-white rounded-full px-2 py-1 text-xs hidden">0</span> </span> </button>
     </div>
    </div>
   </div>
  </header><!-- Hero Section -->
  <section class="gradient-bg text-white py-16">
   <div class="container mx-auto px-4 text-center">
    <div class="service-icon mx-auto mb-6 icon-hover"><span class="text-6xl">üî•</span>
    </div>
    <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-4">Professional Geyser Repair &amp; Installation Service</h2>
    <p class="text-xl mb-4 opacity-90">Expert Water Heater Solutions ‚Ä¢ Same Day Service ‚Ä¢ 6 Month Warranty</p>
    <p class="text-sm mb-8 opacity-80 max-w-4xl mx-auto">Professional geyser repair, installation, and maintenance services for all brands. Quick diagnosis, quality parts replacement, and reliable hot water solutions for your home and office.</p>
    <div class="flex justify-center space-x-6 text-sm">
     <div class="flex items-center space-x-2"><span class="text-2xl">üîß</span> <span>Expert Repair</span>
     </div>
     <div class="flex items-center space-x-2"><span class="text-2xl">‚ö°</span> <span>Same Day Service</span>
     </div>
     <div class="flex items-center space-x-2"><span class="text-2xl">üõ°Ô∏è</span> <span>6 Month Warranty</span>
     </div>
    </div>
   </div>
  </section><!-- Services Section -->
  <section class="py-12 bg-white">
   <div class="container mx-auto px-4">
    <h3 class="text-2xl font-bold text-center mb-8 text-gray-800">Geyser Services &amp; Pricing</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-2" id="services-grid"><!-- Services will be populated by JavaScript -->
    </div>
   </div>
  </section><!-- Service Details -->
  <section class="py-16 bg-gradient-to-br from-red-50 to-orange-50">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Why Choose Our Geyser Services?</h3>
    <div class="max-w-6xl mx-auto">
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><!-- Expert Service Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-red-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">üë®‚Äçüîß</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Expert Technicians</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-red-500 mt-1">‚úì</span> <span>Certified geyser specialists</span></li>
        <li class="flex items-start space-x-2"><span class="text-red-500 mt-1">‚úì</span> <span>All brands expertise</span></li>
        <li class="flex items-start space-x-2"><span class="text-red-500 mt-1">‚úì</span> <span>Quick problem diagnosis</span></li>
        <li class="flex items-start space-x-2"><span class="text-red-500 mt-1">‚úì</span> <span>Professional service approach</span></li>
       </ul>
      </div><!-- Quality Parts Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-orange-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">‚öôÔ∏è</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Quality Parts</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-orange-500 mt-1">‚úì</span> <span>Original &amp; compatible parts</span></li>
        <li class="flex items-start space-x-2"><span class="text-orange-500 mt-1">‚úì</span> <span>Heating elements &amp; sensors</span></li>
        <li class="flex items-start space-x-2"><span class="text-orange-500 mt-1">‚úì</span> <span>Thermostats &amp; safety valves</span></li>
        <li class="flex items-start space-x-2"><span class="text-orange-500 mt-1">‚úì</span> <span>6 month parts warranty</span></li>
       </ul>
      </div><!-- Fast Service Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-yellow-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">‚ö°</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Fast Service</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>Same day service available</span></li>
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>Emergency repair support</span></li>
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>Quick installation service</span></li>
        <li class="flex items-start space-x-2"><span class="text-yellow-500 mt-1">‚úì</span> <span>24/7 customer support</span></li>
       </ul>
      </div>
     </div><!-- Additional Info Banner -->
     <div class="mt-8 bg-gradient-to-r from-red-500 to-orange-600 rounded-xl p-6 text-white text-center">
      <div class="flex items-center justify-center space-x-4"><span class="text-2xl">üèÜ</span>
       <div>
        <h5 class="font-bold text-lg">Complete Geyser Solutions</h5>
        <p class="text-sm opacity-90">Professional repair, installation &amp; maintenance with 6 month warranty</p>
       </div><span class="text-2xl">üî•</span>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="bg-gray-800 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-xl font-bold mb-4">Contact Information</h4>
      <div class="space-y-2 text-sm">
       <p>üìû <span id="footer-phone">8816014071</span></p>
       <p>‚úâÔ∏è <span id="footer-email">service@geyserrepair.com</span></p>
       <p>üìç <span id="office-address">Water Heater Service Center, Tech City</span></p>
      </div>
     </div>
     <div>
      <h4 class="text-xl font-bold mb-4">Our Services</h4>
      <ul class="space-y-2 text-sm">
       <li>‚Ä¢ Geyser Repair &amp; Diagnosis</li>
       <li>‚Ä¢ New Geyser Installation</li>
       <li>‚Ä¢ Heating Element Replacement</li>
       <li>‚Ä¢ Sensor &amp; Thermostat Repair</li>
      </ul>
     </div>
     <div>
      <h4 class="text-xl font-bold mb-4">Why Choose Us?</h4>
      <ul class="space-y-2 text-sm">
       <li>‚Ä¢ Expert Technicians</li>
       <li>‚Ä¢ Same Day Service</li>
       <li>‚Ä¢ 6 Month Warranty</li>
       <li>‚Ä¢ Quality Parts &amp; Service</li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm">
     <p>¬© 2024 Geyser Repair Service. All rights reserved.</p>
    </div>
   </div>
  </footer><!-- Cart Popup -->
  <div id="cart-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full popup-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4">
       <h3 class="text-xl font-bold">Your Cart</h3><button id="close-cart" class="text-gray-500 hover:text-gray-700">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg></button>
      </div>
      <div id="cart-items" class="space-y-3 mb-4"><!-- Cart items will be populated here -->
      </div>
      <div class="border-t pt-4">
       <div class="space-y-2 mb-4">
        <div class="flex justify-between items-center"><span class="text-gray-600">Service Total:</span> <span class="font-semibold">‚Çπ<span id="cart-total">0</span></span>
        </div>
        <div class="flex justify-between items-center"><span class="text-gray-600">Booking Amount:</span> <span class="font-semibold text-red-600">‚Çπ<span id="cart-pay-now">0</span></span>
        </div>
        <div class="flex justify-between items-center" id="remaining-payment-row"><span class="text-gray-600">Remaining Payment:</span> <span class="font-semibold text-orange-600">‚Çπ<span id="cart-remaining">0</span></span>
        </div>
        <div class="bg-orange-50 border border-orange-200 rounded p-2 text-xs text-orange-800"><span id="remaining-note">Remaining amount will be collected after service completion</span>
        </div>
       </div><button id="proceed-checkout" class="w-full btn-primary text-white py-3 rounded-lg font-semibold disabled:opacity-50" disabled> <span id="cart-button-text">Book Service</span> </button>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Checkout Form Popup -->
  <div id="checkout-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-start justify-center min-h-full p-2 py-4">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full popup-content" style="max-height: 90vh; overflow-y: auto;">
     <div class="sticky top-0 bg-white p-3 border-b flex justify-between items-center">
      <h3 class="text-lg font-bold">Customer Details</h3><button id="close-checkout" class="text-gray-500 hover:text-gray-700">
       <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
       </svg></button>
     </div>
     <div class="p-3">
      <form id="checkout-form" class="space-y-2">
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Customer Name *</label> <input type="text" id="customer-name" required class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Mobile Number *</label> <input type="tel" id="mobile-number" required pattern="[0-9]{10}" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Email ID *</label> <input type="email" id="email-id" required class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Full Address *</label> <textarea id="full-address" required rows="2" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent resize-none"></textarea>
       </div>
       <div class="grid grid-cols-2 gap-2">
        <div><label class="block text-xs font-medium text-gray-700 mb-1">Landmark</label> <input type="text" id="landmark" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent">
        </div>
        <div><label class="block text-xs font-medium text-gray-700 mb-1">Pincode *</label> <input type="text" id="pincode" required pattern="[0-9]{6}" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500 focus:border-transparent">
        </div>
       </div>
       <div class="border-t pt-2 mt-3">
        <div class="space-y-1 mb-2">
         <div class="flex justify-between items-center text-xs"><span class="text-gray-600">Service Total:</span> <span class="font-semibold">‚Çπ<span id="checkout-total">0</span></span>
         </div>
         <div class="flex justify-between items-center text-xs"><span class="text-gray-600">Booking Amount:</span> <span class="font-semibold text-red-600">‚Çπ<span id="checkout-pay-now">0</span></span>
         </div>
         <div class="flex justify-between items-center text-xs" id="checkout-remaining-row"><span class="text-gray-600">Remaining Payment:</span> <span class="font-semibold text-orange-600">‚Çπ<span id="checkout-remaining">0</span></span>
         </div>
         <div class="bg-red-50 border border-red-200 rounded p-1.5 mt-1">
          <p class="text-xs text-red-800"><strong>Note:</strong> <span id="payment-note">Booking amount ‚Çπ99. Remaining amount will be collected after service completion.</span></p>
         </div>
        </div><button type="submit" id="pay-now" class="w-full btn-primary text-white py-2 rounded font-semibold text-sm"> <span id="checkout-button-text">Pay Now</span> </button>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            company_name: "Geyser Repair Service",
            customer_care: "8816014071",
            email_address: "care@sonipathomeservice.com",
            office_address: "128/1, Sainipura, Sonipat"
        };

        // Geyser Services data
        const services = [
            {
                id: 1,
                name: "Geyser Service & Diagnose",
                price: 299,
                originalPrice: 389,
                icon: "üîç",
                description: "Complete geyser diagnosis and basic service",
                details: "Problem Detection ‚Ä¢ Basic Cleaning ‚Ä¢ Performance Check",
                features: [
                    "Complete system diagnosis",
                    "Heating element inspection",
                    "Thermostat checking",
                    "Water leakage detection",
                    "Performance testing",
                    "Basic cleaning service",
                    "Safety valve inspection",
                    "Professional report"
                ]
            },
            {
                id: 2,
                name: "Geyser Installation (New)",
                price: 499,
                originalPrice: 649,
                icon: "üîß",
                description: "Professional new geyser installation service",
                details: "Complete Setup ‚Ä¢ Pipe Connection ‚Ä¢ Safety Installation",
                features: [
                    "Professional installation",
                    "Pipe connection setup",
                    "Electrical wiring connection",
                    "Safety valve installation",
                    "Water pressure testing",
                    "System configuration",
                    "Installation warranty",
                    "Usage demonstration"
                ]
            },
            {
                id: 3,
                name: "Geyser Heating Rod Change",
                price: 699,
                originalPrice: 909,
                icon: "‚ö°",
                description: "Heating element replacement service",
                details: "Element Replacement ‚Ä¢ Testing ‚Ä¢ 6 Month Warranty",
                features: [
                    "Old element removal",
                    "New heating rod installation",
                    "Electrical connection setup",
                    "Insulation checking",
                    "Performance testing",
                    "Temperature calibration",
                    "6 month warranty",
                    "Quality assurance"
                ]
            },
            {
                id: 4,
                name: "Geyser Sensor Change Service",
                price: 299,
                originalPrice: 389,
                icon: "üå°Ô∏è",
                description: "Temperature sensor replacement service",
                details: "Sensor Replacement ‚Ä¢ Calibration ‚Ä¢ Testing",
                features: [
                    "Faulty sensor removal",
                    "New sensor installation",
                    "Temperature calibration",
                    "Thermostat adjustment",
                    "Safety testing",
                    "Performance verification",
                    "6 month warranty",
                    "Professional service"
                ]
            }
        ];

        // Cart functionality
        let cart = [];

        function renderServices() {
            const servicesGrid = document.getElementById('services-grid');
            servicesGrid.innerHTML = services.map(service => `
                <div class="service-card p-6">
                    <div class="service-card-content">
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-3 icon-hover">${service.icon}</div>
                            <h4 class="font-bold text-base mb-2 text-gray-800 leading-tight">${service.name}</h4>
                            <p class="text-gray-600 text-xs mb-2">${service.description}</p>
                            <p class="text-red-600 text-xs font-semibold">${service.details}</p>
                            <div class="warranty-badge mt-2">6 Month Warranty</div>
                        </div>
                        <div class="mb-4">
                            <ul class="feature-list text-xs text-gray-600">
                                ${service.features.slice(0, 4).map(feature => `<li>${feature}</li>`).join('')}
                                ${service.features.length > 4 ? `<li class="text-red-600 font-semibold">+${service.features.length - 4} more features</li>` : ''}
                            </ul>
                        </div>
                        <div class="text-center mb-4">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-xl font-bold text-red-600">‚Çπ${service.price.toLocaleString()}</span>
                                ${service.originalPrice ? `<span class="text-sm text-gray-500 line-through">‚Çπ${service.originalPrice.toLocaleString()}</span>` : ''}
                            </div>
                            ${service.originalPrice ? `<div class="savings-badge mt-1">Save ‚Çπ${(service.originalPrice - service.price).toLocaleString()}</div>` : ''}
                        </div>
                        <button onclick="addToCart(${service.id})" class="w-full btn-primary text-white py-2.5 rounded-lg font-semibold text-sm transform transition-transform hover:scale-105">
                            Book Service
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function addToCart(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const existingItem = cart.find(item => item.id === serviceId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...service, quantity: 1 });
            }
            
            updateCartUI();
            showCartPopup();
        }

        function removeFromCart(serviceId) {
            cart = cart.filter(item => item.id !== serviceId);
            updateCartUI();
            if (cart.length === 0) {
                hideCartPopup();
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const checkoutTotal = document.getElementById('checkout-total');
            const proceedBtn = document.getElementById('proceed-checkout');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Calculate payment amount (‚Çπ99 for all services)
            const payAmount = 99;
            
            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
                cartCount.classList.add('cart-badge');
            } else {
                cartCount.classList.add('hidden');
            }
            
            cartItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                    <div class="flex-1">
                        <h5 class="font-semibold text-sm">${item.name}</h5>
                        <p class="text-gray-600 text-xs">‚Çπ${item.price.toLocaleString()} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="font-bold">‚Çπ${(item.price * item.quantity).toLocaleString()}</span>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');
            
            cartTotal.textContent = totalAmount.toLocaleString();
            checkoutTotal.textContent = totalAmount.toLocaleString();
            
            // Update payment amount displays
            const cartPayNow = document.getElementById('cart-pay-now');
            const checkoutPayNow = document.getElementById('checkout-pay-now');
            const cartButtonText = document.getElementById('cart-button-text');
            const checkoutButtonText = document.getElementById('checkout-button-text');
            const paymentNote = document.getElementById('payment-note');
            const remainingAmount = totalAmount - payAmount;
            
            if (cartPayNow) cartPayNow.textContent = payAmount.toLocaleString();
            if (checkoutPayNow) checkoutPayNow.textContent = payAmount.toLocaleString();
            
            // Update remaining payment displays
            const cartRemaining = document.getElementById('cart-remaining');
            const checkoutRemaining = document.getElementById('checkout-remaining');
            const remainingPaymentRow = document.getElementById('remaining-payment-row');
            const checkoutRemainingRow = document.getElementById('checkout-remaining-row');
            const remainingNote = document.getElementById('remaining-note');
            
            if (cartButtonText) cartButtonText.textContent = `Book Service - Pay ‚Çπ${payAmount.toLocaleString()}`;
            if (checkoutButtonText) checkoutButtonText.textContent = `Pay Booking Amount ‚Çπ${payAmount.toLocaleString()}`;
            if (remainingPaymentRow) remainingPaymentRow.style.display = 'flex';
            if (checkoutRemainingRow) checkoutRemainingRow.style.display = 'flex';
            if (cartRemaining) cartRemaining.textContent = remainingAmount.toLocaleString();
            if (checkoutRemaining) checkoutRemaining.textContent = remainingAmount.toLocaleString();
            if (remainingNote) remainingNote.textContent = 'Remaining amount will be collected after service completion';
            
            // Update payment note
            if (paymentNote) {
                paymentNote.textContent = `Booking amount ‚Çπ${payAmount}. Remaining ‚Çπ${remainingAmount.toLocaleString()} will be collected after service completion.`;
            }
            
            proceedBtn.disabled = cart.length === 0;
        }

        function showCartPopup() {
            document.getElementById('cart-popup').classList.remove('hidden');
        }

        function hideCartPopup() {
            document.getElementById('cart-popup').classList.add('hidden');
        }

        function showCheckoutPopup() {
            hideCartPopup();
            document.getElementById('checkout-popup').classList.remove('hidden');
        }

        function hideCheckoutPopup() {
            document.getElementById('checkout-popup').classList.add('hidden');
        }

        // Razorpay payment integration
        function initiatePayment(customerData) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Standard booking amount for all services
            const payAmount = 99;
            
            const options = {
                key: 'rzp_live_RLjzp7VlXERwiG', // Replace with your actual Razorpay key
                amount: payAmount * 100, // Amount in paise
                currency: 'INR',
                name: 'Geyser Repair Service',
                description: 'Geyser Service Booking',
                image: 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiNlZjQ0NDQiPjxwYXRoIGQ9Ik05LDJWOEg3VjEwSDlWMTRIN1YxNkg5VjIySDExVjE2SDEzVjE0SDExVjEwSDEzVjhIMTFWMkg5TTEyLDQuNUEwLjUsMC41IDAgMCwxIDEyLjUsNUEwLjUsMC41IDAgMCwxIDEyLDUuNUEwLjUsMC41IDAgMCwxIDExLjUsNUEwLjUsMC41IDAgMCwxIDEyLDQuNU0xMiw2LjVBMC41LDAuNSAwIDAsMSAxMi41LDdBMC41LDAuNSAwIDAsMSAxMiw3LjVBMC41LDAuNSAwIDAsMSAxMS41LDdBMC41LDAuNSAwIDAsMSAxMiw2LjVNMTIsMTEuNUEwLjUsMC41IDAgMCwxIDEyLjUsMTJBMC41LDAuNSAwIDAsMSAxMiwxMi41QTAuNSwwLjUgMCAwLDEgMTEuNSwxMkEwLjUsMC41IDAgMCwxIDEyLDExLjVNMTIsMTcuNUEwLjUsMC41IDAgMCwxIDEyLjUsMThBMC41LDAuNSAwIDAsMSAxMiwxOC41QTAuNSwwLjUgMCAwLDEgMTEuNSwxOEEwLjUsMC41IDAgMCwxIDEyLDE3LjVNMTIsMTkuNUEwLjUsMC41IDAgMCwxIDEyLjUsMjBBMC41LDAuNSAwIDAsMSAxMiwyMC41QTAuNSwwLjUgMCAwLDEgMTEuNSwyMEEwLjUsMC41IDAgMCwxIDEyLDE5LjVaIi8+PC9zdmc+',
                prefill: {
                    name: customerData.name,
                    email: customerData.email,
                    contact: customerData.mobile
                },
                theme: {
                    color: '#ef4444'
                },
                handler: function(response) {
                    // Payment successful
                    submitToGoogleSheets(customerData, response.razorpay_payment_id);
                },
                modal: {
                    ondismiss: function() {
                        // Payment cancelled
                        console.log('Payment cancelled');
                    }
                }
            };
            
            const rzp = new Razorpay(options);
            rzp.open();
        }

        // Google Sheets integration
        async function submitToGoogleSheets(customerData, paymentId) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const payAmount = 99; // Standard booking amount
            const remainingAmount = totalAmount - payAmount;
            
            const formData = new FormData();
            formData.append('timestamp', new Date().toLocaleString('en-IN'));
            formData.append('customerName', customerData.name);
            formData.append('mobile', customerData.mobile);
            formData.append('email', customerData.email);
            formData.append('address', customerData.address);
            formData.append('landmark', customerData.landmark || '');
            formData.append('pincode', customerData.pincode);
            formData.append('orderItems', cart.map(item => `${item.name} (Qty: ${item.quantity})`).join(', '));
            formData.append('totalAmount', totalAmount);
            formData.append('paidAmount', payAmount);
            formData.append('remainingAmount', remainingAmount);
            formData.append('paymentId', paymentId);
            formData.append('status', 'Geyser Service Booking Confirmed - Remaining Payment After Service');

            try {
                // Show loading state
                showLoadingMessage();
                
                const response = await fetch('https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec', {
                    method: 'POST',
                    body: formData
                });

                // Hide loading and show success
                hideLoadingMessage();
                hideCheckoutPopup();
                showSuccessMessage();
                cart = [];
                updateCartUI();
                
            } catch (error) {
                console.error('Error submitting to Google Sheets:', error);
                hideLoadingMessage();
                showErrorMessage();
            }
        }

        function showLoadingMessage() {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading-message';
            loadingDiv.className = 'fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50';
            loadingDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>
                    <div>
                        <p class="font-semibold">Processing...</p>
                        <p class="text-sm">Saving your service booking</p>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingDiv);
        }

        function hideLoadingMessage() {
            const loadingDiv = document.getElementById('loading-message');
            if (loadingDiv) {
                loadingDiv.remove();
            }
        }

        function showSuccessMessage() {
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
            successDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="text-xl">‚úÖ</span>
                    <div>
                        <p class="font-semibold">Booking Successful!</p>
                        <p class="text-sm">Your geyser service booking confirmed.</p>
                    </div>
                </div>
            `;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }

        function showErrorMessage() {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50';
            errorDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="text-xl">‚ùå</span>
                    <div>
                        <p class="font-semibold">Error!</p>
                        <p class="text-sm">Please try again or contact support.</p>
                    </div>
                </div>
            `;
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            renderServices();
            updateCartUI();

            // Cart button
            document.getElementById('cart-btn').addEventListener('click', showCartPopup);
            
            // Close buttons
            document.getElementById('close-cart').addEventListener('click', hideCartPopup);
            document.getElementById('close-checkout').addEventListener('click', hideCheckoutPopup);
            
            // Proceed to checkout
            document.getElementById('proceed-checkout').addEventListener('click', showCheckoutPopup);
            
            // Checkout form
            document.getElementById('checkout-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const customerData = {
                    name: document.getElementById('customer-name').value,
                    mobile: document.getElementById('mobile-number').value,
                    email: document.getElementById('email-id').value,
                    address: document.getElementById('full-address').value,
                    landmark: document.getElementById('landmark').value,
                    pincode: document.getElementById('pincode').value
                };
                
                initiatePayment(customerData);
            });

            // Close popups when clicking outside
            document.getElementById('cart-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCartPopup();
            });
            
            document.getElementById('checkout-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCheckoutPopup();
            });
        });

        // Element SDK integration
        async function onConfigChange(config) {
            const companyNameElement = document.querySelector('#company-name a');
            if (companyNameElement) {
                companyNameElement.textContent = config.company_name || defaultConfig.company_name;
            }
            document.getElementById('customer-care').textContent = `üìû ${config.customer_care || defaultConfig.customer_care}`;
            document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
            document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
            document.getElementById('footer-phone').textContent = config.customer_care || defaultConfig.customer_care;
            document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["customer_care", config.customer_care || defaultConfig.customer_care],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9967489b30ef1c49',t:'MTc2MTc4OTI1NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
