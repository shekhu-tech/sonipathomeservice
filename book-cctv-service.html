<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CCTV Camera Installation &amp; Repair Service - Professional Security Solutions</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .service-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
            transform-style: preserve-3d;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 
                0 8px 32px rgba(0,0,0,0.1),
                0 4px 16px rgba(0,0,0,0.05),
                inset 0 1px 0 rgba(255,255,255,0.8);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
            margin: 8px;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(37,99,235,0.1) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }
        
        .service-card:hover::before {
            opacity: 1;
        }
        
        .service-card:hover {
            transform: translateY(-12px) rotateX(3deg) rotateY(3deg) scale(1.01);
            box-shadow: 
                0 25px 50px rgba(59,130,246,0.2),
                0 15px 30px rgba(0,0,0,0.1),
                0 8px 16px rgba(59,130,246,0.08),
                inset 0 2px 0 rgba(255,255,255,0.9);
            border-color: #3b82f6;
        }
        
        .service-card-content {
            position: relative;
            z-index: 2;
            transform: translateZ(20px);
        }
        
        .icon-hover {
            transition: all 0.3s ease;
        }
        
        .icon-hover:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }
        
        .popup-overlay {
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        .popup-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .cart-badge {
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }
        
        .service-icon {
            width: 48px;
            height: 48px;
        }
        
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .warranty-badge {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            display: inline-block;
            margin-top: 4px;
        }
        
        .demo-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }
        
        .feature-list li::before {
            content: '‚úì';
            color: #10b981;
            font-weight: bold;
            margin-right: 8px;
            font-size: 14px;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="min-h-full bg-gray-50"><!-- Header -->
  <header class="gradient-bg text-white shadow-lg sticky top-0 z-40">
   <div class="container mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
     <div class="flex items-center space-x-3">
      <div class="service-icon icon-hover">
       <svg viewbox="0 0 24 24" fill="currentColor" class="w-full h-full"><path d="M17,9H7V7A5,5 0 0,1 12,2A5,5 0 0,1 17,7V9M20,9A2,2 0 0,1 22,11V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V11A2,2 0 0,1 4,9H6V7A6,6 0 0,1 12,1A6,6 0 0,1 18,7V9H20M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z" />
       </svg>
      </div>
      <div>
       <h1 id="company-name" class="text-xl font-bold">CCTV Camera Installation Service</h1>
       <p class="text-sm opacity-90">Professional Security Solutions &amp; Repair</p>
      </div>
     </div>
     <div class="flex items-center space-x-4">
      <div class="text-right hidden md:block">
       <p id="customer-care" class="text-sm font-semibold">üìû 8816014071</p>
       <p id="email-address" class="text-xs opacity-90">security@cctvservice.com</p>
      </div><button id="cart-btn" class="relative bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-300"> <span class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7M9 3V4H15V3H9M7 6V19H17V6H7Z" />
        </svg><span>Cart</span> <span id="cart-count" class="bg-blue-500 text-white rounded-full px-2 py-1 text-xs hidden">0</span> </span> </button>
     </div>
    </div>
   </div>
  </header><!-- Hero Section -->
  <section class="gradient-bg text-white py-16">
   <div class="container mx-auto px-4 text-center">
    <div class="service-icon mx-auto mb-6 icon-hover">
     <svg viewbox="0 0 24 24" fill="currentColor" class="w-full h-full"><path d="M17,9H7V7A5,5 0 0,1 12,2A5,5 0 0,1 17,7V9M20,9A2,2 0 0,1 22,11V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V11A2,2 0 0,1 4,9H6V7A6,6 0 0,1 12,1A6,6 0 0,1 18,7V9H20M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z" />
     </svg>
    </div>
    <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-4">Professional CCTV Camera Installation &amp; Repair</h2>
    <p class="text-xl mb-4 opacity-90">Complete Security Solutions ‚Ä¢ 1 Year Warranty ‚Ä¢ Free Installation</p>
    <p class="text-sm mb-8 opacity-80 max-w-4xl mx-auto">Professional CCTV camera installation and repair services for homes, offices, and commercial spaces. High-quality cameras with complete setup and maintenance.</p>
    <div class="flex justify-center space-x-6 text-sm">
     <div class="flex items-center space-x-2"><span class="text-2xl">üìπ</span> <span>HD Cameras</span>
     </div>
     <div class="flex items-center space-x-2"><span class="text-2xl">üîß</span> <span>Free Installation</span>
     </div>
     <div class="flex items-center space-x-2"><span class="text-2xl">üõ°Ô∏è</span> <span>1 Year Warranty</span>
     </div>
    </div>
   </div>
  </section><!-- Services Section -->
  <section class="py-12 bg-white">
   <div class="container mx-auto px-4">
    <h3 class="text-2xl font-bold text-center mb-8 text-gray-800">CCTV Camera Packages &amp; Pricing</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-2" id="services-grid"><!-- Services will be populated by JavaScript -->
    </div>
   </div>
  </section><!-- Service Details -->
  <section class="py-16 bg-gradient-to-br from-blue-50 to-indigo-50">
   <div class="container mx-auto px-4">
    <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Why Choose Our CCTV Services?</h3>
    <div class="max-w-6xl mx-auto">
     <div class="grid grid-cols-1 md:grid-cols-3 gap-6"><!-- Installation Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-blue-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">üîß</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Professional Installation</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Free installation service</span></li>
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Expert technician team</span></li>
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>Complete wiring setup</span></li>
        <li class="flex items-start space-x-2"><span class="text-blue-500 mt-1">‚úì</span> <span>System configuration</span></li>
       </ul>
      </div><!-- Warranty Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-green-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">üõ°Ô∏è</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Complete Warranty</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>1 year warranty on all items</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>1 year free service</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>Free repair &amp; maintenance</span></li>
        <li class="flex items-start space-x-2"><span class="text-green-500 mt-1">‚úì</span> <span>24/7 technical support</span></li>
       </ul>
      </div><!-- Quality Card -->
      <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4 border-purple-500">
       <div class="text-center mb-4">
        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3"><span class="text-3xl">‚≠ê</span>
        </div>
        <h4 class="font-bold text-xl text-gray-800 mb-2">Premium Quality</h4>
       </div>
       <ul class="space-y-3 text-sm text-gray-600">
        <li class="flex items-start space-x-2"><span class="text-purple-500 mt-1">‚úì</span> <span>HD &amp; Full HD cameras</span></li>
        <li class="flex items-start space-x-2"><span class="text-purple-500 mt-1">‚úì</span> <span>Night vision capability</span></li>
        <li class="flex items-start space-x-2"><span class="text-purple-500 mt-1">‚úì</span> <span>Weather resistant</span></li>
        <li class="flex items-start space-x-2"><span class="text-purple-500 mt-1">‚úì</span> <span>Mobile app monitoring</span></li>
       </ul>
      </div>
     </div><!-- Additional Info Banner -->
     <div class="mt-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white text-center">
      <div class="flex items-center justify-center space-x-4"><span class="text-2xl">üèÜ</span>
       <div>
        <h5 class="font-bold text-lg">Complete CCTV Security Solutions</h5>
        <p class="text-sm opacity-90">Professional installation with 1 year warranty and free service support</p>
       </div><span class="text-2xl">üìπ</span>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="bg-gray-800 text-white py-12">
   <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div>
      <h4 class="text-xl font-bold mb-4">Contact Information</h4>
      <div class="space-y-2 text-sm">
       <p>üìû <span id="footer-phone">8816014071</span></p>
       <p>‚úâÔ∏è <span id="footer-email">security@cctvservice.com</span></p>
       <p>üìç <span id="office-address">Security Solutions Center, Tech City</span></p>
      </div>
     </div>
     <div>
      <h4 class="text-xl font-bold mb-4">Our Services</h4>
      <ul class="space-y-2 text-sm">
       <li>‚Ä¢ CCTV Camera Installation</li>
       <li>‚Ä¢ Security System Repair</li>
       <li>‚Ä¢ HD &amp; IP Camera Setup</li>
       <li>‚Ä¢ 24/7 Monitoring Solutions</li>
      </ul>
     </div>
     <div>
      <h4 class="text-xl font-bold mb-4">Why Choose Us?</h4>
      <ul class="space-y-2 text-sm">
       <li>‚Ä¢ Professional Installation</li>
       <li>‚Ä¢ 1 Year Complete Warranty</li>
       <li>‚Ä¢ Free Service &amp; Support</li>
       <li>‚Ä¢ Premium Quality Equipment</li>
      </ul>
     </div>
    </div>
    <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm">
     <p>¬© 2024 CCTV Camera Installation Service. All rights reserved.</p>
    </div>
   </div>
  </footer><!-- Cart Popup -->
  <div id="cart-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-center justify-center min-h-full p-4">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full popup-content">
     <div class="p-6">
      <div class="flex justify-between items-center mb-4">
       <h3 class="text-xl font-bold">Your Cart</h3><button id="close-cart" class="text-gray-500 hover:text-gray-700">
        <svg class="w-6 h-6" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
        </svg></button>
      </div>
      <div id="cart-items" class="space-y-3 mb-4"><!-- Cart items will be populated here -->
      </div>
      <div class="border-t pt-4">
       <div class="space-y-2 mb-4">
        <div class="flex justify-between items-center"><span class="text-gray-600">Service Total:</span> <span class="font-semibold">‚Çπ<span id="cart-total">0</span></span>
        </div>
        <div class="border-t pt-2 flex justify-between items-center"><span class="font-bold text-lg">Payment Amount:</span> <span class="font-bold text-lg text-blue-600">‚Çπ<span id="cart-pay-now">0</span></span>
        </div>
       </div><button id="proceed-checkout" class="w-full btn-primary text-white py-3 rounded-lg font-semibold disabled:opacity-50" disabled> <span id="cart-button-text">Book Service</span> </button>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Checkout Form Popup -->
  <div id="checkout-popup" class="fixed inset-0 bg-black bg-opacity-50 popup-overlay hidden z-50">
   <div class="flex items-start justify-center min-h-full p-2 py-4">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full popup-content" style="max-height: 90vh; overflow-y: auto;">
     <div class="sticky top-0 bg-white p-3 border-b flex justify-between items-center">
      <h3 class="text-lg font-bold">Customer Details</h3><button id="close-checkout" class="text-gray-500 hover:text-gray-700">
       <svg class="w-5 h-5" fill="currentColor" viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
       </svg></button>
     </div>
     <div class="p-3">
      <form id="checkout-form" class="space-y-2">
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Customer Name *</label> <input type="text" id="customer-name" required class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Mobile Number *</label> <input type="tel" id="mobile-number" required pattern="[0-9]{10}" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Email ID *</label> <input type="email" id="email-id" required class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent">
       </div>
       <div><label class="block text-xs font-medium text-gray-700 mb-1">Full Address *</label> <textarea id="full-address" required rows="2" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent resize-none"></textarea>
       </div>
       <div class="grid grid-cols-2 gap-2">
        <div><label class="block text-xs font-medium text-gray-700 mb-1">Landmark</label> <input type="text" id="landmark" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent">
        </div>
        <div><label class="block text-xs font-medium text-gray-700 mb-1">Pincode *</label> <input type="text" id="pincode" required pattern="[0-9]{6}" class="w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent">
        </div>
       </div>
       <div class="border-t pt-2 mt-3">
        <div class="space-y-1 mb-2">
         <div class="flex justify-between items-center text-xs"><span class="text-gray-600">Service Total:</span> <span class="font-semibold">‚Çπ<span id="checkout-total">0</span></span>
         </div>
         <div class="border-t pt-1 flex justify-between items-center"><span class="font-bold text-sm">Payment Amount:</span> <span class="font-bold text-blue-600 text-sm">‚Çπ<span id="checkout-pay-now">0</span></span>
         </div>
         <div class="bg-blue-50 border border-blue-200 rounded p-1.5 mt-1">
          <p class="text-xs text-blue-800"><strong>Note:</strong> <span id="payment-note">Complete payment for CCTV installation service.</span></p>
         </div>
        </div><button type="submit" id="pay-now" class="w-full btn-primary text-white py-2 rounded font-semibold text-sm"> <span id="checkout-button-text">Pay Now</span> </button>
       </div>
      </form>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            company_name: "CCTV Camera Installation Service",
            customer_care: "8816014071",
            email_address: "security@cctvservice.com",
            office_address: "Security Solutions Center, Tech City"
        };

        // CCTV Services data
        const services = [
            {
                id: 1,
                name: "Demo Payment Test",
                price: 1,
                originalPrice: null,
                icon: "üß™",
                description: "Test payment functionality with ‚Çπ1",
                details: "Demo Category ‚Ä¢ Test Payment Only",
                features: [
                    "Payment gateway testing",
                    "Order processing demo",
                    "System functionality check"
                ],
                isDemo: true
            },
            {
                id: 2,
                name: "AHD 4 Camera Set",
                price: 16000,
                originalPrice: null,
                icon: "üìπ",
                description: "Complete AHD 4 camera security system with DVR",
                details: "4 Cameras ‚Ä¢ 1 DVR ‚Ä¢ 500GB HDD ‚Ä¢ 1 Year Warranty",
                features: [
                    "4 AHD Cameras",
                    "1 DVR 4 Channel",
                    "Supply - 4 Channel",
                    "1 HDD - 500 GB",
                    "3+1 Wire 90 Meters",
                    "Free Installation",
                    "1 Year Warranty",
                    "1 Year Free Service"
                ]
            },
            {
                id: 3,
                name: "IP Camera 4 Camera Set",
                price: 24000,
                originalPrice: null,
                icon: "üåê",
                description: "Advanced IP camera system with NVR and POE",
                details: "4 IP Cameras ‚Ä¢ 1 NVR ‚Ä¢ POE Switch ‚Ä¢ 1 Year Warranty",
                features: [
                    "4 IP Cameras",
                    "1 NVR 4 Channel",
                    "1 POE 4 Channel",
                    "CAT-6 Wire 90 Meters",
                    "1 HDD - 500 GB",
                    "Remote Monitoring",
                    "1 Year Warranty",
                    "1 Year Free Service"
                ]
            },
            {
                id: 4,
                name: "AHD 8 Camera Set",
                price: 24000,
                originalPrice: null,
                icon: "üè¢",
                description: "Extended AHD 8 camera system for larger areas",
                details: "8 Cameras ‚Ä¢ 1 DVR ‚Ä¢ 1TB HDD ‚Ä¢ 1 Year Warranty",
                features: [
                    "8 AHD Cameras",
                    "1 DVR 8 Channel",
                    "Supply - 8 Channel",
                    "HDD - 1TB",
                    "3+1 Wire 180 Meters",
                    "Complete Coverage",
                    "1 Year Warranty",
                    "1 Year Free Service"
                ]
            },
            {
                id: 5,
                name: "IP Camera 8 Camera Set",
                price: 34000,
                originalPrice: null,
                icon: "üè≠",
                description: "Premium IP camera system for comprehensive security",
                details: "8 IP Cameras ‚Ä¢ 1 NVR ‚Ä¢ POE Switch ‚Ä¢ 1 Year Warranty",
                features: [
                    "8 IP Cameras",
                    "1 NVR 8 Channel",
                    "1 POE 8 Channel",
                    "CAT-6 Wire 180 Meters",
                    "HDD - 1TB",
                    "Advanced Features",
                    "1 Year Warranty",
                    "1 Year Free Service"
                ]
            }
        ];

        // Cart functionality
        let cart = [];

        function renderServices() {
            const servicesGrid = document.getElementById('services-grid');
            servicesGrid.innerHTML = services.map(service => `
                <div class="service-card p-6">
                    <div class="service-card-content">
                        ${service.isDemo ? '<div class="demo-badge">DEMO CATEGORY</div>' : ''}
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-3 icon-hover">${service.icon}</div>
                            <h4 class="font-bold text-base mb-2 text-gray-800 leading-tight">${service.name}</h4>
                            <p class="text-gray-600 text-xs mb-2">${service.description}</p>
                            <p class="text-blue-600 text-xs font-semibold">${service.details}</p>
                            ${!service.isDemo ? '<div class="warranty-badge mt-2">1 Year Warranty + Free Service</div>' : ''}
                        </div>
                        <div class="mb-4">
                            <ul class="feature-list text-xs text-gray-600">
                                ${service.features.slice(0, 4).map(feature => `<li>${feature}</li>`).join('')}
                                ${service.features.length > 4 ? `<li class="text-blue-600 font-semibold">+${service.features.length - 4} more features</li>` : ''}
                            </ul>
                        </div>
                        <div class="text-center mb-4">
                            <div class="flex items-center justify-center space-x-2">
                                <span class="text-xl font-bold text-blue-600">‚Çπ${service.price.toLocaleString()}</span>
                                ${service.originalPrice ? `<span class="text-sm text-gray-500 line-through">‚Çπ${service.originalPrice.toLocaleString()}</span>` : ''}
                            </div>
                            ${service.originalPrice ? `<div class="text-xs text-blue-600 font-semibold">Save ‚Çπ${(service.originalPrice - service.price).toLocaleString()}</div>` : ''}
                        </div>
                        <button onclick="addToCart(${service.id})" class="w-full btn-primary text-white py-2.5 rounded-lg font-semibold text-sm transform transition-transform hover:scale-105">
                            Add to Cart
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function addToCart(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const existingItem = cart.find(item => item.id === serviceId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...service, quantity: 1 });
            }
            
            updateCartUI();
            showCartPopup();
        }

        function removeFromCart(serviceId) {
            cart = cart.filter(item => item.id !== serviceId);
            updateCartUI();
            if (cart.length === 0) {
                hideCartPopup();
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const checkoutTotal = document.getElementById('checkout-total');
            const proceedBtn = document.getElementById('proceed-checkout');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Calculate payment amount (full amount for CCTV services)
            const payAmount = totalAmount;
            
            if (totalItems > 0) {
                cartCount.textContent = totalItems;
                cartCount.classList.remove('hidden');
                cartCount.classList.add('cart-badge');
            } else {
                cartCount.classList.add('hidden');
            }
            
            cartItems.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                    <div class="flex-1">
                        <h5 class="font-semibold text-sm">${item.name}</h5>
                        <p class="text-gray-600 text-xs">‚Çπ${item.price.toLocaleString()} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="font-bold">‚Çπ${(item.price * item.quantity).toLocaleString()}</span>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');
            
            cartTotal.textContent = totalAmount.toLocaleString();
            checkoutTotal.textContent = totalAmount.toLocaleString();
            
            // Update payment amount displays
            const cartPayNow = document.getElementById('cart-pay-now');
            const checkoutPayNow = document.getElementById('checkout-pay-now');
            const cartButtonText = document.getElementById('cart-button-text');
            const checkoutButtonText = document.getElementById('checkout-button-text');
            const paymentNote = document.getElementById('payment-note');
            
            if (cartPayNow) cartPayNow.textContent = payAmount.toLocaleString();
            if (checkoutPayNow) checkoutPayNow.textContent = payAmount.toLocaleString();
            if (cartButtonText) cartButtonText.textContent = `Book Service - Pay ‚Çπ${payAmount.toLocaleString()}`;
            if (checkoutButtonText) checkoutButtonText.textContent = `Pay ‚Çπ${payAmount.toLocaleString()}`;
            
            // Update payment note
            if (paymentNote) {
                const hasDemo = cart.some(item => item.isDemo);
                if (hasDemo) {
                    paymentNote.textContent = `Complete payment for CCTV installation service. Demo payment for testing purposes.`;
                } else {
                    paymentNote.textContent = `Complete payment for CCTV installation service. Installation will be scheduled after payment confirmation.`;
                }
            }
            
            proceedBtn.disabled = cart.length === 0;
        }

        function showCartPopup() {
            document.getElementById('cart-popup').classList.remove('hidden');
        }

        function hideCartPopup() {
            document.getElementById('cart-popup').classList.add('hidden');
        }

        function showCheckoutPopup() {
            hideCartPopup();
            document.getElementById('checkout-popup').classList.remove('hidden');
        }

        function hideCheckoutPopup() {
            document.getElementById('checkout-popup').classList.add('hidden');
        }

        // Razorpay payment integration
        function initiatePayment(customerData) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const payAmount = totalAmount; // Full payment for CCTV services
            
            const options = {
                key: 'rzp_live_RLjzp7VlXERwiG', // Replace with your actual Razorpay key
                amount: payAmount * 100, // Amount in paise
                currency: 'INR',
                name: 'CCTV Camera Installation Service',
                description: 'CCTV Security System',
                image: 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiMzYjgyZjYiPjxwYXRoIGQ9Ik0xNyw5SDdWN0E1LDUgMCAwLDEgMTIsQUE1LDUgMCAwLDEgMTcsN1Y5TTIwLDlBMiwyIDAgMCwxIDIyLDExVjIwQTIsMiAwIDAsMSAyMCwyMkg0QTIsMiAwIDAsMSAyLDIwVjExQTIsMiAwIDAsMSA0LDlINlY3QTYsNiAwIDAsMSAxMiwxQTYsNiAwIDAsMSAxOCw3VjlIMjBNMTIsMTdBMiwyIDAgMCwwIDE0LDE1QTIsMiAwIDAsMCAxMiwxM0EyLDIgMCAwLDAgMTAsMTVBMiwyIDAgMCwwIDEyLDE3WiIvPjwvc3ZnPg==',
                prefill: {
                    name: customerData.name,
                    email: customerData.email,
                    contact: customerData.mobile
                },
                theme: {
                    color: '#3b82f6'
                },
                handler: function(response) {
                    // Payment successful
                    submitToGoogleSheets(customerData, response.razorpay_payment_id);
                },
                modal: {
                    ondismiss: function() {
                        // Payment cancelled
                        console.log('Payment cancelled');
                    }
                }
            };
            
            const rzp = new Razorpay(options);
            rzp.open();
        }

        // Google Sheets integration
        async function submitToGoogleSheets(customerData, paymentId) {
            const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const payAmount = totalAmount; // Full payment for CCTV services
            
            const formData = new FormData();
            formData.append('timestamp', new Date().toLocaleString('en-IN'));
            formData.append('customerName', customerData.name);
            formData.append('mobile', customerData.mobile);
            formData.append('email', customerData.email);
            formData.append('address', customerData.address);
            formData.append('landmark', customerData.landmark || '');
            formData.append('pincode', customerData.pincode);
            formData.append('orderItems', cart.map(item => `${item.name} (Qty: ${item.quantity})`).join(', '));
            formData.append('totalAmount', totalAmount);
            formData.append('paidAmount', payAmount);
            formData.append('paymentId', paymentId);
            formData.append('status', 'CCTV Installation Booking Confirmed');

            try {
                // Show loading state
                showLoadingMessage();
                
                const response = await fetch('https://script.google.com/macros/s/AKfycbwR2uJ2Uslimb7A04lHdd9JwKdk-d02iqVO-PAht9CRUw9rRcusnGAdAjCT07SjZHiO/exec', {
                    method: 'POST',
                    body: formData
                });

                // Hide loading and show success
                hideLoadingMessage();
                hideCheckoutPopup();
                showSuccessMessage();
                cart = [];
                updateCartUI();
                
            } catch (error) {
                console.error('Error submitting to Google Sheets:', error);
                hideLoadingMessage();
                showErrorMessage();
            }
        }

        function showLoadingMessage() {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading-message';
            loadingDiv.className = 'fixed top-4 right-4 bg-blue-500 text-white p-4 rounded-lg shadow-lg z-50';
            loadingDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white"></div>
                    <div>
                        <p class="font-semibold">Processing...</p>
                        <p class="text-sm">Saving your booking details</p>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingDiv);
        }

        function hideLoadingMessage() {
            const loadingDiv = document.getElementById('loading-message');
            if (loadingDiv) {
                loadingDiv.remove();
            }
        }

        function showSuccessMessage() {
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed top-4 right-4 bg-green-500 text-white p-4 rounded-lg shadow-lg z-50';
            successDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="text-xl">‚úÖ</span>
                    <div>
                        <p class="font-semibold">Payment Successful!</p>
                        <p class="text-sm">Your CCTV installation booking confirmed.</p>
                    </div>
                </div>
            `;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }

        function showErrorMessage() {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50';
            errorDiv.innerHTML = `
                <div class="flex items-center space-x-2">
                    <span class="text-xl">‚ùå</span>
                    <div>
                        <p class="font-semibold">Error!</p>
                        <p class="text-sm">Please try again or contact support.</p>
                    </div>
                </div>
            `;
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            renderServices();
            updateCartUI();

            // Cart button
            document.getElementById('cart-btn').addEventListener('click', showCartPopup);
            
            // Close buttons
            document.getElementById('close-cart').addEventListener('click', hideCartPopup);
            document.getElementById('close-checkout').addEventListener('click', hideCheckoutPopup);
            
            // Proceed to checkout
            document.getElementById('proceed-checkout').addEventListener('click', showCheckoutPopup);
            
            // Checkout form
            document.getElementById('checkout-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const customerData = {
                    name: document.getElementById('customer-name').value,
                    mobile: document.getElementById('mobile-number').value,
                    email: document.getElementById('email-id').value,
                    address: document.getElementById('full-address').value,
                    landmark: document.getElementById('landmark').value,
                    pincode: document.getElementById('pincode').value
                };
                
                initiatePayment(customerData);
            });

            // Close popups when clicking outside
            document.getElementById('cart-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCartPopup();
            });
            
            document.getElementById('checkout-popup').addEventListener('click', function(e) {
                if (e.target === this) hideCheckoutPopup();
            });
        });

        // Element SDK integration
        async function onConfigChange(config) {
            document.getElementById('company-name').textContent = config.company_name || defaultConfig.company_name;
            document.getElementById('customer-care').textContent = `üìû ${config.customer_care || defaultConfig.customer_care}`;
            document.getElementById('email-address').textContent = config.email_address || defaultConfig.email_address;
            document.getElementById('office-address').textContent = config.office_address || defaultConfig.office_address;
            document.getElementById('footer-phone').textContent = config.customer_care || defaultConfig.customer_care;
            document.getElementById('footer-email').textContent = config.email_address || defaultConfig.email_address;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["customer_care", config.customer_care || defaultConfig.customer_care],
                ["email_address", config.email_address || defaultConfig.email_address],
                ["office_address", config.office_address || defaultConfig.office_address]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99670c08f3ef59d8',t:'MTc2MTc4Njc3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
